(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qn(e,a){const t=new Set(e.split(","));return n=>t.has(n)}const me={},Ft=[],lt=()=>{},To=()=>!1,Ia=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jn=e=>e.startsWith("onUpdate:"),ze=Object.assign,In=(e,a)=>{const t=e.indexOf(a);t>-1&&e.splice(t,1)},No=Object.prototype.hasOwnProperty,he=(e,a)=>No.call(e,a),se=Array.isArray,na=e=>Va(e)==="[object Map]",Ao=e=>Va(e)==="[object Set]",oe=e=>typeof e=="function",Te=e=>typeof e=="string",Kt=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",ui=e=>(Se(e)||oe(e))&&oe(e.then)&&oe(e.catch),Oo=Object.prototype.toString,Va=e=>Oo.call(e),Lo=e=>Va(e).slice(8,-1),Ho=e=>Va(e)==="[object Object]",Vn=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ra=qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fa=e=>{const a=Object.create(null);return t=>a[t]||(a[t]=e(t))},$o=/-(\w)/g,at=Fa(e=>e.replace($o,(a,t)=>t?t.toUpperCase():"")),zo=/\B([A-Z])/g,Pt=Fa(e=>e.replace(zo,"-$1").toLowerCase()),Ua=Fa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Za=Fa(e=>e?`on${Ua(e)}`:""),zt=(e,a)=>!Object.is(e,a),Qa=(e,...a)=>{for(let t=0;t<e.length;t++)e[t](...a)},fi=(e,a,t,n=!1)=>{Object.defineProperty(e,a,{configurable:!0,enumerable:!1,writable:n,value:t})},Po=e=>{const a=parseFloat(e);return isNaN(a)?e:a};let pr;const pi=()=>pr||(pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fn(e){if(se(e)){const a={};for(let t=0;t<e.length;t++){const n=e[t],o=Te(n)?Io(n):Fn(n);if(o)for(const i in o)a[i]=o[i]}return a}else if(Te(e)||Se(e))return e}const Ro=/;(?![^(]*\))/g,qo=/:([^]+)/,jo=/\/\*[^]*?\*\//g;function Io(e){const a={};return e.replace(jo,"").split(Ro).forEach(t=>{if(t){const n=t.split(qo);n.length>1&&(a[n[0].trim()]=n[1].trim())}}),a}function Un(e){let a="";if(Te(e))a=e;else if(se(e))for(let t=0;t<e.length;t++){const n=Un(e[t]);n&&(a+=n+" ")}else if(Se(e))for(const t in e)e[t]&&(a+=t+" ");return a.trim()}const Vo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fo=qn(Vo);function gi(e){return!!e||e===""}/**
* @vue/reactivity v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ye;class Uo{constructor(a=!1){this.detached=a,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ye,!a&&Ye&&(this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let a,t;if(this.scopes)for(a=0,t=this.scopes.length;a<t;a++)this.scopes[a].pause();for(a=0,t=this.effects.length;a<t;a++)this.effects[a].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let a,t;if(this.scopes)for(a=0,t=this.scopes.length;a<t;a++)this.scopes[a].resume();for(a=0,t=this.effects.length;a<t;a++)this.effects[a].resume()}}run(a){if(this._active){const t=Ye;try{return Ye=this,a()}finally{Ye=t}}}on(){Ye=this}off(){Ye=this.parent}stop(a){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!a){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Yo(){return Ye}let fe;const en=new WeakSet;class mi{constructor(a){this.fn=a,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Ye&&Ye.active&&Ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,en.has(this)&&(en.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=ia,ia=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gr(this),yi(this);const a=fe,t=tt;fe=this,tt=!0;try{return this.fn()}finally{bi(this),fe=a,tt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let a=this.deps;a;a=a.nextDep)Wn(a);this.deps=this.depsTail=void 0,gr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?en.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){pn(this)&&this.run()}get dirty(){return pn(this)}}let vi=0,ia;function Yn(){vi++}function Bn(){if(--vi>0)return;let e;for(;ia;){let a=ia;for(ia=void 0;a;){const t=a.nextEffect;if(a.nextEffect=void 0,a.flags&=-9,a.flags&1)try{a.trigger()}catch(n){e||(e=n)}a=t}}if(e)throw e}function yi(e){for(let a=e.deps;a;a=a.nextDep)a.version=-1,a.prevActiveLink=a.dep.activeLink,a.dep.activeLink=a}function bi(e){let a,t=e.depsTail;for(let n=t;n;n=n.prevDep)n.version===-1?(n===t&&(t=n.prevDep),Wn(n),Bo(n)):a=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0;e.deps=a,e.depsTail=t}function pn(e){for(let a=e.deps;a;a=a.nextDep)if(a.dep.version!==a.version||a.dep.computed&&xi(a.dep.computed)===!1||a.dep.version!==a.version)return!0;return!!e._dirty}function xi(e){if(e.flags&2)return!1;if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===la))return;e.globalVersion=la;const a=e.dep;if(e.flags|=2,a.version>0&&!e.isSSR&&!pn(e)){e.flags&=-3;return}const t=fe,n=tt;fe=e,tt=!0;try{yi(e);const o=e.fn(e._value);(a.version===0||zt(o,e._value))&&(e._value=o,a.version++)}catch(o){throw a.version++,o}finally{fe=t,tt=n,bi(e),e.flags&=-3}}function Wn(e){const{dep:a,prevSub:t,nextSub:n}=e;if(t&&(t.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=t,e.nextSub=void 0),a.subs===e&&(a.subs=t),!a.subs&&a.computed){a.computed.flags&=-5;for(let o=a.computed.deps;o;o=o.nextDep)Wn(o)}}function Bo(e){const{prevDep:a,nextDep:t}=e;a&&(a.nextDep=t,e.prevDep=void 0),t&&(t.prevDep=a,e.nextDep=void 0)}let tt=!0;const wi=[];function Tt(){wi.push(tt),tt=!1}function Nt(){const e=wi.pop();tt=e===void 0?!0:e}function gr(e){const{cleanup:a}=e;if(e.cleanup=void 0,a){const t=fe;fe=void 0;try{a()}finally{fe=t}}}let la=0;class ki{constructor(a){this.computed=a,this.version=0,this.activeLink=void 0,this.subs=void 0}track(a){if(!fe||!tt||fe===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==fe)t=this.activeLink={dep:this,sub:fe,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},fe.deps?(t.prevDep=fe.depsTail,fe.depsTail.nextDep=t,fe.depsTail=t):fe.deps=fe.depsTail=t,fe.flags&4&&Ei(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=fe.depsTail,t.nextDep=void 0,fe.depsTail.nextDep=t,fe.depsTail=t,fe.deps===t&&(fe.deps=n)}return t}trigger(a){this.version++,la++,this.notify(a)}notify(a){Yn();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()}finally{Bn()}}}function Ei(e){const a=e.dep.computed;if(a&&!e.dep.subs){a.flags|=20;for(let n=a.deps;n;n=n.nextDep)Ei(n)}const t=e.dep.subs;t!==e&&(e.prevSub=t,t&&(t.nextSub=e)),e.dep.subs=e}const gn=new WeakMap,Ht=Symbol(""),mn=Symbol(""),ca=Symbol("");function Pe(e,a,t){if(tt&&fe){let n=gn.get(e);n||gn.set(e,n=new Map);let o=n.get(t);o||n.set(t,o=new ki),o.track()}}function yt(e,a,t,n,o,i){const d=gn.get(e);if(!d){la++;return}let _=[];if(a==="clear")_=[...d.values()];else{const r=se(e),s=r&&Vn(t);if(r&&t==="length"){const l=Number(n);d.forEach((h,v)=>{(v==="length"||v===ca||!Kt(v)&&v>=l)&&_.push(h)})}else{const l=h=>h&&_.push(h);switch(t!==void 0&&l(d.get(t)),s&&l(d.get(ca)),a){case"add":r?s&&l(d.get("length")):(l(d.get(Ht)),na(e)&&l(d.get(mn)));break;case"delete":r||(l(d.get(Ht)),na(e)&&l(d.get(mn)));break;case"set":na(e)&&l(d.get(Ht));break}}}Yn();for(const r of _)r.trigger();Bn()}function Rt(e){const a=ue(e);return a===e?a:(Pe(a,"iterate",ca),ct(e)?a:a.map(Be))}function Jn(e){return Pe(e=ue(e),"iterate",ca),e}const Wo={__proto__:null,[Symbol.iterator](){return tn(this,Symbol.iterator,Be)},concat(...e){return Rt(this).concat(...e.map(a=>se(a)?Rt(a):a))},entries(){return tn(this,"entries",e=>(e[1]=Be(e[1]),e))},every(e,a){return pt(this,"every",e,a,void 0,arguments)},filter(e,a){return pt(this,"filter",e,a,t=>t.map(Be),arguments)},find(e,a){return pt(this,"find",e,a,Be,arguments)},findIndex(e,a){return pt(this,"findIndex",e,a,void 0,arguments)},findLast(e,a){return pt(this,"findLast",e,a,Be,arguments)},findLastIndex(e,a){return pt(this,"findLastIndex",e,a,void 0,arguments)},forEach(e,a){return pt(this,"forEach",e,a,void 0,arguments)},includes(...e){return an(this,"includes",e)},indexOf(...e){return an(this,"indexOf",e)},join(e){return Rt(this).join(e)},lastIndexOf(...e){return an(this,"lastIndexOf",e)},map(e,a){return pt(this,"map",e,a,void 0,arguments)},pop(){return Gt(this,"pop")},push(...e){return Gt(this,"push",e)},reduce(e,...a){return mr(this,"reduce",e,a)},reduceRight(e,...a){return mr(this,"reduceRight",e,a)},shift(){return Gt(this,"shift")},some(e,a){return pt(this,"some",e,a,void 0,arguments)},splice(...e){return Gt(this,"splice",e)},toReversed(){return Rt(this).toReversed()},toSorted(e){return Rt(this).toSorted(e)},toSpliced(...e){return Rt(this).toSpliced(...e)},unshift(...e){return Gt(this,"unshift",e)},values(){return tn(this,"values",Be)}};function tn(e,a,t){const n=Jn(e),o=n[a]();return n!==e&&!ct(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.value&&(i.value=t(i.value)),i}),o}const Jo=Array.prototype;function pt(e,a,t,n,o,i){const d=Jn(e),_=d!==e&&!ct(e),r=d[a];if(r!==Jo[a]){const h=r.apply(e,i);return _?Be(h):h}let s=t;d!==e&&(_?s=function(h,v){return t.call(this,Be(h),v,e)}:t.length>2&&(s=function(h,v){return t.call(this,h,v,e)}));const l=r.call(d,s,n);return _&&o?o(l):l}function mr(e,a,t,n){const o=Jn(e);let i=t;return o!==e&&(ct(e)?t.length>3&&(i=function(d,_,r){return t.call(this,d,_,r,e)}):i=function(d,_,r){return t.call(this,d,Be(_),r,e)}),o[a](i,...n)}function an(e,a,t){const n=ue(e);Pe(n,"iterate",ca);const o=n[a](...t);return(o===-1||o===!1)&&Qn(t[0])?(t[0]=ue(t[0]),n[a](...t)):o}function Gt(e,a,t=[]){Tt(),Yn();const n=ue(e)[a].apply(e,t);return Bn(),Nt(),n}const Ko=qn("__proto__,__v_isRef,__isVue"),Si=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Kt));function Xo(e){Kt(e)||(e=String(e));const a=ue(this);return Pe(a,"has",e),a.hasOwnProperty(e)}class Di{constructor(a=!1,t=!1){this._isReadonly=a,this._isShallow=t}get(a,t,n){const o=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return i;if(t==="__v_raw")return n===(o?i?_s:Ni:i?Ti:Ci).get(a)||Object.getPrototypeOf(a)===Object.getPrototypeOf(n)?a:void 0;const d=se(a);if(!o){let r;if(d&&(r=Wo[t]))return r;if(t==="hasOwnProperty")return Xo}const _=Reflect.get(a,t,Ie(a)?a:n);return(Kt(t)?Si.has(t):Ko(t))||(o||Pe(a,"get",t),i)?_:Ie(_)?d&&Vn(t)?_:_.value:Se(_)?o?Ai(_):Gn(_):_}}class Mi extends Di{constructor(a=!1){super(!1,a)}set(a,t,n,o){let i=a[t];if(!this._isShallow){const r=Wt(i);if(!ct(n)&&!Wt(n)&&(i=ue(i),n=ue(n)),!se(a)&&Ie(i)&&!Ie(n))return r?!1:(i.value=n,!0)}const d=se(a)&&Vn(t)?Number(t)<a.length:he(a,t),_=Reflect.set(a,t,n,Ie(a)?a:o);return a===ue(o)&&(d?zt(n,i)&&yt(a,"set",t,n):yt(a,"add",t,n)),_}deleteProperty(a,t){const n=he(a,t);a[t];const o=Reflect.deleteProperty(a,t);return o&&n&&yt(a,"delete",t,void 0),o}has(a,t){const n=Reflect.has(a,t);return(!Kt(t)||!Si.has(t))&&Pe(a,"has",t),n}ownKeys(a){return Pe(a,"iterate",se(a)?"length":Ht),Reflect.ownKeys(a)}}class Go extends Di{constructor(a=!1){super(!0,a)}set(a,t){return!0}deleteProperty(a,t){return!0}}const Zo=new Mi,Qo=new Go,es=new Mi(!0);const Kn=e=>e,Ya=e=>Reflect.getPrototypeOf(e);function ba(e,a,t=!1,n=!1){e=e.__v_raw;const o=ue(e),i=ue(a);t||(zt(a,i)&&Pe(o,"get",a),Pe(o,"get",i));const{has:d}=Ya(o),_=n?Kn:t?er:Be;if(d.call(o,a))return _(e.get(a));if(d.call(o,i))return _(e.get(i));e!==o&&e.get(a)}function xa(e,a=!1){const t=this.__v_raw,n=ue(t),o=ue(e);return a||(zt(e,o)&&Pe(n,"has",e),Pe(n,"has",o)),e===o?t.has(e):t.has(e)||t.has(o)}function wa(e,a=!1){return e=e.__v_raw,!a&&Pe(ue(e),"iterate",Ht),Reflect.get(e,"size",e)}function vr(e,a=!1){!a&&!ct(e)&&!Wt(e)&&(e=ue(e));const t=ue(this);return Ya(t).has.call(t,e)||(t.add(e),yt(t,"add",e,e)),this}function yr(e,a,t=!1){!t&&!ct(a)&&!Wt(a)&&(a=ue(a));const n=ue(this),{has:o,get:i}=Ya(n);let d=o.call(n,e);d||(e=ue(e),d=o.call(n,e));const _=i.call(n,e);return n.set(e,a),d?zt(a,_)&&yt(n,"set",e,a):yt(n,"add",e,a),this}function br(e){const a=ue(this),{has:t,get:n}=Ya(a);let o=t.call(a,e);o||(e=ue(e),o=t.call(a,e)),n&&n.call(a,e);const i=a.delete(e);return o&&yt(a,"delete",e,void 0),i}function xr(){const e=ue(this),a=e.size!==0,t=e.clear();return a&&yt(e,"clear",void 0,void 0),t}function ka(e,a){return function(n,o){const i=this,d=i.__v_raw,_=ue(d),r=a?Kn:e?er:Be;return!e&&Pe(_,"iterate",Ht),d.forEach((s,l)=>n.call(o,r(s),r(l),i))}}function Ea(e,a,t){return function(...n){const o=this.__v_raw,i=ue(o),d=na(i),_=e==="entries"||e===Symbol.iterator&&d,r=e==="keys"&&d,s=o[e](...n),l=t?Kn:a?er:Be;return!a&&Pe(i,"iterate",r?mn:Ht),{next(){const{value:h,done:v}=s.next();return v?{value:h,done:v}:{value:_?[l(h[0]),l(h[1])]:l(h),done:v}},[Symbol.iterator](){return this}}}}function xt(e){return function(...a){return e==="delete"?!1:e==="clear"?void 0:this}}function ts(){const e={get(i){return ba(this,i)},get size(){return wa(this)},has:xa,add:vr,set:yr,delete:br,clear:xr,forEach:ka(!1,!1)},a={get(i){return ba(this,i,!1,!0)},get size(){return wa(this)},has:xa,add(i){return vr.call(this,i,!0)},set(i,d){return yr.call(this,i,d,!0)},delete:br,clear:xr,forEach:ka(!1,!0)},t={get(i){return ba(this,i,!0)},get size(){return wa(this,!0)},has(i){return xa.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ka(!0,!1)},n={get(i){return ba(this,i,!0,!0)},get size(){return wa(this,!0)},has(i){return xa.call(this,i,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ka(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ea(i,!1,!1),t[i]=Ea(i,!0,!1),a[i]=Ea(i,!1,!0),n[i]=Ea(i,!0,!0)}),[e,t,a,n]}const[as,ns,rs,is]=ts();function Xn(e,a){const t=a?e?is:rs:e?ns:as;return(n,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?n:Reflect.get(he(t,o)&&o in n?t:n,o,i)}const os={get:Xn(!1,!1)},ss={get:Xn(!1,!0)},ds={get:Xn(!0,!1)};const Ci=new WeakMap,Ti=new WeakMap,Ni=new WeakMap,_s=new WeakMap;function ls(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cs(e){return e.__v_skip||!Object.isExtensible(e)?0:ls(Lo(e))}function Gn(e){return Wt(e)?e:Zn(e,!1,Zo,os,Ci)}function hs(e){return Zn(e,!1,es,ss,Ti)}function Ai(e){return Zn(e,!0,Qo,ds,Ni)}function Zn(e,a,t,n,o){if(!Se(e)||e.__v_raw&&!(a&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const d=cs(e);if(d===0)return e;const _=new Proxy(e,d===2?n:t);return o.set(e,_),_}function oa(e){return Wt(e)?oa(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function ct(e){return!!(e&&e.__v_isShallow)}function Qn(e){return e?!!e.__v_raw:!1}function ue(e){const a=e&&e.__v_raw;return a?ue(a):e}function us(e){return Object.isExtensible(e)&&fi(e,"__v_skip",!0),e}const Be=e=>Se(e)?Gn(e):e,er=e=>Se(e)?Ai(e):e;function Ie(e){return e?e.__v_isRef===!0:!1}function fs(e){return Ie(e)?e.value:e}const ps={get:(e,a,t)=>a==="__v_raw"?e:fs(Reflect.get(e,a,t)),set:(e,a,t,n)=>{const o=e[a];return Ie(o)&&!Ie(t)?(o.value=t,!0):Reflect.set(e,a,t,n)}};function Oi(e){return oa(e)?e:new Proxy(e,ps)}class gs{constructor(a,t,n){this.fn=a,this.setter=t,this._value=void 0,this.dep=new ki(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=la-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){fe!==this&&(this.flags|=16,this.dep.notify())}get value(){const a=this.dep.track();return xi(this),a&&(a.version=this.dep.version),this._value}set value(a){this.setter&&this.setter(a)}}function ms(e,a,t=!1){let n,o;return oe(e)?n=e:(n=e.get,o=e.set),new gs(n,o,t)}const Sa={},Aa=new WeakMap;let Lt;function vs(e,a=!1,t=Lt){if(t){let n=Aa.get(t);n||Aa.set(t,n=[]),n.push(e)}}function ys(e,a,t=me){const{immediate:n,deep:o,once:i,scheduler:d,augmentJob:_,call:r}=t,s=b=>o?b:ct(b)||o===!1||o===0?St(b,1):St(b);let l,h,v,g,f=!1,u=!1;if(Ie(e)?(h=()=>e.value,f=ct(e)):oa(e)?(h=()=>s(e),f=!0):se(e)?(u=!0,f=e.some(b=>oa(b)||ct(b)),h=()=>e.map(b=>{if(Ie(b))return b.value;if(oa(b))return s(b);if(oe(b))return r?r(b,2):b()})):oe(e)?a?h=r?()=>r(e,2):e:h=()=>{if(v){Tt();try{v()}finally{Nt()}}const b=Lt;Lt=l;try{return r?r(e,3,[g]):e(g)}finally{Lt=b}}:h=lt,a&&o){const b=h,x=o===!0?1/0:o;h=()=>St(b(),x)}const m=Yo(),c=()=>{l.stop(),m&&In(m.effects,l)};if(i)if(a){const b=a;a=(...x)=>{b(...x),c()}}else{const b=h;h=()=>{b(),c()}}let p=u?new Array(e.length).fill(Sa):Sa;const y=b=>{if(!(!(l.flags&1)||!l.dirty&&!b))if(a){const x=l.run();if(o||f||(u?x.some((k,w)=>zt(k,p[w])):zt(x,p))){v&&v();const k=Lt;Lt=l;try{const w=[x,p===Sa?void 0:u&&p[0]===Sa?[]:p,g];r?r(a,3,w):a(...w),p=x}finally{Lt=k}}}else l.run()};return _&&_(y),l=new mi(h),l.scheduler=d?()=>d(y,!1):y,g=b=>vs(b,!1,l),v=l.onStop=()=>{const b=Aa.get(l);if(b){if(r)r(b,4);else for(const x of b)x();Aa.delete(l)}},a?n?y(!0):p=l.run():d?d(y.bind(null,!0),!0):l.run(),c.pause=l.pause.bind(l),c.resume=l.resume.bind(l),c.stop=c,c}function St(e,a=1/0,t){if(a<=0||!Se(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),a--,Ie(e))St(e.value,a,t);else if(se(e))for(let n=0;n<e.length;n++)St(e[n],a,t);else if(Ao(e)||na(e))e.forEach(n=>{St(n,a,t)});else if(Ho(e)){for(const n in e)St(e[n],a,t);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&St(e[n],a,t)}return e}/**
* @vue/runtime-core v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ma(e,a,t,n){try{return n?e(...n):e()}catch(o){Ba(o,a,t)}}function ht(e,a,t,n){if(oe(e)){const o=ma(e,a,t,n);return o&&ui(o)&&o.catch(i=>{Ba(i,a,t)}),o}if(se(e)){const o=[];for(let i=0;i<e.length;i++)o.push(ht(e[i],a,t,n));return o}}function Ba(e,a,t,n=!0){const o=a?a.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:d}=a&&a.appContext.config||me;if(a){let _=a.parent;const r=a.proxy,s=`https://vuejs.org/error-reference/#runtime-${t}`;for(;_;){const l=_.ec;if(l){for(let h=0;h<l.length;h++)if(l[h](e,r,s)===!1)return}_=_.parent}if(i){Tt(),ma(i,null,10,[e,r,s]),Nt();return}}bs(e,t,o,n,d)}function bs(e,a,t,n=!0,o=!1){if(o)throw e;console.error(e)}let ha=!1,vn=!1;const je=[];let ot=0;const Ut=[];let kt=null,It=0;const Li=Promise.resolve();let tr=null;function xs(e){const a=tr||Li;return e?a.then(this?e.bind(this):e):a}function ws(e){let a=ha?ot+1:0,t=je.length;for(;a<t;){const n=a+t>>>1,o=je[n],i=ua(o);i<e||i===e&&o.flags&2?a=n+1:t=n}return a}function ar(e){if(!(e.flags&1)){const a=ua(e),t=je[je.length-1];!t||!(e.flags&2)&&a>=ua(t)?je.push(e):je.splice(ws(a),0,e),e.flags|=1,Hi()}}function Hi(){!ha&&!vn&&(vn=!0,tr=Li.then(zi))}function ks(e){se(e)?Ut.push(...e):kt&&e.id===-1?kt.splice(It+1,0,e):e.flags&1||(Ut.push(e),e.flags|=1),Hi()}function wr(e,a,t=ha?ot+1:0){for(;t<je.length;t++){const n=je[t];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;je.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&=-2}}}function $i(e){if(Ut.length){const a=[...new Set(Ut)].sort((t,n)=>ua(t)-ua(n));if(Ut.length=0,kt){kt.push(...a);return}for(kt=a,It=0;It<kt.length;It++){const t=kt[It];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}kt=null,It=0}}const ua=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zi(e){vn=!1,ha=!0;try{for(ot=0;ot<je.length;ot++){const a=je[ot];a&&!(a.flags&8)&&(a.flags&4&&(a.flags&=-2),ma(a,a.i,a.i?15:14),a.flags&=-2)}}finally{for(;ot<je.length;ot++){const a=je[ot];a&&(a.flags&=-2)}ot=0,je.length=0,$i(),ha=!1,tr=null,(je.length||Ut.length)&&zi()}}let et=null,Pi=null;function Oa(e){const a=et;return et=e,Pi=e&&e.type.__scopeId||null,a}function Ri(e,a=et,t){if(!a||e._n)return e;const n=(...o)=>{n._d&&Ar(-1);const i=Oa(a);let d;try{d=e(...o)}finally{Oa(i),n._d&&Ar(1)}return d};return n._n=!0,n._c=!0,n._d=!0,n}function At(e,a,t,n){const o=e.dirs,i=a&&a.dirs;for(let d=0;d<o.length;d++){const _=o[d];i&&(_.oldValue=i[d].value);let r=_.dir[n];r&&(Tt(),ht(r,t,8,[e.el,_,e,a]),Nt())}}const Es=Symbol("_vte"),Ss=e=>e.__isTeleport;function nr(e,a){e.shapeFlag&6&&e.component?(e.transition=a,nr(e.component.subTree,a)):e.shapeFlag&128?(e.ssContent.transition=a.clone(e.ssContent),e.ssFallback.transition=a.clone(e.ssFallback)):e.transition=a}function qi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function yn(e,a,t,n,o=!1){if(se(e)){e.forEach((f,u)=>yn(f,a&&(se(a)?a[u]:a),t,n,o));return}if(sa(n)&&!o)return;const i=n.shapeFlag&4?sr(n.component):n.el,d=o?null:i,{i:_,r}=e,s=a&&a.r,l=_.refs===me?_.refs={}:_.refs,h=_.setupState,v=ue(h),g=h===me?()=>!1:f=>he(v,f);if(s!=null&&s!==r&&(Te(s)?(l[s]=null,g(s)&&(h[s]=null)):Ie(s)&&(s.value=null)),oe(r))ma(r,_,12,[d,l]);else{const f=Te(r),u=Ie(r);if(f||u){const m=()=>{if(e.f){const c=f?g(r)?h[r]:l[r]:r.value;o?se(c)&&In(c,i):se(c)?c.includes(i)||c.push(i):f?(l[r]=[i],g(r)&&(h[r]=l[r])):(r.value=[i],e.k&&(l[e.k]=r.value))}else f?(l[r]=d,g(r)&&(h[r]=d)):u&&(r.value=d,e.k&&(l[e.k]=d))};d?(m.id=-1,Ue(m,t)):m()}}}const sa=e=>!!e.type.__asyncLoader,ji=e=>e.type.__isKeepAlive;function Ds(e,a){Ii(e,"a",a)}function Ms(e,a){Ii(e,"da",a)}function Ii(e,a,t=$e){const n=e.__wdc||(e.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Wa(a,n,t),t){let o=t.parent;for(;o&&o.parent;)ji(o.parent.vnode)&&Cs(n,a,t,o),o=o.parent}}function Cs(e,a,t,n){const o=Wa(a,e,n,!0);Vi(()=>{In(n[a],o)},t)}function Wa(e,a,t=$e,n=!1){if(t){const o=t[e]||(t[e]=[]),i=a.__weh||(a.__weh=(...d)=>{Tt();const _=va(t),r=ht(a,t,e,d);return _(),Nt(),r});return n?o.unshift(i):o.push(i),i}}const bt=e=>(a,t=$e)=>{(!Xa||e==="sp")&&Wa(e,(...n)=>a(...n),t)},Ts=bt("bm"),Ns=bt("m"),As=bt("bu"),Os=bt("u"),Ls=bt("bum"),Vi=bt("um"),Hs=bt("sp"),$s=bt("rtg"),zs=bt("rtc");function Ps(e,a=$e){Wa("ec",e,a)}const Fi="components";function Da(e,a){return qs(Fi,e,!0,a)||e}const Rs=Symbol.for("v-ndc");function qs(e,a,t=!0,n=!1){const o=et||$e;if(o){const i=o.type;if(e===Fi){const _=Cd(i,!1);if(_&&(_===a||_===at(a)||_===Ua(at(a))))return i}const d=kr(o[e]||i[e],a)||kr(o.appContext[e],a);return!d&&n?i:d}}function kr(e,a){return e&&(e[a]||e[at(a)]||e[Ua(at(a))])}const bn=e=>e?_o(e)?sr(e):bn(e.parent):null,da=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bn(e.parent),$root:e=>bn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>rr(e),$forceUpdate:e=>e.f||(e.f=()=>{ar(e.update)}),$nextTick:e=>e.n||(e.n=xs.bind(e.proxy)),$watch:e=>sd.bind(e)}),nn=(e,a)=>e!==me&&!e.__isScriptSetup&&he(e,a),js={get({_:e},a){if(a==="__v_skip")return!0;const{ctx:t,setupState:n,data:o,props:i,accessCache:d,type:_,appContext:r}=e;let s;if(a[0]!=="$"){const g=d[a];if(g!==void 0)switch(g){case 1:return n[a];case 2:return o[a];case 4:return t[a];case 3:return i[a]}else{if(nn(n,a))return d[a]=1,n[a];if(o!==me&&he(o,a))return d[a]=2,o[a];if((s=e.propsOptions[0])&&he(s,a))return d[a]=3,i[a];if(t!==me&&he(t,a))return d[a]=4,t[a];xn&&(d[a]=0)}}const l=da[a];let h,v;if(l)return a==="$attrs"&&Pe(e.attrs,"get",""),l(e);if((h=_.__cssModules)&&(h=h[a]))return h;if(t!==me&&he(t,a))return d[a]=4,t[a];if(v=r.config.globalProperties,he(v,a))return v[a]},set({_:e},a,t){const{data:n,setupState:o,ctx:i}=e;return nn(o,a)?(o[a]=t,!0):n!==me&&he(n,a)?(n[a]=t,!0):he(e.props,a)||a[0]==="$"&&a.slice(1)in e?!1:(i[a]=t,!0)},has({_:{data:e,setupState:a,accessCache:t,ctx:n,appContext:o,propsOptions:i}},d){let _;return!!t[d]||e!==me&&he(e,d)||nn(a,d)||(_=i[0])&&he(_,d)||he(n,d)||he(da,d)||he(o.config.globalProperties,d)},defineProperty(e,a,t){return t.get!=null?e._.accessCache[a]=0:he(t,"value")&&this.set(e,a,t.value,null),Reflect.defineProperty(e,a,t)}};function Er(e){return se(e)?e.reduce((a,t)=>(a[t]=null,a),{}):e}let xn=!0;function Is(e){const a=rr(e),t=e.proxy,n=e.ctx;xn=!1,a.beforeCreate&&Sr(a.beforeCreate,e,"bc");const{data:o,computed:i,methods:d,watch:_,provide:r,inject:s,created:l,beforeMount:h,mounted:v,beforeUpdate:g,updated:f,activated:u,deactivated:m,beforeDestroy:c,beforeUnmount:p,destroyed:y,unmounted:b,render:x,renderTracked:k,renderTriggered:w,errorCaptured:E,serverPrefetch:S,expose:D,inheritAttrs:M,components:T,directives:A,filters:O}=a;if(s&&Vs(s,n,null),d)for(const z in d){const P=d[z];oe(P)&&(n[z]=P.bind(t))}if(o){const z=o.call(t,t);Se(z)&&(e.data=Gn(z))}if(xn=!0,i)for(const z in i){const P=i[z],W=oe(P)?P.bind(t,t):oe(P.get)?P.get.bind(t,t):lt,X=!oe(P)&&oe(P.set)?P.set.bind(t):lt,Q=Nd({get:W,set:X});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>Q.value,set:re=>Q.value=re})}if(_)for(const z in _)Ui(_[z],n,t,z);if(r){const z=oe(r)?r.call(t):r;Reflect.ownKeys(z).forEach(P=>{Js(P,z[P])})}l&&Sr(l,e,"c");function q(z,P){se(P)?P.forEach(W=>z(W.bind(t))):P&&z(P.bind(t))}if(q(Ts,h),q(Ns,v),q(As,g),q(Os,f),q(Ds,u),q(Ms,m),q(Ps,E),q(zs,k),q($s,w),q(Ls,p),q(Vi,b),q(Hs,S),se(D))if(D.length){const z=e.exposed||(e.exposed={});D.forEach(P=>{Object.defineProperty(z,P,{get:()=>t[P],set:W=>t[P]=W})})}else e.exposed||(e.exposed={});x&&e.render===lt&&(e.render=x),M!=null&&(e.inheritAttrs=M),T&&(e.components=T),A&&(e.directives=A),S&&qi(e)}function Vs(e,a,t=lt){se(e)&&(e=wn(e));for(const n in e){const o=e[n];let i;Se(o)?"default"in o?i=Ma(o.from||n,o.default,!0):i=Ma(o.from||n):i=Ma(o),Ie(i)?Object.defineProperty(a,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:d=>i.value=d}):a[n]=i}}function Sr(e,a,t){ht(se(e)?e.map(n=>n.bind(a.proxy)):e.bind(a.proxy),a,t)}function Ui(e,a,t,n){let o=n.includes(".")?ro(t,n):()=>t[n];if(Te(e)){const i=a[e];oe(i)&&on(o,i)}else if(oe(e))on(o,e.bind(t));else if(Se(e))if(se(e))e.forEach(i=>Ui(i,a,t,n));else{const i=oe(e.handler)?e.handler.bind(t):a[e.handler];oe(i)&&on(o,i,e)}}function rr(e){const a=e.type,{mixins:t,extends:n}=a,{mixins:o,optionsCache:i,config:{optionMergeStrategies:d}}=e.appContext,_=i.get(a);let r;return _?r=_:!o.length&&!t&&!n?r=a:(r={},o.length&&o.forEach(s=>La(r,s,d,!0)),La(r,a,d)),Se(a)&&i.set(a,r),r}function La(e,a,t,n=!1){const{mixins:o,extends:i}=a;i&&La(e,i,t,!0),o&&o.forEach(d=>La(e,d,t,!0));for(const d in a)if(!(n&&d==="expose")){const _=Fs[d]||t&&t[d];e[d]=_?_(e[d],a[d]):a[d]}return e}const Fs={data:Dr,props:Mr,emits:Mr,methods:ea,computed:ea,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:ea,directives:ea,watch:Ys,provide:Dr,inject:Us};function Dr(e,a){return a?e?function(){return ze(oe(e)?e.call(this,this):e,oe(a)?a.call(this,this):a)}:a:e}function Us(e,a){return ea(wn(e),wn(a))}function wn(e){if(se(e)){const a={};for(let t=0;t<e.length;t++)a[e[t]]=e[t];return a}return e}function Re(e,a){return e?[...new Set([].concat(e,a))]:a}function ea(e,a){return e?ze(Object.create(null),e,a):a}function Mr(e,a){return e?se(e)&&se(a)?[...new Set([...e,...a])]:ze(Object.create(null),Er(e),Er(a??{})):a}function Ys(e,a){if(!e)return a;if(!a)return e;const t=ze(Object.create(null),e);for(const n in a)t[n]=Re(e[n],a[n]);return t}function Yi(){return{app:null,config:{isNativeTag:To,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bs=0;function Ws(e,a){return function(n,o=null){oe(n)||(n=ze({},n)),o!=null&&!Se(o)&&(o=null);const i=Yi(),d=new WeakSet,_=[];let r=!1;const s=i.app={_uid:Bs++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:Ad,get config(){return i.config},set config(l){},use(l,...h){return d.has(l)||(l&&oe(l.install)?(d.add(l),l.install(s,...h)):oe(l)&&(d.add(l),l(s,...h))),s},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),s},component(l,h){return h?(i.components[l]=h,s):i.components[l]},directive(l,h){return h?(i.directives[l]=h,s):i.directives[l]},mount(l,h,v){if(!r){const g=s._ceVNode||Oe(n,o);return g.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),h&&a?a(g,l):e(g,l,v),r=!0,s._container=l,l.__vue_app__=s,sr(g.component)}},onUnmount(l){_.push(l)},unmount(){r&&(ht(_,s._instance,16),e(null,s._container),delete s._container.__vue_app__)},provide(l,h){return i.provides[l]=h,s},runWithContext(l){const h=Yt;Yt=s;try{return l()}finally{Yt=h}}};return s}}let Yt=null;function Js(e,a){if($e){let t=$e.provides;const n=$e.parent&&$e.parent.provides;n===t&&(t=$e.provides=Object.create(n)),t[e]=a}}function Ma(e,a,t=!1){const n=$e||et;if(n||Yt){const o=Yt?Yt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return t&&oe(a)?a.call(n&&n.proxy):a}}const Bi={},Wi=()=>Object.create(Bi),Ji=e=>Object.getPrototypeOf(e)===Bi;function Ks(e,a,t,n=!1){const o={},i=Wi();e.propsDefaults=Object.create(null),Ki(e,a,o,i);for(const d in e.propsOptions[0])d in o||(o[d]=void 0);t?e.props=n?o:hs(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Xs(e,a,t,n){const{props:o,attrs:i,vnode:{patchFlag:d}}=e,_=ue(o),[r]=e.propsOptions;let s=!1;if((n||d>0)&&!(d&16)){if(d&8){const l=e.vnode.dynamicProps;for(let h=0;h<l.length;h++){let v=l[h];if(Ja(e.emitsOptions,v))continue;const g=a[v];if(r)if(he(i,v))g!==i[v]&&(i[v]=g,s=!0);else{const f=at(v);o[f]=kn(r,_,f,g,e,!1)}else g!==i[v]&&(i[v]=g,s=!0)}}}else{Ki(e,a,o,i)&&(s=!0);let l;for(const h in _)(!a||!he(a,h)&&((l=Pt(h))===h||!he(a,l)))&&(r?t&&(t[h]!==void 0||t[l]!==void 0)&&(o[h]=kn(r,_,h,void 0,e,!0)):delete o[h]);if(i!==_)for(const h in i)(!a||!he(a,h))&&(delete i[h],s=!0)}s&&yt(e.attrs,"set","")}function Ki(e,a,t,n){const[o,i]=e.propsOptions;let d=!1,_;if(a)for(let r in a){if(ra(r))continue;const s=a[r];let l;o&&he(o,l=at(r))?!i||!i.includes(l)?t[l]=s:(_||(_={}))[l]=s:Ja(e.emitsOptions,r)||(!(r in n)||s!==n[r])&&(n[r]=s,d=!0)}if(i){const r=ue(t),s=_||me;for(let l=0;l<i.length;l++){const h=i[l];t[h]=kn(o,r,h,s[h],e,!he(s,h))}}return d}function kn(e,a,t,n,o,i){const d=e[t];if(d!=null){const _=he(d,"default");if(_&&n===void 0){const r=d.default;if(d.type!==Function&&!d.skipFactory&&oe(r)){const{propsDefaults:s}=o;if(t in s)n=s[t];else{const l=va(o);n=s[t]=r.call(null,a),l()}}else n=r;o.ce&&o.ce._setProp(t,n)}d[0]&&(i&&!_?n=!1:d[1]&&(n===""||n===Pt(t))&&(n=!0))}return n}const Gs=new WeakMap;function Xi(e,a,t=!1){const n=t?Gs:a.propsCache,o=n.get(e);if(o)return o;const i=e.props,d={},_=[];let r=!1;if(!oe(e)){const l=h=>{r=!0;const[v,g]=Xi(h,a,!0);ze(d,v),g&&_.push(...g)};!t&&a.mixins.length&&a.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!r)return Se(e)&&n.set(e,Ft),Ft;if(se(i))for(let l=0;l<i.length;l++){const h=at(i[l]);Cr(h)&&(d[h]=me)}else if(i)for(const l in i){const h=at(l);if(Cr(h)){const v=i[l],g=d[h]=se(v)||oe(v)?{type:v}:ze({},v),f=g.type;let u=!1,m=!0;if(se(f))for(let c=0;c<f.length;++c){const p=f[c],y=oe(p)&&p.name;if(y==="Boolean"){u=!0;break}else y==="String"&&(m=!1)}else u=oe(f)&&f.name==="Boolean";g[0]=u,g[1]=m,(u||he(g,"default"))&&_.push(h)}}const s=[d,_];return Se(e)&&n.set(e,s),s}function Cr(e){return e[0]!=="$"&&!ra(e)}const Gi=e=>e[0]==="_"||e==="$stable",ir=e=>se(e)?e.map(dt):[dt(e)],Zs=(e,a,t)=>{if(a._n)return a;const n=Ri((...o)=>ir(a(...o)),t);return n._c=!1,n},Zi=(e,a,t)=>{const n=e._ctx;for(const o in e){if(Gi(o))continue;const i=e[o];if(oe(i))a[o]=Zs(o,i,n);else if(i!=null){const d=ir(i);a[o]=()=>d}}},Qi=(e,a)=>{const t=ir(a);e.slots.default=()=>t},eo=(e,a,t)=>{for(const n in a)(t||n!=="_")&&(e[n]=a[n])},Qs=(e,a,t)=>{const n=e.slots=Wi();if(e.vnode.shapeFlag&32){const o=a._;o?(eo(n,a,t),t&&fi(n,"_",o,!0)):Zi(a,n)}else a&&Qi(e,a)},ed=(e,a,t)=>{const{vnode:n,slots:o}=e;let i=!0,d=me;if(n.shapeFlag&32){const _=a._;_?t&&_===1?i=!1:eo(o,a,t):(i=!a.$stable,Zi(a,o)),d=a}else a&&(Qi(e,a),d={default:1});if(i)for(const _ in o)!Gi(_)&&d[_]==null&&delete o[_]},Ue=fd;function td(e){return ad(e)}function ad(e,a){const t=pi();t.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:d,createText:_,createComment:r,setText:s,setElementText:l,parentNode:h,nextSibling:v,setScopeId:g=lt,insertStaticContent:f}=e,u=(C,N,H,I=null,R=null,j=null,J=void 0,F=null,U=!!N.dynamicChildren)=>{if(C===N)return;C&&!Zt(C,N)&&(I=De(C),re(C,R,j,!0),C=null),N.patchFlag===-2&&(U=!1,N.dynamicChildren=null);const{type:V,ref:ne,shapeFlag:Y}=N;switch(V){case Ka:m(C,N,H,I);break;case fa:c(C,N,H,I);break;case Ca:C==null&&p(N,H,I,J);break;case vt:T(C,N,H,I,R,j,J,F,U);break;default:Y&1?x(C,N,H,I,R,j,J,F,U):Y&6?A(C,N,H,I,R,j,J,F,U):(Y&64||Y&128)&&V.process(C,N,H,I,R,j,J,F,U,rt)}ne!=null&&R&&yn(ne,C&&C.ref,j,N||C,!N)},m=(C,N,H,I)=>{if(C==null)n(N.el=_(N.children),H,I);else{const R=N.el=C.el;N.children!==C.children&&s(R,N.children)}},c=(C,N,H,I)=>{C==null?n(N.el=r(N.children||""),H,I):N.el=C.el},p=(C,N,H,I)=>{[C.el,C.anchor]=f(C.children,N,H,I,C.el,C.anchor)},y=({el:C,anchor:N},H,I)=>{let R;for(;C&&C!==N;)R=v(C),n(C,H,I),C=R;n(N,H,I)},b=({el:C,anchor:N})=>{let H;for(;C&&C!==N;)H=v(C),o(C),C=H;o(N)},x=(C,N,H,I,R,j,J,F,U)=>{N.type==="svg"?J="svg":N.type==="math"&&(J="mathml"),C==null?k(N,H,I,R,j,J,F,U):S(C,N,R,j,J,F,U)},k=(C,N,H,I,R,j,J,F)=>{let U,V;const{props:ne,shapeFlag:Y,transition:Z,dirs:te}=C;if(U=C.el=d(C.type,j,ne&&ne.is,ne),Y&8?l(U,C.children):Y&16&&E(C.children,U,null,I,R,rn(C,j),J,F),te&&At(C,null,I,"created"),w(U,C,C.scopeId,J,I),ne){for(const de in ne)de!=="value"&&!ra(de)&&i(U,de,null,ne[de],j,I);"value"in ne&&i(U,"value",null,ne.value,j),(V=ne.onVnodeBeforeMount)&&it(V,I,C)}te&&At(C,null,I,"beforeMount");const ae=nd(R,Z);ae&&Z.beforeEnter(U),n(U,N,H),((V=ne&&ne.onVnodeMounted)||ae||te)&&Ue(()=>{V&&it(V,I,C),ae&&Z.enter(U),te&&At(C,null,I,"mounted")},R)},w=(C,N,H,I,R)=>{if(H&&g(C,H),I)for(let j=0;j<I.length;j++)g(C,I[j]);if(R){let j=R.subTree;if(N===j||oo(j.type)&&(j.ssContent===N||j.ssFallback===N)){const J=R.vnode;w(C,J,J.scopeId,J.slotScopeIds,R.parent)}}},E=(C,N,H,I,R,j,J,F,U=0)=>{for(let V=U;V<C.length;V++){const ne=C[V]=F?Et(C[V]):dt(C[V]);u(null,ne,N,H,I,R,j,J,F)}},S=(C,N,H,I,R,j,J)=>{const F=N.el=C.el;let{patchFlag:U,dynamicChildren:V,dirs:ne}=N;U|=C.patchFlag&16;const Y=C.props||me,Z=N.props||me;let te;if(H&&Ot(H,!1),(te=Z.onVnodeBeforeUpdate)&&it(te,H,N,C),ne&&At(N,C,H,"beforeUpdate"),H&&Ot(H,!0),(Y.innerHTML&&Z.innerHTML==null||Y.textContent&&Z.textContent==null)&&l(F,""),V?D(C.dynamicChildren,V,F,H,I,rn(N,R),j):J||P(C,N,F,null,H,I,rn(N,R),j,!1),U>0){if(U&16)M(F,Y,Z,H,R);else if(U&2&&Y.class!==Z.class&&i(F,"class",null,Z.class,R),U&4&&i(F,"style",Y.style,Z.style,R),U&8){const ae=N.dynamicProps;for(let de=0;de<ae.length;de++){const ie=ae[de],ke=Y[ie],be=Z[ie];(be!==ke||ie==="value")&&i(F,ie,ke,be,R,H)}}U&1&&C.children!==N.children&&l(F,N.children)}else!J&&V==null&&M(F,Y,Z,H,R);((te=Z.onVnodeUpdated)||ne)&&Ue(()=>{te&&it(te,H,N,C),ne&&At(N,C,H,"updated")},I)},D=(C,N,H,I,R,j,J)=>{for(let F=0;F<N.length;F++){const U=C[F],V=N[F],ne=U.el&&(U.type===vt||!Zt(U,V)||U.shapeFlag&70)?h(U.el):H;u(U,V,ne,null,I,R,j,J,!0)}},M=(C,N,H,I,R)=>{if(N!==H){if(N!==me)for(const j in N)!ra(j)&&!(j in H)&&i(C,j,N[j],null,R,I);for(const j in H){if(ra(j))continue;const J=H[j],F=N[j];J!==F&&j!=="value"&&i(C,j,F,J,R,I)}"value"in H&&i(C,"value",N.value,H.value,R)}},T=(C,N,H,I,R,j,J,F,U)=>{const V=N.el=C?C.el:_(""),ne=N.anchor=C?C.anchor:_("");let{patchFlag:Y,dynamicChildren:Z,slotScopeIds:te}=N;te&&(F=F?F.concat(te):te),C==null?(n(V,H,I),n(ne,H,I),E(N.children||[],H,ne,R,j,J,F,U)):Y>0&&Y&64&&Z&&C.dynamicChildren?(D(C.dynamicChildren,Z,H,R,j,J,F),(N.key!=null||R&&N===R.subTree)&&to(C,N,!0)):P(C,N,H,ne,R,j,J,F,U)},A=(C,N,H,I,R,j,J,F,U)=>{N.slotScopeIds=F,C==null?N.shapeFlag&512?R.ctx.activate(N,H,I,J,U):O(N,H,I,R,j,J,U):$(C,N,U)},O=(C,N,H,I,R,j,J)=>{const F=C.component=kd(C,I,R);if(ji(C)&&(F.ctx.renderer=rt),Ed(F,!1,J),F.asyncDep){if(R&&R.registerDep(F,q,J),!C.el){const U=F.subTree=Oe(fa);c(null,U,N,H)}}else q(F,C,N,H,R,j,J)},$=(C,N,H)=>{const I=N.component=C.component;if(hd(C,N,H))if(I.asyncDep&&!I.asyncResolved){z(I,N,H);return}else I.next=N,I.update();else N.el=C.el,I.vnode=N},q=(C,N,H,I,R,j,J)=>{const F=()=>{if(C.isMounted){let{next:Y,bu:Z,u:te,parent:ae,vnode:de}=C;{const xe=ao(C);if(xe){Y&&(Y.el=de.el,z(C,Y,J)),xe.asyncDep.then(()=>{C.isUnmounted||F()});return}}let ie=Y,ke;Ot(C,!1),Y?(Y.el=de.el,z(C,Y,J)):Y=de,Z&&Qa(Z),(ke=Y.props&&Y.props.onVnodeBeforeUpdate)&&it(ke,ae,Y,de),Ot(C,!0);const be=sn(C),Ne=C.subTree;C.subTree=be,u(Ne,be,h(Ne.el),De(Ne),C,R,j),Y.el=be.el,ie===null&&ud(C,be.el),te&&Ue(te,R),(ke=Y.props&&Y.props.onVnodeUpdated)&&Ue(()=>it(ke,ae,Y,de),R)}else{let Y;const{el:Z,props:te}=N,{bm:ae,m:de,parent:ie,root:ke,type:be}=C,Ne=sa(N);if(Ot(C,!1),ae&&Qa(ae),!Ne&&(Y=te&&te.onVnodeBeforeMount)&&it(Y,ie,N),Ot(C,!0),Z&&ye){const xe=()=>{C.subTree=sn(C),ye(Z,C.subTree,C,R,null)};Ne&&be.__asyncHydrate?be.__asyncHydrate(Z,C,xe):xe()}else{ke.ce&&ke.ce._injectChildStyle(be);const xe=C.subTree=sn(C);u(null,xe,H,I,C,R,j),N.el=xe.el}if(de&&Ue(de,R),!Ne&&(Y=te&&te.onVnodeMounted)){const xe=N;Ue(()=>it(Y,ie,xe),R)}(N.shapeFlag&256||ie&&sa(ie.vnode)&&ie.vnode.shapeFlag&256)&&C.a&&Ue(C.a,R),C.isMounted=!0,N=H=I=null}};C.scope.on();const U=C.effect=new mi(F);C.scope.off();const V=C.update=U.run.bind(U),ne=C.job=U.runIfDirty.bind(U);ne.i=C,ne.id=C.uid,U.scheduler=()=>ar(ne),Ot(C,!0),V()},z=(C,N,H)=>{N.component=C;const I=C.vnode.props;C.vnode=N,C.next=null,Xs(C,N.props,I,H),ed(C,N.children,H),Tt(),wr(C),Nt()},P=(C,N,H,I,R,j,J,F,U=!1)=>{const V=C&&C.children,ne=C?C.shapeFlag:0,Y=N.children,{patchFlag:Z,shapeFlag:te}=N;if(Z>0){if(Z&128){X(V,Y,H,I,R,j,J,F,U);return}else if(Z&256){W(V,Y,H,I,R,j,J,F,U);return}}te&8?(ne&16&&_e(V,R,j),Y!==V&&l(H,Y)):ne&16?te&16?X(V,Y,H,I,R,j,J,F,U):_e(V,R,j,!0):(ne&8&&l(H,""),te&16&&E(Y,H,I,R,j,J,F,U))},W=(C,N,H,I,R,j,J,F,U)=>{C=C||Ft,N=N||Ft;const V=C.length,ne=N.length,Y=Math.min(V,ne);let Z;for(Z=0;Z<Y;Z++){const te=N[Z]=U?Et(N[Z]):dt(N[Z]);u(C[Z],te,H,null,R,j,J,F,U)}V>ne?_e(C,R,j,!0,!1,Y):E(N,H,I,R,j,J,F,U,Y)},X=(C,N,H,I,R,j,J,F,U)=>{let V=0;const ne=N.length;let Y=C.length-1,Z=ne-1;for(;V<=Y&&V<=Z;){const te=C[V],ae=N[V]=U?Et(N[V]):dt(N[V]);if(Zt(te,ae))u(te,ae,H,null,R,j,J,F,U);else break;V++}for(;V<=Y&&V<=Z;){const te=C[Y],ae=N[Z]=U?Et(N[Z]):dt(N[Z]);if(Zt(te,ae))u(te,ae,H,null,R,j,J,F,U);else break;Y--,Z--}if(V>Y){if(V<=Z){const te=Z+1,ae=te<ne?N[te].el:I;for(;V<=Z;)u(null,N[V]=U?Et(N[V]):dt(N[V]),H,ae,R,j,J,F,U),V++}}else if(V>Z)for(;V<=Y;)re(C[V],R,j,!0),V++;else{const te=V,ae=V,de=new Map;for(V=ae;V<=Z;V++){const we=N[V]=U?Et(N[V]):dt(N[V]);we.key!=null&&de.set(we.key,V)}let ie,ke=0;const be=Z-ae+1;let Ne=!1,xe=0;const Fe=new Array(be);for(V=0;V<be;V++)Fe[V]=0;for(V=te;V<=Y;V++){const we=C[V];if(ke>=be){re(we,R,j,!0);continue}let Ve;if(we.key!=null)Ve=de.get(we.key);else for(ie=ae;ie<=Z;ie++)if(Fe[ie-ae]===0&&Zt(we,N[ie])){Ve=ie;break}Ve===void 0?re(we,R,j,!0):(Fe[Ve-ae]=V+1,Ve>=xe?xe=Ve:Ne=!0,u(we,N[Ve],H,null,R,j,J,F,U),ke++)}const ya=Ne?rd(Fe):Ft;for(ie=ya.length-1,V=be-1;V>=0;V--){const we=ae+V,Ve=N[we],Xt=we+1<ne?N[we+1].el:I;Fe[V]===0?u(null,Ve,H,Xt,R,j,J,F,U):Ne&&(ie<0||V!==ya[ie]?Q(Ve,H,Xt,2):ie--)}}},Q=(C,N,H,I,R=null)=>{const{el:j,type:J,transition:F,children:U,shapeFlag:V}=C;if(V&6){Q(C.component.subTree,N,H,I);return}if(V&128){C.suspense.move(N,H,I);return}if(V&64){J.move(C,N,H,rt);return}if(J===vt){n(j,N,H);for(let Y=0;Y<U.length;Y++)Q(U[Y],N,H,I);n(C.anchor,N,H);return}if(J===Ca){y(C,N,H);return}if(I!==2&&V&1&&F)if(I===0)F.beforeEnter(j),n(j,N,H),Ue(()=>F.enter(j),R);else{const{leave:Y,delayLeave:Z,afterLeave:te}=F,ae=()=>n(j,N,H),de=()=>{Y(j,()=>{ae(),te&&te()})};Z?Z(j,ae,de):de()}else n(j,N,H)},re=(C,N,H,I=!1,R=!1)=>{const{type:j,props:J,ref:F,children:U,dynamicChildren:V,shapeFlag:ne,patchFlag:Y,dirs:Z,cacheIndex:te}=C;if(Y===-2&&(R=!1),F!=null&&yn(F,null,H,C,!0),te!=null&&(N.renderCache[te]=void 0),ne&256){N.ctx.deactivate(C);return}const ae=ne&1&&Z,de=!sa(C);let ie;if(de&&(ie=J&&J.onVnodeBeforeUnmount)&&it(ie,N,C),ne&6)ve(C.component,H,I);else{if(ne&128){C.suspense.unmount(H,I);return}ae&&At(C,null,N,"beforeUnmount"),ne&64?C.type.remove(C,N,H,rt,I):V&&!V.hasOnce&&(j!==vt||Y>0&&Y&64)?_e(V,N,H,!1,!0):(j===vt&&Y&384||!R&&ne&16)&&_e(U,N,H),I&&ge(C)}(de&&(ie=J&&J.onVnodeUnmounted)||ae)&&Ue(()=>{ie&&it(ie,N,C),ae&&At(C,null,N,"unmounted")},H)},ge=C=>{const{type:N,el:H,anchor:I,transition:R}=C;if(N===vt){Ae(H,I);return}if(N===Ca){b(C);return}const j=()=>{o(H),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(C.shapeFlag&1&&R&&!R.persisted){const{leave:J,delayLeave:F}=R,U=()=>J(H,j);F?F(C.el,j,U):U()}else j()},Ae=(C,N)=>{let H;for(;C!==N;)H=v(C),o(C),C=H;o(N)},ve=(C,N,H)=>{const{bum:I,scope:R,job:j,subTree:J,um:F,m:U,a:V}=C;Tr(U),Tr(V),I&&Qa(I),R.stop(),j&&(j.flags|=8,re(J,C,N,H)),F&&Ue(F,N),Ue(()=>{C.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},_e=(C,N,H,I=!1,R=!1,j=0)=>{for(let J=j;J<C.length;J++)re(C[J],N,H,I,R)},De=C=>{if(C.shapeFlag&6)return De(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const N=v(C.anchor||C.el),H=N&&N[Es];return H?v(H):N};let nt=!1;const ft=(C,N,H)=>{C==null?N._vnode&&re(N._vnode,null,null,!0):u(N._vnode||null,C,N,null,null,null,H),N._vnode=C,nt||(nt=!0,wr(),$i(),nt=!1)},rt={p:u,um:re,m:Q,r:ge,mt:O,mc:E,pc:P,pbc:D,n:De,o:e};let Ge,ye;return{render:ft,hydrate:Ge,createApp:Ws(ft,Ge)}}function rn({type:e,props:a},t){return t==="svg"&&e==="foreignObject"||t==="mathml"&&e==="annotation-xml"&&a&&a.encoding&&a.encoding.includes("html")?void 0:t}function Ot({effect:e,job:a},t){t?(e.flags|=32,a.flags|=4):(e.flags&=-33,a.flags&=-5)}function nd(e,a){return(!e||e&&!e.pendingBranch)&&a&&!a.persisted}function to(e,a,t=!1){const n=e.children,o=a.children;if(se(n)&&se(o))for(let i=0;i<n.length;i++){const d=n[i];let _=o[i];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=o[i]=Et(o[i]),_.el=d.el),!t&&_.patchFlag!==-2&&to(d,_)),_.type===Ka&&(_.el=d.el)}}function rd(e){const a=e.slice(),t=[0];let n,o,i,d,_;const r=e.length;for(n=0;n<r;n++){const s=e[n];if(s!==0){if(o=t[t.length-1],e[o]<s){a[n]=o,t.push(n);continue}for(i=0,d=t.length-1;i<d;)_=i+d>>1,e[t[_]]<s?i=_+1:d=_;s<e[t[i]]&&(i>0&&(a[n]=t[i-1]),t[i]=n)}}for(i=t.length,d=t[i-1];i-- >0;)t[i]=d,d=a[d];return t}function ao(e){const a=e.subTree.component;if(a)return a.asyncDep&&!a.asyncResolved?a:ao(a)}function Tr(e){if(e)for(let a=0;a<e.length;a++)e[a].flags|=8}const id=Symbol.for("v-scx"),od=()=>Ma(id);function on(e,a,t){return no(e,a,t)}function no(e,a,t=me){const{immediate:n,deep:o,flush:i,once:d}=t,_=ze({},t);let r;if(Xa)if(i==="sync"){const v=od();r=v.__watcherHandles||(v.__watcherHandles=[])}else if(!a||n)_.once=!0;else return{stop:lt,resume:lt,pause:lt};const s=$e;_.call=(v,g,f)=>ht(v,s,g,f);let l=!1;i==="post"?_.scheduler=v=>{Ue(v,s&&s.suspense)}:i!=="sync"&&(l=!0,_.scheduler=(v,g)=>{g?v():ar(v)}),_.augmentJob=v=>{a&&(v.flags|=4),l&&(v.flags|=2,s&&(v.id=s.uid,v.i=s))};const h=ys(e,a,_);return r&&r.push(h),h}function sd(e,a,t){const n=this.proxy,o=Te(e)?e.includes(".")?ro(n,e):()=>n[e]:e.bind(n,n);let i;oe(a)?i=a:(i=a.handler,t=a);const d=va(this),_=no(o,i.bind(n),t);return d(),_}function ro(e,a){const t=a.split(".");return()=>{let n=e;for(let o=0;o<t.length&&n;o++)n=n[t[o]];return n}}const dd=(e,a)=>a==="modelValue"||a==="model-value"?e.modelModifiers:e[`${a}Modifiers`]||e[`${at(a)}Modifiers`]||e[`${Pt(a)}Modifiers`];function _d(e,a,...t){if(e.isUnmounted)return;const n=e.vnode.props||me;let o=t;const i=a.startsWith("update:"),d=i&&dd(n,a.slice(7));d&&(d.trim&&(o=t.map(l=>Te(l)?l.trim():l)),d.number&&(o=t.map(Po)));let _,r=n[_=Za(a)]||n[_=Za(at(a))];!r&&i&&(r=n[_=Za(Pt(a))]),r&&ht(r,e,6,o);const s=n[_+"Once"];if(s){if(!e.emitted)e.emitted={};else if(e.emitted[_])return;e.emitted[_]=!0,ht(s,e,6,o)}}function io(e,a,t=!1){const n=a.emitsCache,o=n.get(e);if(o!==void 0)return o;const i=e.emits;let d={},_=!1;if(!oe(e)){const r=s=>{const l=io(s,a,!0);l&&(_=!0,ze(d,l))};!t&&a.mixins.length&&a.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!i&&!_?(Se(e)&&n.set(e,null),null):(se(i)?i.forEach(r=>d[r]=null):ze(d,i),Se(e)&&n.set(e,d),d)}function Ja(e,a){return!e||!Ia(a)?!1:(a=a.slice(2).replace(/Once$/,""),he(e,a[0].toLowerCase()+a.slice(1))||he(e,Pt(a))||he(e,a))}function sn(e){const{type:a,vnode:t,proxy:n,withProxy:o,propsOptions:[i],slots:d,attrs:_,emit:r,render:s,renderCache:l,props:h,data:v,setupState:g,ctx:f,inheritAttrs:u}=e,m=Oa(e);let c,p;try{if(t.shapeFlag&4){const b=o||n,x=b;c=dt(s.call(x,b,l,h,g,v,f)),p=_}else{const b=a;c=dt(b.length>1?b(h,{attrs:_,slots:d,emit:r}):b(h,null)),p=a.props?_:ld(_)}}catch(b){_a.length=0,Ba(b,e,1),c=Oe(fa)}let y=c;if(p&&u!==!1){const b=Object.keys(p),{shapeFlag:x}=y;b.length&&x&7&&(i&&b.some(jn)&&(p=cd(p,i)),y=Jt(y,p,!1,!0))}return t.dirs&&(y=Jt(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(t.dirs):t.dirs),t.transition&&nr(y,t.transition),c=y,Oa(m),c}const ld=e=>{let a;for(const t in e)(t==="class"||t==="style"||Ia(t))&&((a||(a={}))[t]=e[t]);return a},cd=(e,a)=>{const t={};for(const n in e)(!jn(n)||!(n.slice(9)in a))&&(t[n]=e[n]);return t};function hd(e,a,t){const{props:n,children:o,component:i}=e,{props:d,children:_,patchFlag:r}=a,s=i.emitsOptions;if(a.dirs||a.transition)return!0;if(t&&r>=0){if(r&1024)return!0;if(r&16)return n?Nr(n,d,s):!!d;if(r&8){const l=a.dynamicProps;for(let h=0;h<l.length;h++){const v=l[h];if(d[v]!==n[v]&&!Ja(s,v))return!0}}}else return(o||_)&&(!_||!_.$stable)?!0:n===d?!1:n?d?Nr(n,d,s):!0:!!d;return!1}function Nr(e,a,t){const n=Object.keys(a);if(n.length!==Object.keys(e).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(a[i]!==e[i]&&!Ja(t,i))return!0}return!1}function ud({vnode:e,parent:a},t){for(;a;){const n=a.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=a.vnode).el=t,a=a.parent;else break}}const oo=e=>e.__isSuspense;function fd(e,a){a&&a.pendingBranch?se(e)?a.effects.push(...e):a.effects.push(e):ks(e)}const vt=Symbol.for("v-fgt"),Ka=Symbol.for("v-txt"),fa=Symbol.for("v-cmt"),Ca=Symbol.for("v-stc"),_a=[];let We=null;function En(e=!1){_a.push(We=e?null:[])}function pd(){_a.pop(),We=_a[_a.length-1]||null}let pa=1;function Ar(e){pa+=e,e<0&&We&&(We.hasOnce=!0)}function gd(e){return e.dynamicChildren=pa>0?We||Ft:null,pd(),pa>0&&We&&We.push(e),e}function Sn(e,a,t,n,o,i){return gd(ee(e,a,t,n,o,i,!0))}function md(e){return e?e.__v_isVNode===!0:!1}function Zt(e,a){return e.type===a.type&&e.key===a.key}const so=({key:e})=>e??null,Ta=({ref:e,ref_key:a,ref_for:t})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||Ie(e)||oe(e)?{i:et,r:e,k:a,f:!!t}:e:null);function ee(e,a=null,t=null,n=0,o=null,i=e===vt?0:1,d=!1,_=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:a,key:a&&so(a),ref:a&&Ta(a),scopeId:Pi,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:et};return _?(or(r,t),i&128&&e.normalize(r)):t&&(r.shapeFlag|=Te(t)?8:16),pa>0&&!d&&We&&(r.patchFlag>0||i&6)&&r.patchFlag!==32&&We.push(r),r}const Oe=vd;function vd(e,a=null,t=null,n=0,o=null,i=!1){if((!e||e===Rs)&&(e=fa),md(e)){const _=Jt(e,a,!0);return t&&or(_,t),pa>0&&!i&&We&&(_.shapeFlag&6?We[We.indexOf(e)]=_:We.push(_)),_.patchFlag=-2,_}if(Td(e)&&(e=e.__vccOpts),a){a=yd(a);let{class:_,style:r}=a;_&&!Te(_)&&(a.class=Un(_)),Se(r)&&(Qn(r)&&!se(r)&&(r=ze({},r)),a.style=Fn(r))}const d=Te(e)?1:oo(e)?128:Ss(e)?64:Se(e)?4:oe(e)?2:0;return ee(e,a,t,n,o,d,i,!0)}function yd(e){return e?Qn(e)||Ji(e)?ze({},e):e:null}function Jt(e,a,t=!1,n=!1){const{props:o,ref:i,patchFlag:d,children:_,transition:r}=e,s=a?bd(o||{},a):o,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&so(s),ref:a&&a.ref?t&&i?se(i)?i.concat(Ta(a)):[i,Ta(a)]:Ta(a):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:_,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:a&&e.type!==vt?d===-1?16:d|16:d,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:r,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return r&&n&&nr(l,r.clone(l)),l}function Me(e=" ",a=0){return Oe(Ka,null,e,a)}function Or(e,a){const t=Oe(Ca,null,e);return t.staticCount=a,t}function dt(e){return e==null||typeof e=="boolean"?Oe(fa):se(e)?Oe(vt,null,e.slice()):typeof e=="object"?Et(e):Oe(Ka,null,String(e))}function Et(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Jt(e)}function or(e,a){let t=0;const{shapeFlag:n}=e;if(a==null)a=null;else if(se(a))t=16;else if(typeof a=="object")if(n&65){const o=a.default;o&&(o._c&&(o._d=!1),or(e,o()),o._c&&(o._d=!0));return}else{t=32;const o=a._;!o&&!Ji(a)?a._ctx=et:o===3&&et&&(et.slots._===1?a._=1:(a._=2,e.patchFlag|=1024))}else oe(a)?(a={default:a,_ctx:et},t=32):(a=String(a),n&64?(t=16,a=[Me(a)]):t=8);e.children=a,e.shapeFlag|=t}function bd(...e){const a={};for(let t=0;t<e.length;t++){const n=e[t];for(const o in n)if(o==="class")a.class!==n.class&&(a.class=Un([a.class,n.class]));else if(o==="style")a.style=Fn([a.style,n.style]);else if(Ia(o)){const i=a[o],d=n[o];d&&i!==d&&!(se(i)&&i.includes(d))&&(a[o]=i?[].concat(i,d):d)}else o!==""&&(a[o]=n[o])}return a}function it(e,a,t,n=null){ht(e,a,7,[t,n])}const xd=Yi();let wd=0;function kd(e,a,t){const n=e.type,o=(a?a.appContext:e.appContext)||xd,i={uid:wd++,vnode:e,type:n,parent:a,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create(o.provides),ids:a?a.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xi(n,o),emitsOptions:io(n,o),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=a?a.root:i,i.emit=_d.bind(null,i),e.ce&&e.ce(i),i}let $e=null,Ha,Dn;{const e=pi(),a=(t,n)=>{let o;return(o=e[t])||(o=e[t]=[]),o.push(n),i=>{o.length>1?o.forEach(d=>d(i)):o[0](i)}};Ha=a("__VUE_INSTANCE_SETTERS__",t=>$e=t),Dn=a("__VUE_SSR_SETTERS__",t=>Xa=t)}const va=e=>{const a=$e;return Ha(e),e.scope.on(),()=>{e.scope.off(),Ha(a)}},Lr=()=>{$e&&$e.scope.off(),Ha(null)};function _o(e){return e.vnode.shapeFlag&4}let Xa=!1;function Ed(e,a=!1,t=!1){a&&Dn(a);const{props:n,children:o}=e.vnode,i=_o(e);Ks(e,n,i,a),Qs(e,o,t);const d=i?Sd(e,a):void 0;return a&&Dn(!1),d}function Sd(e,a){const t=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,js);const{setup:n}=t;if(n){const o=e.setupContext=n.length>1?Md(e):null,i=va(e);Tt();const d=ma(n,e,0,[e.props,o]);if(Nt(),i(),ui(d)){if(sa(e)||qi(e),d.then(Lr,Lr),a)return d.then(_=>{Hr(e,_,a)}).catch(_=>{Ba(_,e,0)});e.asyncDep=d}else Hr(e,d,a)}else lo(e,a)}function Hr(e,a,t){oe(a)?e.type.__ssrInlineRender?e.ssrRender=a:e.render=a:Se(a)&&(e.setupState=Oi(a)),lo(e,t)}let $r;function lo(e,a,t){const n=e.type;if(!e.render){if(!a&&$r&&!n.render){const o=n.template||rr(e).template;if(o){const{isCustomElement:i,compilerOptions:d}=e.appContext.config,{delimiters:_,compilerOptions:r}=n,s=ze(ze({isCustomElement:i,delimiters:_},d),r);n.render=$r(o,s)}}e.render=n.render||lt}{const o=va(e);Tt();try{Is(e)}finally{Nt(),o()}}}const Dd={get(e,a){return Pe(e,"get",""),e[a]}};function Md(e){const a=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Dd),slots:e.slots,emit:e.emit,expose:a}}function sr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Oi(us(e.exposed)),{get(a,t){if(t in a)return a[t];if(t in da)return da[t](e)},has(a,t){return t in a||t in da}})):e.proxy}function Cd(e,a=!0){return oe(e)?e.displayName||e.name:e.name||a&&e.__name}function Td(e){return oe(e)&&"__vccOpts"in e}const Nd=(e,a)=>ms(e,a,Xa),Ad="3.5.3";/**
* @vue/runtime-dom v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mn;const zr=typeof window<"u"&&window.trustedTypes;if(zr)try{Mn=zr.createPolicy("vue",{createHTML:e=>e})}catch{}const co=Mn?e=>Mn.createHTML(e):e=>e,Od="http://www.w3.org/2000/svg",Ld="http://www.w3.org/1998/Math/MathML",gt=typeof document<"u"?document:null,Pr=gt&&gt.createElement("template"),Hd={insert:(e,a,t)=>{a.insertBefore(e,t||null)},remove:e=>{const a=e.parentNode;a&&a.removeChild(e)},createElement:(e,a,t,n)=>{const o=a==="svg"?gt.createElementNS(Od,e):a==="mathml"?gt.createElementNS(Ld,e):t?gt.createElement(e,{is:t}):gt.createElement(e);return e==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:e=>gt.createTextNode(e),createComment:e=>gt.createComment(e),setText:(e,a)=>{e.nodeValue=a},setElementText:(e,a)=>{e.textContent=a},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gt.querySelector(e),setScopeId(e,a){e.setAttribute(a,"")},insertStaticContent(e,a,t,n,o,i){const d=t?t.previousSibling:a.lastChild;if(o&&(o===i||o.nextSibling))for(;a.insertBefore(o.cloneNode(!0),t),!(o===i||!(o=o.nextSibling)););else{Pr.innerHTML=co(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const _=Pr.content;if(n==="svg"||n==="mathml"){const r=_.firstChild;for(;r.firstChild;)_.appendChild(r.firstChild);_.removeChild(r)}a.insertBefore(_,t)}return[d?d.nextSibling:a.firstChild,t?t.previousSibling:a.lastChild]}},$d=Symbol("_vtc");function zd(e,a,t){const n=e[$d];n&&(a=(a?[a,...n]:[...n]).join(" ")),a==null?e.removeAttribute("class"):t?e.setAttribute("class",a):e.className=a}const Rr=Symbol("_vod"),Pd=Symbol("_vsh"),Rd=Symbol(""),qd=/(^|;)\s*display\s*:/;function jd(e,a,t){const n=e.style,o=Te(t);let i=!1;if(t&&!o){if(a)if(Te(a))for(const d of a.split(";")){const _=d.slice(0,d.indexOf(":")).trim();t[_]==null&&Na(n,_,"")}else for(const d in a)t[d]==null&&Na(n,d,"");for(const d in t)d==="display"&&(i=!0),Na(n,d,t[d])}else if(o){if(a!==t){const d=n[Rd];d&&(t+=";"+d),n.cssText=t,i=qd.test(t)}}else a&&e.removeAttribute("style");Rr in e&&(e[Rr]=i?n.display:"",e[Pd]&&(n.display="none"))}const qr=/\s*!important$/;function Na(e,a,t){if(se(t))t.forEach(n=>Na(e,a,n));else if(t==null&&(t=""),a.startsWith("--"))e.setProperty(a,t);else{const n=Id(e,a);qr.test(t)?e.setProperty(Pt(n),t.replace(qr,""),"important"):e[n]=t}}const jr=["Webkit","Moz","ms"],dn={};function Id(e,a){const t=dn[a];if(t)return t;let n=at(a);if(n!=="filter"&&n in e)return dn[a]=n;n=Ua(n);for(let o=0;o<jr.length;o++){const i=jr[o]+n;if(i in e)return dn[a]=i}return a}const Ir="http://www.w3.org/1999/xlink";function Vr(e,a,t,n,o,i=Fo(a)){n&&a.startsWith("xlink:")?t==null?e.removeAttributeNS(Ir,a.slice(6,a.length)):e.setAttributeNS(Ir,a,t):t==null||i&&!gi(t)?e.removeAttribute(a):e.setAttribute(a,i?"":Kt(t)?String(t):t)}function Vd(e,a,t,n){if(a==="innerHTML"||a==="textContent"){t!=null&&(e[a]=a==="innerHTML"?co(t):t);return}const o=e.tagName;if(a==="value"&&o!=="PROGRESS"&&!o.includes("-")){const d=o==="OPTION"?e.getAttribute("value")||"":e.value,_=t==null?e.type==="checkbox"?"on":"":String(t);(d!==_||!("_value"in e))&&(e.value=_),t==null&&e.removeAttribute(a),e._value=t;return}let i=!1;if(t===""||t==null){const d=typeof e[a];d==="boolean"?t=gi(t):t==null&&d==="string"?(t="",i=!0):d==="number"&&(t=0,i=!0)}try{e[a]=t}catch{}i&&e.removeAttribute(a)}function Fd(e,a,t,n){e.addEventListener(a,t,n)}function Ud(e,a,t,n){e.removeEventListener(a,t,n)}const Fr=Symbol("_vei");function Yd(e,a,t,n,o=null){const i=e[Fr]||(e[Fr]={}),d=i[a];if(n&&d)d.value=n;else{const[_,r]=Bd(a);if(n){const s=i[a]=Kd(n,o);Fd(e,_,s,r)}else d&&(Ud(e,_,d,r),i[a]=void 0)}}const Ur=/(?:Once|Passive|Capture)$/;function Bd(e){let a;if(Ur.test(e)){a={};let n;for(;n=e.match(Ur);)e=e.slice(0,e.length-n[0].length),a[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pt(e.slice(2)),a]}let _n=0;const Wd=Promise.resolve(),Jd=()=>_n||(Wd.then(()=>_n=0),_n=Date.now());function Kd(e,a){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;ht(Xd(n,t.value),a,5,[n])};return t.value=e,t.attached=Jd(),t}function Xd(e,a){if(se(a)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},a.map(n=>o=>!o._stopped&&n&&n(o))}else return a}const Yr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Gd=(e,a,t,n,o,i)=>{const d=o==="svg";a==="class"?zd(e,n,d):a==="style"?jd(e,t,n):Ia(a)?jn(a)||Yd(e,a,t,n,i):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):Zd(e,a,n,d))?(Vd(e,a,n),!e.tagName.includes("-")&&(a==="value"||a==="checked"||a==="selected")&&Vr(e,a,n,d,i,a!=="value")):(a==="true-value"?e._trueValue=n:a==="false-value"&&(e._falseValue=n),Vr(e,a,n,d))};function Zd(e,a,t,n){if(n)return!!(a==="innerHTML"||a==="textContent"||a in e&&Yr(a)&&oe(t));if(a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&e.tagName==="INPUT"||a==="type"&&e.tagName==="TEXTAREA")return!1;if(a==="width"||a==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Yr(a)&&Te(t)?!1:!!(a in e||e._isVueCE&&(/[A-Z]/.test(a)||!Te(t)))}const Qd=ze({patchProp:Gd},Hd);let Br;function e_(){return Br||(Br=td(Qd))}const t_=(...e)=>{const a=e_().createApp(...e),{mount:t}=a;return a.mount=n=>{const o=n_(n);if(!o)return;const i=a._component;!oe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const d=t(o,!1,a_(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),d},a};function a_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function n_(e){return Te(e)?document.querySelector(e):e}const G=typeof window<"u"?window:global;function r_(e){let a=[],t=!1,n=null,o=null;function i(){return e.config.drag_highlight&&e.markTimespan}function d(s){const l=e.getView(s);return l?l.layout:s}function _(s){const{event:l,layout:h,viewName:v,sectionId:g,eventNode:f}=s;(function(c,p){switch(p){case"month":c.style.top="",c.style.left="";break;case"timeline":c.style.left="",c.style.marginLeft="1px";break;default:c.style.top=""}})(f,h);const u={};let m={start_date:l.start_date,end_date:l.end_date,css:"dhx_scheduler_dnd_marker",html:f};return h!="timeline"&&h!="month"||(m={...m,end_date:e.date.add(l.start_date,1,"minute")}),g&&(u[v]=g,m.sections=u),m}function r(s){const{layout:l}=s;let h;switch(l){case"month":h=function(v){let g=[];const{event:f,layout:u,viewName:m,sectionId:c}=v,p=[];let y=new Date(f.start_date);for(;y.valueOf()<f.end_date.valueOf();){let x={start_date:y};p.push(x),y=e.date.week_start(e.date.add(y,1,"week"))}let b=e.$container.querySelectorAll(`[${e.config.event_attribute}='${f.id}']`);for(let x=0;x<b.length;x++){const k={event:p[x],layout:u,viewName:m,sectionId:c,eventNode:b[x].cloneNode(!0)};g.push(_(k))}return g}(s);break;case"timeline":case"units":h=function(v){let g=[];const{event:f,layout:u,viewName:m,eventNode:c}=v;let p=function(y){const b=e.getView(y);return b.y_property?b.y_property:b.map_to?b.map_to:void 0}(m);if(e.config.multisection&&p){const y=String(f[p]).split(e.config.section_delimiter).map(x=>String(x)),b=[];for(let x=0;x<y.length;x++){b[x]=c.cloneNode(!0);const k={event:f,layout:u,viewName:m,sectionId:y[x],eventNode:b[x]};g.push(_(k))}}return g}(s);break;default:h=function(v){const{event:g,layout:f,viewName:u,sectionId:m}=v;let c=[],p=e.$container.querySelectorAll(`[${e.config.event_attribute}='${g.id}']:not(.dhx_cal_select_menu):not(.dhx_drag_marker)`);if(p)for(let y=0;y<p.length;y++){let b=p[y].cloneNode(!0);const x={event:{start_date:new Date(+b.getAttribute("data-bar-start")),end_date:new Date(+b.getAttribute("data-bar-end"))},layout:f,viewName:u,sectionId:m,eventNode:b};c.push(_(x))}return c}(s)}h.forEach(v=>{a.push(e.markTimespan(v))})}e.attachEvent("onBeforeDrag",function(s,l,h){return i()&&(t=!0,o=e.getEvent(s),n=h.target.closest(`[${e.config.event_attribute}]`),d(e.getState().mode)=="units"&&e.config.cascade_event_display&&(e.unselect(s),n=h.target.closest(`[${e.config.event_attribute}]`))),!0}),e.attachEvent("onEventDrag",function(s,l,h){if(t&&i()){t=!1;const v=e.getState().mode,g=d(v),f=e.getActionData(h).section;o&&r({event:o,layout:g,viewName:v,sectionId:f,eventNode:n})}}),e.attachEvent("onDragEnd",function(s,l,h){for(let v=0;v<a.length;v++)e.unmarkTimespan(a[v]);a=[],n=null,o=null})}function i_(e){e.config.mark_now=!0,e.config.display_marked_timespans=!0,e.config.overwrite_marked_timespans=!0;var a="dhx_time_block",t="default",n=function(i,d,_){var r=typeof i=="object"?i:{days:i};return r.type=a,r.css="",d&&(_&&(r.sections=_),r=function(s,l,h){return l instanceof Date&&h instanceof Date?(s.start_date=l,s.end_date=h):(s.days=l,s.zones=h),s}(r,i,d)),r};function o(i,d,_,r,s){var l=e,h=[],v={_props:"map_to",matrix:"y_property"};for(var g in v){var f=v[g];if(l[g])for(var u in l[g]){var m=l[g][u][f];i[m]&&(h=l._add_timespan_zones(h,e._get_blocked_zones(d[u],i[m],_,r,s)))}}return h=l._add_timespan_zones(h,e._get_blocked_zones(d,"global",_,r,s))}e.blockTime=function(i,d,_){var r=n(i,d,_);return e.addMarkedTimespan(r)},e.unblockTime=function(i,d,_){var r=n(i,d=d||"fullday",_);return e.deleteMarkedTimespan(r)},e.checkInMarkedTimespan=function(i,d,_){d=d||t;for(var r=!0,s=new Date(i.start_date.valueOf()),l=e.date.add(s,1,"day"),h=e._marked_timespans;s<i.end_date;s=e.date.date_part(l),l=e.date.add(s,1,"day")){var v=+e.date.date_part(new Date(s)),g=o(i,h,s.getDay(),v,d);if(g)for(var f=0;f<g.length;f+=2){var u=e._get_zone_minutes(s),m=i.end_date>l||i.end_date.getDate()!=s.getDate()?1440:e._get_zone_minutes(i.end_date),c=g[f],p=g[f+1];if(c<m&&p>u&&!(r=typeof _=="function"&&_(i,u,m,c,p)))break}}return!r},e.checkLimitViolation=function(i){if(!i||!e.config.check_limits)return!0;var d=e,_=d.config,r=[];if(i.rec_type&&i._end_date||i.rrule){const g=i._end_date||i.end_date;return!_.limit_start||!_.limit_end||g.valueOf()>=_.limit_start.valueOf()&&i.start_date.valueOf()<=_.limit_end.valueOf()}r=[i];for(var s=!0,l=0;l<r.length;l++){var h=!0,v=r[l];v._timed=e.isOneDayEvent(v),(h=!_.limit_start||!_.limit_end||v.start_date.valueOf()>=_.limit_start.valueOf()&&v.end_date.valueOf()<=_.limit_end.valueOf())&&(h=!e.checkInMarkedTimespan(v,a,function(g,f,u,m,c){var p=!0;return f<=c&&f>=m&&((c==1440||u<=c)&&(p=!1),g._timed&&d._drag_id&&d._drag_mode=="new-size"?(g.start_date.setHours(0),g.start_date.setMinutes(c)):p=!1),(u>=m&&u<=c||f<m&&u>c)&&(g._timed&&d._drag_id&&d._drag_mode=="new-size"?(g.end_date.setHours(0),g.end_date.setMinutes(m)):p=!1),p})),h||(h=d.checkEvent("onLimitViolation")?d.callEvent("onLimitViolation",[v.id,v]):h),s=s&&h}return s||(d._drag_id=null,d._drag_mode=null),s},e._get_blocked_zones=function(i,d,_,r,s){var l=[];if(i&&i[d])for(var h=i[d],v=this._get_relevant_blocked_zones(_,r,h,s),g=0;g<v.length;g++)l=this._add_timespan_zones(l,v[g].zones);return l},e._get_relevant_blocked_zones=function(i,d,_,r){var s;return e.config.overwrite_marked_timespans?s=_[d]&&_[d][r]?_[d][r]:_[i]&&_[i][r]?_[i][r]:[]:(s=[],_[d]&&_[d][r]&&(s=s.concat(_[d][r])),_[i]&&_[i][r]&&(s=s.concat(_[i][r]))),s},e._mark_now=function(i){var d="dhx_now_time";this._els[d]||(this._els[d]=[]);var _=e._currentDate(),r=this.config;if(e._remove_mark_now(),!i&&r.mark_now&&_<this._max_date&&_>this._min_date&&_.getHours()>=r.first_hour&&_.getHours()<r.last_hour){var s=this.locate_holder_day(_);this._els[d]=e._append_mark_now(s,_)}},e._append_mark_now=function(i,d){var _="dhx_now_time",r=e._get_zone_minutes(d),s={zones:[r,r+1],css:_,type:_};if(!this._table_view){if(this._props&&this._props[this._mode]){var l,h,v=this._props[this._mode],g=v.size||v.options.length;v.days>1?(v.size&&v.options.length&&(i=(v.position+i)/v.options.length*v.size),l=i,h=i+g):h=(l=0)+g;for(var f=[],u=l;u<h;u++){var m=u;s.days=m;var c=e._render_marked_timespan(s,null,m)[0];f.push(c)}return f}return s.days=i,e._render_marked_timespan(s,null,i)}if(this._mode=="month")return s.days=+e.date.date_part(d),e._render_marked_timespan(s,null,null)},e._remove_mark_now=function(){for(var i="dhx_now_time",d=this._els[i],_=0;_<d.length;_++){var r=d[_],s=r.parentNode;s&&s.removeChild(r)}this._els[i]=[]},e._marked_timespans={global:{}},e._get_zone_minutes=function(i){return 60*i.getHours()+i.getMinutes()},e._prepare_timespan_options=function(i){var d=[],_=[];if(i.days=="fullweek"&&(i.days=[0,1,2,3,4,5,6]),i.days instanceof Array){for(var r=i.days.slice(),s=0;s<r.length;s++){var l=e._lame_clone(i);l.days=r[s],d.push.apply(d,e._prepare_timespan_options(l))}return d}if(!i||!(i.start_date&&i.end_date&&i.end_date>i.start_date||i.days!==void 0&&i.zones)&&!i.type)return d;i.zones=="fullday"&&(i.zones=[0,1440]),i.zones&&i.invert_zones&&(i.zones=e.invertZones(i.zones)),i.id=e.uid(),i.css=i.css||"",i.type=i.type||t;var h=i.sections;if(h){for(var v in h)if(h.hasOwnProperty(v)){var g=h[v];for(g instanceof Array||(g=[g]),s=0;s<g.length;s++)(b=e._lame_copy({},i)).sections={},b.sections[v]=g[s],_.push(b)}}else _.push(i);for(var f=0;f<_.length;f++){var u=_[f],m=u.start_date,c=u.end_date;if(m&&c)for(var p=e.date.date_part(new Date(m)),y=e.date.add(p,1,"day");p<c;){var b;delete(b=e._lame_copy({},u)).start_date,delete b.end_date,b.days=p.valueOf();var x=m>p?e._get_zone_minutes(m):0,k=c>y||c.getDate()!=p.getDate()?1440:e._get_zone_minutes(c);b.zones=[x,k],d.push(b),p=y,y=e.date.add(y,1,"day")}else u.days instanceof Date&&(u.days=e.date.date_part(u.days).valueOf()),u.zones=i.zones.slice(),d.push(u)}return d},e._get_dates_by_index=function(i,d,_){var r=[];d=e.date.date_part(new Date(d||e._min_date)),_=new Date(_||e._max_date);for(var s=d.getDay(),l=i-s>=0?i-s:7-d.getDay()+i,h=e.date.add(d,l,"day");h<_;h=e.date.add(h,1,"week"))r.push(h);return r},e._get_css_classes_by_config=function(i){var d=[];return i.type==a&&(d.push(a),i.css&&d.push(a+"_reset")),d.push("dhx_marked_timespan",i.css),d.join(" ")},e._get_block_by_config=function(i){var d=document.createElement("div");return i.html&&(typeof i.html=="string"?d.innerHTML=i.html:d.appendChild(i.html)),d},e._render_marked_timespan=function(i,d,_){var r=[],s=e.config,l=this._min_date,h=this._max_date,v=!1;if(!s.display_marked_timespans)return r;if(!_&&_!==0){if(i.days<7)_=i.days;else{var g=new Date(i.days);if(v=+g,!(+h>+g&&+l<=+g))return r;_=g.getDay()}var f=l.getDay();f>_?_=7-(f-_):_-=f}var u=i.zones,m=e._get_css_classes_by_config(i);if(e._table_view&&e._mode=="month"){var c=[],p=[];if(d)c.push(d),p.push(_);else{p=v?[v]:e._get_dates_by_index(_);for(var y=0;y<p.length;y++)c.push(this._scales[p[y]])}for(y=0;y<c.length;y++){d=c[y],_=p[y];var b=this.locate_holder_day(_,!1)%this._cols.length;if(!this._ignores[b]){var x=e._get_block_by_config(i);x.className=m,x.style.top="0px",x.style.height="100%";for(var k=0;k<u.length;k+=2){var w=u[y];if((M=u[y+1])<=w)return[];(T=x.cloneNode(!0)).style.left="0px",T.style.width="100%",d.appendChild(T),r.push(T)}}}}else{var E=_;if(this._ignores[this.locate_holder_day(_,!1)])return r;if(this._props&&this._props[this._mode]&&i.sections&&i.sections[this._mode]){var S=this._props[this._mode];E=S.order[i.sections[this._mode]];var D=S.order[i.sections[this._mode]];S.days>1?E=E*(S.size||S.options.length)+D:(E=D,S.size&&E>S.position+S.size&&(E=0))}for(d=d||e.locate_holder(E),y=0;y<u.length;y+=2){var M,T;if(w=Math.max(u[y],60*s.first_hour),(M=Math.min(u[y+1],60*s.last_hour))<=w){if(y+2<u.length)continue;return[]}(T=e._get_block_by_config(i)).className=m;var A=24*this.config.hour_size_px+1,O=36e5;T.style.top=Math.round((60*w*1e3-this.config.first_hour*O)*this.config.hour_size_px/O)%A+"px",T.style.height=Math.max(Math.round(60*(M-w)*1e3*this.config.hour_size_px/O)%A,1)+"px",d.appendChild(T),r.push(T)}}return r},e._mark_timespans=function(){var i=this._els.dhx_cal_data[0],d=[];if(e._table_view&&e._mode=="month")for(var _ in this._scales){var r=new Date(+_);d.push.apply(d,e._on_scale_add_marker(this._scales[_],r))}else{r=new Date(e._min_date);for(var s=0,l=i.childNodes.length;s<l;s++){var h=i.childNodes[s];h.firstChild&&e._getClassName(h.firstChild).indexOf("dhx_scale_hour")>-1||(d.push.apply(d,e._on_scale_add_marker(h,r)),r=e.date.add(r,1,"day"))}}return d},e.markTimespan=function(i){if(!this._els)throw new Error("`scheduler.markTimespan` can't be used before scheduler initialization. Place `scheduler.markTimespan` call after `scheduler.init`.");var d=!1;this._els.dhx_cal_data||(e.get_elements(),d=!0);var _=e._marked_timespans_ids,r=e._marked_timespans_types,s=e._marked_timespans;e.deleteMarkedTimespan(),e.addMarkedTimespan(i);var l=e._mark_timespans();return d&&(e._els=[]),e._marked_timespans_ids=_,e._marked_timespans_types=r,e._marked_timespans=s,l},e.unmarkTimespan=function(i){if(i)for(var d=0;d<i.length;d++){var _=i[d];_.parentNode&&_.parentNode.removeChild(_)}},e._addMarkerTimespanConfig=function(i){var d="global",_=e._marked_timespans,r=i.id,s=e._marked_timespans_ids;s[r]||(s[r]=[]);var l=i.days,h=i.sections,v=i.type;if(i.id=r,h){for(var g in h)if(h.hasOwnProperty(g)){_[g]||(_[g]={});var f=h[g],u=_[g];u[f]||(u[f]={}),u[f][l]||(u[f][l]={}),u[f][l][v]||(u[f][l][v]=[],e._marked_timespans_types||(e._marked_timespans_types={}),e._marked_timespans_types[v]||(e._marked_timespans_types[v]=!0));var m=u[f][l][v];i._array=m,m.push(i),s[r].push(i)}}else _[d][l]||(_[d][l]={}),_[d][l][v]||(_[d][l][v]=[]),e._marked_timespans_types||(e._marked_timespans_types={}),e._marked_timespans_types[v]||(e._marked_timespans_types[v]=!0),m=_[d][l][v],i._array=m,m.push(i),s[r].push(i)},e._marked_timespans_ids={},e.addMarkedTimespan=function(i){var d=e._prepare_timespan_options(i);if(d.length){for(var _=d[0].id,r=0;r<d.length;r++)e._addMarkerTimespanConfig(d[r]);return _}},e._add_timespan_zones=function(i,d){var _=i.slice();if(d=d.slice(),!_.length)return d;for(var r=0;r<_.length;r+=2)for(var s=_[r],l=_[r+1],h=r+2==_.length,v=0;v<d.length;v+=2){var g=d[v],f=d[v+1];if(f>l&&g<=l||g<s&&f>=s)_[r]=Math.min(s,g),_[r+1]=Math.max(l,f),r-=2;else{if(!h)continue;var u=s>g?0:2;_.splice(r+u,0,g,f)}d.splice(v--,2);break}return _},e._subtract_timespan_zones=function(i,d){for(var _=i.slice(),r=0;r<_.length;r+=2)for(var s=_[r],l=_[r+1],h=0;h<d.length;h+=2){var v=d[h],g=d[h+1];if(g>s&&v<l){var f=!1;s>=v&&l<=g&&_.splice(r,2),s<v&&(_.splice(r,2,s,v),f=!0),l>g&&_.splice(f?r+2:r,f?0:2,g,l),r-=2;break}}return _},e.invertZones=function(i){return e._subtract_timespan_zones([0,1440],i.slice())},e._delete_marked_timespan_by_id=function(i){var d=e._marked_timespans_ids[i];if(d){for(var _=0;_<d.length;_++)for(var r=d[_],s=r._array,l=0;l<s.length;l++)if(s[l]==r){s.splice(l,1);break}}},e._delete_marked_timespan_by_config=function(i){var d,_=e._marked_timespans,r=i.sections,s=i.days,l=i.type||t;if(r){for(var h in r)if(r.hasOwnProperty(h)&&_[h]){var v=r[h];_[h][v]&&(d=_[h][v])}}else d=_.global;if(d){if(s!==void 0)d[s]&&d[s][l]&&(e._addMarkerTimespanConfig(i),e._delete_marked_timespans_list(d[s][l],i));else for(var g in d)if(d[g][l]){var f=e._lame_clone(i);i.days=g,e._addMarkerTimespanConfig(f),e._delete_marked_timespans_list(d[g][l],i)}}},e._delete_marked_timespans_list=function(i,d){for(var _=0;_<i.length;_++){var r=i[_],s=e._subtract_timespan_zones(r.zones,d.zones);if(s.length)r.zones=s;else{i.splice(_,1),_--;for(var l=e._marked_timespans_ids[r.id],h=0;h<l.length;h++)if(l[h]==r){l.splice(h,1);break}}}},e.deleteMarkedTimespan=function(i){if(arguments.length||(e._marked_timespans={global:{}},e._marked_timespans_ids={},e._marked_timespans_types={}),typeof i!="object")e._delete_marked_timespan_by_id(i);else{i.start_date&&i.end_date||(i.days!==void 0||i.type||(i.days="fullweek"),i.zones||(i.zones="fullday"));var d=[];if(i.type)d.push(i.type);else for(var _ in e._marked_timespans_types)d.push(_);for(var r=e._prepare_timespan_options(i),s=0;s<r.length;s++)for(var l=r[s],h=0;h<d.length;h++){var v=e._lame_clone(l);v.type=d[h],e._delete_marked_timespan_by_config(v)}}},e._get_types_to_render=function(i,d){var _=i?e._lame_copy({},i):{};for(var r in d||{})d.hasOwnProperty(r)&&(_[r]=d[r]);return _},e._get_configs_to_render=function(i){var d=[];for(var _ in i)i.hasOwnProperty(_)&&d.push.apply(d,i[_]);return d},e._on_scale_add_marker=function(i,d){if(!e._table_view||e._mode=="month"){var _=d.getDay(),r=d.valueOf(),s=this._mode,l=e._marked_timespans,h=[],v=[];if(this._props&&this._props[s]){var g=this._props[s],f=g.options,u=f[e._get_unit_index(g,d)];if(g.days>1){var m=Math.round((d-e._min_date)/864e5),c=g.size||f.length;d=e.date.add(e._min_date,Math.floor(m/c),"day"),d=e.date.date_part(d)}else d=e.date.date_part(new Date(this._date));if(_=d.getDay(),r=d.valueOf(),l[s]&&l[s][u.key]){var p=l[s][u.key],y=e._get_types_to_render(p[_],p[r]);h.push.apply(h,e._get_configs_to_render(y))}}var b=l.global;if(e.config.overwrite_marked_timespans){var x=b[r]||b[_];h.push.apply(h,e._get_configs_to_render(x))}else b[r]&&h.push.apply(h,e._get_configs_to_render(b[r])),b[_]&&h.push.apply(h,e._get_configs_to_render(b[_]));for(var k=0;k<h.length;k++)v.push.apply(v,e._render_marked_timespan(h[k],i,d));return v}},e.attachEvent("onScaleAdd",function(){e._on_scale_add_marker.apply(e,arguments)}),e.dblclick_dhx_marked_timespan=function(i,d){e.callEvent("onScaleDblClick",[e.getActionData(i).date,d,i]),e.config.dblclick_create&&e.addEventNow(e.getActionData(i).date,null,i)}}function o_(e){var a={},t=!1;function n(r,s){s=typeof s=="function"?s:function(){},a[r]||(a[r]=this[r],this[r]=s)}function o(r){a[r]&&(this[r]=a[r],a[r]=null)}function i(r){for(var s in r)n.call(this,s,r[s])}function d(){for(var r in a)o.call(this,r)}function _(r){try{r()}catch(s){window.console.error(s)}}return e.$stateProvider.registerProvider("batchUpdate",function(){return{batch_update:t}},!1),function(r,s){if(t)return void _(r);var l,h=this._dp&&this._dp.updateMode!="off";h&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));const v={setModeDate:{date:null,mode:null},needRender:!1,needUpdateView:!1,repaintEvents:{}},g=(u,m)=>{u&&(v.setModeDate.date=u),m&&(v.setModeDate.mode=m)};var f={render:(u,m)=>{v.needRender=!0,g(u,m)},setCurrentView:(u,m)=>{v.needRender=!0,g(u,m)},updateView:(u,m)=>{v.needUpdateView=!0,g(u,m)},render_data:()=>v.needRender=!0,render_view_data:u=>{u&&u.length?u.forEach(m=>v.repaintEvents[m.id]=!0):v.needRender=!0}};if(i.call(this,f),t=!0,this.callEvent("onBeforeBatchUpdate",[]),_(r),this.callEvent("onAfterBatchUpdate",[]),d.call(this),t=!1,!s)if(v.needRender)e.render(v.setModeDate.date,v.setModeDate.mode);else if(v.needUpdateView)e.updateView(v.setModeDate.date,v.setModeDate.mode);else for(const u in v.repaintEvents)e.updateEvent(u);h&&(this._dp.setUpdateMode(l),this._dp.sendData())}}function s_(e){(function(a){a.attachEvent("onEventDeleted",function(t,n){let o=a.copy(n);a.config.undo_deleted&&!a.getState().new_event&&a.message({text:`<div class="dhx_info_message">
                            <span class="undo_popup_text">Event deleted</span>
                            <button class="undo_button" data-deleted-event-id="${n.id}">Undo</button>
                        </div>`,expire:1e4,type:"popup_after_delete",callback:function(i){i.target.closest(`[data-deleted-event-id="${n.id}"]`)&&(a.addEvent(o),a.render())}})})})(e),r_(e),i_(e),function(a){a.batchUpdate=o_(a)}(e)}var d_=Date.now();function ln(e){return!(!e||typeof e!="object")&&!!(e.getFullYear&&e.getMonth&&e.getDate)}const Qe={uid:function(){return d_++},mixin:function(e,a,t){for(var n in a)(e[n]===void 0||t)&&(e[n]=a[n]);return e},copy:function e(a){var t,n,o;if(a&&typeof a=="object")switch(!0){case ln(a):n=new Date(a);break;case(o=a,Array.isArray?Array.isArray(o):o&&o.length!==void 0&&o.pop&&o.push):for(n=new Array(a.length),t=0;t<a.length;t++)n[t]=e(a[t]);break;case function(i){return i&&typeof i=="object"&&Function.prototype.toString.call(i.constructor)==="function String() { [native code] }"}(a):n=new String(a);break;case function(i){return i&&typeof i=="object"&&Function.prototype.toString.call(i.constructor)==="function Number() { [native code] }"}(a):n=new Number(a);break;case function(i){return i&&typeof i=="object"&&Function.prototype.toString.call(i.constructor)==="function Boolean() { [native code] }"}(a):n=new Boolean(a);break;default:for(t in n={},a){const i=typeof a[t];i==="string"||i==="number"||i==="boolean"?n[t]=a[t]:ln(a[t])?n[t]=new Date(a[t]):Object.prototype.hasOwnProperty.apply(a,[t])&&(n[t]=e(a[t]))}}return n||a},defined:function(e){return e!==void 0},isDate:ln,delay:function(e,a){var t,n=function(){n.$cancelTimeout(),n.$pending=!0;var o=Array.prototype.slice.call(arguments);t=setTimeout(function(){e.apply(this,o),n.$pending=!1},a)};return n.$pending=!1,n.$cancelTimeout=function(){clearTimeout(t),n.$pending=!1},n.$execute=function(){var o=Array.prototype.slice.call(arguments);e.apply(this,o),n.$cancelTimeout()},n}};function __(e){function a(_){var r=document.createElement("div");return(_||"").split(" ").forEach(function(s){r.classList.add(s)}),r}var t={rows_container:function(){return a("dhx_cal_navbar_rows_container")},row:function(){return a("dhx_cal_navbar_row")},view:function(_){var r=a("dhx_cal_tab");return r.setAttribute("name",_.view+"_tab"),r.setAttribute("data-tab",_.view),e.config.fix_tab_position&&(_.$firstTab?r.classList.add("dhx_cal_tab_first"):_.$lastTab?r.classList.add("dhx_cal_tab_last"):_.view!=="week"&&r.classList.add("dhx_cal_tab_standalone"),_.$segmentedTab&&r.classList.add("dhx_cal_tab_segmented")),r},date:function(){return a("dhx_cal_date")},button:function(_){return a("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(_){return a("dhx_cal_"+_.view+"_button dhx_cal_nav_button")},spacer:function(){return a("dhx_cal_line_spacer")},minicalendarButton:function(_){var r=a("dhx_minical_icon");return _.click||r.$_eventAttached||e.event(r,"click",function(){e.isCalendarVisible()?e.destroyCalendar():e.renderCalendar({position:this,date:e.getState().date,navigation:!0,handler:function(s,l){e.setCurrentView(s),e.destroyCalendar()}})}),r},html_element:function(_){return a("dhx_cal_nav_content")}};function n(_){var r=function(h){var v;if(h.view)switch(h.view){case"today":case"next":case"prev":v=t.builtInButton;break;case"date":v=t.date;break;case"spacer":v=t.spacer;break;case"button":v=t.button;break;case"minicalendar":v=t.minicalendarButton;break;default:v=t.view}else h.rows?v=t.rows_container:h.cols&&(v=t.row);return v}(_);if(r){var s=r(_);if(_.css&&s.classList.add(_.css),_.width&&((l=_.width)===1*l&&(l+="px"),s.style.width=l),_.height&&((l=_.height)===1*l&&(l+="px"),s.style.height=l),_.click&&e.event(s,"click",_.click),_.html&&(s.innerHTML=_.html),_.align){var l="";_.align=="right"?l="flex-end":_.align=="left"&&(l="flex-start"),s.style.justifyContent=l}return s}}function o(_){return typeof _=="string"&&(_={view:_}),_.view||_.rows||_.cols||(_.view="button"),_}function i(_){var r,s=document.createDocumentFragment();r=Array.isArray(_)?_:[_];for(var l=0;l<r.length;l++){var h,v=o(r[l]);v.view==="day"&&r[l+1]&&((h=o(r[l+1])).view!=="week"&&h.view!=="month"||(v.$firstTab=!0,v.$segmentedTab=!0)),v.view==="week"&&r[l-1]&&((h=o(r[l+1])).view!=="week"&&h.view!=="month"||(v.$segmentedTab=!0)),v.view==="month"&&r[l-1]&&((h=o(r[l-1])).view!=="week"&&h.view!=="day"||(v.$lastTab=!0,v.$segmentedTab=!0));var g=n(v);s.appendChild(g),(v.cols||v.rows)&&g.appendChild(i(v.cols||v.rows))}return s}e._init_nav_bar=function(_){var r=this.$container.querySelector(".dhx_cal_navline");return r||((r=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",e._update_nav_bar(_,r),r)};var d=null;e._update_nav_bar=function(_,r){if(_){var s=!1,l=_.height||e.xy.nav_height;d!==null&&d===l||(s=!0),s&&(e.xy.nav_height=l),r.innerHTML="",r.appendChild(i(_)),e.unset_actions(),e._els=[],e.get_elements(),e.set_actions(),r.style.display=l===0?"none":"",d=l}}}function l_(e){function a(i){for(var d=document.body;i&&i!=d;)i=i.parentNode;return d==i}function t(i){return{w:i.innerWidth||document.documentElement.clientWidth,h:i.innerHeight||document.documentElement.clientHeight}}function n(i,d){var _,r=t(d);i.event(d,"resize",function(){clearTimeout(_),_=setTimeout(function(){if(a(i.$container)&&!i.$destroyed){var s,l,h=t(d);l=h,((s=r).w!=l.w||s.h!=l.h)&&(r=h,o(i))}},150)})}function o(i){!i.$destroyed&&i.$root&&a(i.$root)&&i.callEvent("onSchedulerResize",[])&&(i.updateView(),i.callEvent("onAfterSchedulerResize",[]))}(function(i){var d=i.$container;window.getComputedStyle(d).getPropertyValue("position")=="static"&&(d.style.position="relative");var _=document.createElement("iframe");_.className="scheduler_container_resize_watcher",_.tabIndex=-1,i.config.wai_aria_attributes&&(_.setAttribute("role","none"),_.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(r){var s=r.$root.offsetHeight,l=r.$root.offsetWidth;(function h(){r.$destroyed||(r.$root&&(r.$root.offsetHeight==s&&r.$root.offsetWidth==l||o(r),s=r.$root.offsetHeight,l=r.$root.offsetWidth),setTimeout(h,200))})()}(i):(d.appendChild(_),_.contentWindow?n(i,_.contentWindow):(d.removeChild(_),n(i,window)))})(e)}class c_{constructor(){this._silent_mode=!1,this.listeners={}}_silentStart(){this._silent_mode=!0}_silentEnd(){this._silent_mode=!1}}const h_=function(e){let a={},t=0;const n=function(){let o=!0;for(const i in a){const d=a[i].apply(e,arguments);o=o&&d}return o};return n.addEvent=function(o,i){if(typeof o=="function"){let d;if(i&&i.id?d=i.id:(d=t,t++),i&&i.once){const _=o;o=function(){_(),n.removeEvent(d)}}return a[d]=o,d}return!1},n.removeEvent=function(o){delete a[o]},n.clear=function(){a={}},n};function Ga(e){const a=new c_;e.attachEvent=function(t,n,o){t="ev_"+t.toLowerCase(),a.listeners[t]||(a.listeners[t]=h_(this)),o&&o.thisObject&&(n=n.bind(o.thisObject));let i=t+":"+a.listeners[t].addEvent(n,o);return o&&o.id&&(i=o.id),i},e.attachAll=function(t){this.attachEvent("listen_all",t)},e.callEvent=function(t,n){if(a._silent_mode)return!0;const o="ev_"+t.toLowerCase(),i=a.listeners;return i.ev_listen_all&&i.ev_listen_all.apply(this,[t].concat(n)),!i[o]||i[o].apply(this,n)},e.checkEvent=function(t){return!!a.listeners["ev_"+t.toLowerCase()]},e.detachEvent=function(t){if(t){let n=a.listeners;for(const i in n)n[i].removeEvent(t);const o=t.split(":");if(n=a.listeners,o.length===2){const i=o[0],d=o[1];n[i]&&n[i].removeEvent(d)}}},e.detachAllEvents=function(){for(const t in a.listeners)a.listeners[t].clear()}}const Wr={event:function(e,a,t){e.addEventListener?e.addEventListener(a,t,!1):e.attachEvent&&e.attachEvent("on"+a,t)},eventRemove:function(e,a,t){e.removeEventListener?e.removeEventListener(a,t,!1):e.detachEvent&&e.detachEvent("on"+a,t)}};function u_(e){var a=function(){var t=function(n,o){n=n||Wr.event,o=o||Wr.eventRemove;var i=[],d={attach:function(_,r,s,l){i.push({element:_,event:r,callback:s,capture:l}),n(_,r,s,l)},detach:function(_,r,s,l){o(_,r,s,l);for(var h=0;h<i.length;h++){var v=i[h];v.element===_&&v.event===r&&v.callback===s&&v.capture===l&&(i.splice(h,1),h--)}},detachAll:function(){for(var _=i.slice(),r=0;r<_.length;r++){var s=_[r];d.detach(s.element,s.event,s.callback,s.capture),d.detach(s.element,s.event,s.callback,void 0),d.detach(s.element,s.event,s.callback,!1),d.detach(s.element,s.event,s.callback,!0)}i.splice(0,i.length)},extend:function(){return t(this.event,this.eventRemove)}};return d};return t()}();e.event=a.attach,e.eventRemove=a.detach,e._eventRemoveAll=a.detachAll,e._createDomEventScope=a.extend,e._trim=function(t){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(t)},e._isDate=function(t){return!(!t||typeof t!="object")&&!!(t.getFullYear&&t.getMonth&&t.getDate)},e._isObject=function(t){return t&&typeof t=="object"}}function ho(e){if(!e)return"";var a=e.className||"";return a.baseVal&&(a=a.baseVal),a.indexOf||(a=""),a||""}function uo(e,a,t){t===void 0&&(t=!0);for(var n=e.target||e.srcElement,o="";n;){if(o=ho(n)){var i=o.indexOf(a);if(i>=0){if(!t)return n;var d=i===0||!(o.charAt(i-1)||"").trim(),_=i+a.length>=o.length||!o.charAt(i+a.length).trim();if(d&&_)return n}}n=n.parentNode}return null}function f_(e){var a=!1,t=!1;if(window.getComputedStyle){var n=window.getComputedStyle(e,null);a=n.display,t=n.visibility}else e.currentStyle&&(a=e.currentStyle.display,t=e.currentStyle.visibility);var o=!1,i=uo({target:e},"dhx_form_repeat",!1);return i&&(o=i.style.height=="0px"),o=o||!e.offsetHeight,a!="none"&&t!="hidden"&&!o}function p_(e){return!isNaN(e.getAttribute("tabindex"))&&1*e.getAttribute("tabindex")>=0}function g_(e){return!{a:!0,area:!0}[e.nodeName.loLowerCase()]||!!e.getAttribute("href")}function m_(e){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[e.nodeName.toLowerCase()]||!e.hasAttribute("disabled")}function fo(){return document.head.createShadowRoot||document.head.attachShadow}function Jr(e){if(!e||!fo())return document.body;for(;e.parentNode&&(e=e.parentNode);)if(e instanceof ShadowRoot)return e.host;return document.body}const Dt={getAbsoluteLeft:function(e){return this.getOffset(e).left},getAbsoluteTop:function(e){return this.getOffset(e).top},getOffsetSum:function(e){for(var a=0,t=0;e;)a+=parseInt(e.offsetTop),t+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:a,left:t}},getOffsetRect:function(e){var a=e.getBoundingClientRect(),t=0,n=0;if(/Mobi/.test(navigator.userAgent)){var o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.width="1px",o.style.height="1px",document.body.appendChild(o);var i=o.getBoundingClientRect();t=a.top-i.top,n=a.left-i.left,o.parentNode.removeChild(o)}else{var d=document.body,_=document.documentElement,r=window.pageYOffset||_.scrollTop||d.scrollTop,s=window.pageXOffset||_.scrollLeft||d.scrollLeft,l=_.clientTop||d.clientTop||0,h=_.clientLeft||d.clientLeft||0;t=a.top+r-l,n=a.left+s-h}return{top:Math.round(t),left:Math.round(n)}},getOffset:function(e){return e.getBoundingClientRect?this.getOffsetRect(e):this.getOffsetSum(e)},closest:function(e,a){return e&&a?Cn(e,a):null},insertAfter:function(e,a){a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):a.parentNode.appendChild(e)},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},isChildOf:function(e,a){return a.contains(e)},getFocusableNodes:function(e){for(var a=e.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),t=Array.prototype.slice.call(a,0),n=0;n<t.length;n++)t[n].$position=n;for(t.sort(function(i,d){return i.tabIndex===0&&d.tabIndex!==0?1:i.tabIndex!==0&&d.tabIndex===0?-1:i.tabIndex===d.tabIndex?i.$position-d.$position:i.tabIndex<d.tabIndex?-1:1}),n=0;n<t.length;n++){var o=t[n];(p_(o)||m_(o)||g_(o))&&f_(o)||(t.splice(n,1),n--)}return t},getClassName:ho,locateCss:uo,getRootNode:Jr,hasShadowParent:function(e){return!!Jr(e)},isShadowDomSupported:fo,getActiveElement:function(){var e=document.activeElement;return e.shadowRoot&&(e=e.shadowRoot.activeElement),e===document.body&&document.getSelection&&(e=document.getSelection().focusNode||document.body),e},getRelativeEventPosition:function(e,a){var t=document.documentElement,n=function(o){var i=0,d=0,_=0,r=0;if(o.getBoundingClientRect){var s=o.getBoundingClientRect(),l=document.body,h=document.documentElement||document.body.parentNode||document.body,v=window.pageYOffset||h.scrollTop||l.scrollTop,g=window.pageXOffset||h.scrollLeft||l.scrollLeft,f=h.clientTop||l.clientTop||0,u=h.clientLeft||l.clientLeft||0;i=s.top+v-f,d=s.left+g-u,_=document.body.offsetWidth-s.right,r=document.body.offsetHeight-s.bottom}else{for(;o;)i+=parseInt(o.offsetTop,10),d+=parseInt(o.offsetLeft,10),o=o.offsetParent;_=document.body.offsetWidth-o.offsetWidth-d,r=document.body.offsetHeight-o.offsetHeight-i}return{y:Math.round(i),x:Math.round(d),width:o.offsetWidth,height:o.offsetHeight,right:Math.round(_),bottom:Math.round(r)}}(a);return{x:e.clientX-t.clientLeft-n.x+a.scrollLeft,y:e.clientY-t.clientTop-n.y+a.scrollTop}},getTargetNode:function(e){var a;return e.tagName?a=e:(a=(e=e||window.event).target||e.srcElement).shadowRoot&&e.composedPath&&(a=e.composedPath()[0]),a},getNodePosition:function(e){var a=0,t=0,n=0,o=0;if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),d=document.body,_=document.documentElement||document.body.parentNode||document.body,r=window.pageYOffset||_.scrollTop||d.scrollTop,s=window.pageXOffset||_.scrollLeft||d.scrollLeft,l=_.clientTop||d.clientTop||0,h=_.clientLeft||d.clientLeft||0;a=i.top+r-l,t=i.left+s-h,n=document.body.offsetWidth-i.right,o=document.body.offsetHeight-i.bottom}else{for(;e;)a+=parseInt(e.offsetTop,10),t+=parseInt(e.offsetLeft,10),e=e.offsetParent;n=document.body.offsetWidth-e.offsetWidth-t,o=document.body.offsetHeight-e.offsetHeight-a}return{y:Math.round(a),x:Math.round(t),width:e.offsetWidth,height:e.offsetHeight,right:Math.round(n),bottom:Math.round(o)}}};var Cn;if(Element.prototype.closest)Cn=function(e,a){return e.closest(a)};else{var v_=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;Cn=function(e,a){var t=e;do{if(v_.call(t,a))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}}var wt=typeof window<"u";const y_={isIE:wt&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isOpera:wt&&navigator.userAgent.indexOf("Opera")>=0,isChrome:wt&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:wt&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:wt&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:wt&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:wt&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!wt||typeof navigator>"u"};function cn(e){if(typeof e=="string"||typeof e=="number")return e;var a="";for(var t in e){var n="";e.hasOwnProperty(t)&&(n=t+"="+(n=typeof e[t]=="string"?encodeURIComponent(e[t]):typeof e[t]=="number"?e[t]:encodeURIComponent(JSON.stringify(e[t]))),a.length&&(n="&"+n),a+=n)}return a}function b_(e){var a=function(i,d){for(var _="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",r=i.match(/%[a-zA-Z]/g),s=0;s<r.length;s++)switch(r[s]){case"%j":case"%d":_+="set[2]=temp["+s+"]||1;";break;case"%n":case"%m":_+="set[1]=(temp["+s+"]||1)-1;";break;case"%y":_+="set[0]=temp["+s+"]*1+(temp["+s+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":_+="set[3]=temp["+s+"]||0;";break;case"%i":_+="set[4]=temp["+s+"]||0;";break;case"%Y":_+="set[0]=temp["+s+"]||0;";break;case"%a":case"%A":_+="set[3]=set[3]%12+((temp["+s+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":_+="set[5]=temp["+s+"]||0;";break;case"%M":_+="set[1]=this.locale.date.month_short_hash[temp["+s+"]]||0;";break;case"%F":_+="set[1]=this.locale.date.month_full_hash[temp["+s+"]]||0;"}var l="set[0],set[1],set[2],set[3],set[4],set[5]";return d&&(l=" Date.UTC("+l+")"),new Function("date","var set=[0,0,1,0,0,0]; "+_+" return new Date("+l+");")},t=function(i,d){const _=i.match(/%[a-zA-Z]/g);return function(r){for(var s=[0,0,1,0,0,0],l=r.match(/[a-zA-Z]+|[0-9]+/g),h=0;h<_.length;h++)switch(_[h]){case"%j":case"%d":s[2]=l[h]||1;break;case"%n":case"%m":s[1]=(l[h]||1)-1;break;case"%y":s[0]=1*l[h]+(l[h]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":s[3]=l[h]||0;break;case"%i":s[4]=l[h]||0;break;case"%Y":s[0]=l[h]||0;break;case"%a":case"%A":s[3]=s[3]%12+((l[h]||"").toLowerCase()=="am"?0:12);break;case"%s":s[5]=l[h]||0;break;case"%M":s[1]=e.locale.date.month_short_hash[l[h]]||0;break;case"%F":s[1]=e.locale.date.month_full_hash[l[h]]||0}return d?new Date(Date.UTC(s[0],s[1],s[2],s[3],s[4],s[5])):new Date(s[0],s[1],s[2],s[3],s[4],s[5])}};let n;function o(){var i=!1;return e.config.csp==="auto"?(n===void 0&&(n=function(){try{new Function("cspEnabled = false;"),n=!1}catch{n=!0}return n}()),i=n):i=e.config.csp,i}e.date={init:function(){for(var i=e.locale.date.month_short,d=e.locale.date.month_short_hash={},_=0;_<i.length;_++)d[i[_]]=_;for(i=e.locale.date.month_full,d=e.locale.date.month_full_hash={},_=0;_<i.length;_++)d[i[_]]=_},date_part:function(i){var d=new Date(i);return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.getHours()&&(i.getDate()<d.getDate()||i.getMonth()<d.getMonth()||i.getFullYear()<d.getFullYear())&&i.setTime(i.getTime()+36e5*(24-i.getHours())),i},time_part:function(i){return(i.valueOf()/1e3-60*i.getTimezoneOffset())%86400},week_start:function(i){var d=i.getDay();return e.config.start_on_monday&&(d===0?d=6:d--),this.date_part(this.add(i,-1*d,"day"))},month_start:function(i){return i.setDate(1),this.date_part(i)},year_start:function(i){return i.setMonth(0),this.month_start(i)},day_start:function(i){return this.date_part(i)},_add_days:function(i,d){var _=new Date(i.valueOf());if(_.setDate(_.getDate()+d),d==Math.round(d)&&d>0){var r=(+_-+i)%864e5;if(r&&i.getTimezoneOffset()==_.getTimezoneOffset()){var s=r/36e5;_.setTime(_.getTime()+60*(24-s)*60*1e3)}}return d>=0&&!i.getHours()&&_.getHours()&&(_.getDate()<i.getDate()||_.getMonth()<i.getMonth()||_.getFullYear()<i.getFullYear())&&_.setTime(_.getTime()+36e5*(24-_.getHours())),_},add:function(i,d,_){var r=new Date(i.valueOf());switch(_){case"day":r=e.date._add_days(r,d);break;case"week":r=e.date._add_days(r,7*d);break;case"month":r.setMonth(r.getMonth()+d);break;case"year":r.setYear(r.getFullYear()+d);break;case"hour":r.setTime(r.getTime()+60*d*60*1e3);break;case"minute":r.setTime(r.getTime()+60*d*1e3);break;default:return e.date["add_"+_](i,d,_)}return r},to_fixed:function(i){return i<10?"0"+i:i},copy:function(i){return new Date(i.valueOf())},date_to_str:function(i,d){return o()?function(_,r){return function(s){return _.replace(/%[a-zA-Z]/g,function(l){switch(l){case"%d":return r?e.date.to_fixed(s.getUTCDate()):e.date.to_fixed(s.getDate());case"%m":return r?e.date.to_fixed(s.getUTCMonth()+1):e.date.to_fixed(s.getMonth()+1);case"%j":return r?s.getUTCDate():s.getDate();case"%n":return r?s.getUTCMonth()+1:s.getMonth()+1;case"%y":return r?e.date.to_fixed(s.getUTCFullYear()%100):e.date.to_fixed(s.getFullYear()%100);case"%Y":return r?s.getUTCFullYear():s.getFullYear();case"%D":return r?e.locale.date.day_short[s.getUTCDay()]:e.locale.date.day_short[s.getDay()];case"%l":return r?e.locale.date.day_full[s.getUTCDay()]:e.locale.date.day_full[s.getDay()];case"%M":return r?e.locale.date.month_short[s.getUTCMonth()]:e.locale.date.month_short[s.getMonth()];case"%F":return r?e.locale.date.month_full[s.getUTCMonth()]:e.locale.date.month_full[s.getMonth()];case"%h":return r?e.date.to_fixed((s.getUTCHours()+11)%12+1):e.date.to_fixed((s.getHours()+11)%12+1);case"%g":return r?(s.getUTCHours()+11)%12+1:(s.getHours()+11)%12+1;case"%G":return r?s.getUTCHours():s.getHours();case"%H":return r?e.date.to_fixed(s.getUTCHours()):e.date.to_fixed(s.getHours());case"%i":return r?e.date.to_fixed(s.getUTCMinutes()):e.date.to_fixed(s.getMinutes());case"%a":return r?s.getUTCHours()>11?"pm":"am":s.getHours()>11?"pm":"am";case"%A":return r?s.getUTCHours()>11?"PM":"AM":s.getHours()>11?"PM":"AM";case"%s":return r?e.date.to_fixed(s.getUTCSeconds()):e.date.to_fixed(s.getSeconds());case"%W":return r?e.date.to_fixed(e.date.getUTCISOWeek(s)):e.date.to_fixed(e.date.getISOWeek(s));default:return l}})}}(i,d):(i=i.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return _}}),d&&(i=i.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+i+'";').bind(e))},str_to_date:function(i,d,_){var r=o()?t:a,s=r(i,d),l=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,h=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,v=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,g=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,f=r("%Y-%m-%d %H:%i:%s",d),u=r("%m/%d/%Y %H:%i:%s",d),m=r("%d-%m-%Y %H:%i:%s",d);return function(c){if(!_&&!e.config.parse_exact_format){if(c&&c.getISOWeek)return new Date(c);if(typeof c=="number")return new Date(c);if(p=c,l.test(String(p)))return f(c);if(function(y){return h.test(String(y))}(c))return u(c);if(function(y){return v.test(String(y))}(c))return m(c);if(function(y){return g.test(y)}(c))return new Date(c)}var p;return s.call(e,c)}},getISOWeek:function(i){if(!i)return!1;var d=(i=this.date_part(new Date(i))).getDay();d===0&&(d=7);var _=new Date(i.valueOf());_.setDate(i.getDate()+(4-d));var r=_.getFullYear(),s=Math.round((_.getTime()-new Date(r,0,1).getTime())/864e5);return 1+Math.floor(s/7)},getUTCISOWeek:function(i){return this.getISOWeek(this.convert_to_utc(i))},convert_to_utc:function(i){return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds())}}}function po(e){return(function(){var a={};for(var t in this._events){var n=this._events[t];n.id.toString().indexOf("#")==-1&&(a[n.id]=n)}return a}).bind(e)}function x_(e){e._loaded={},e._load=function(t,n){if(t=t||this._load_url){var o;if(t+=(t.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(t+="&uid="+this.uid()),n=n||this._date,this._load_mode){var i=this.templates.load_format;for(n=this.date[this._load_mode+"_start"](new Date(n.valueOf()));n>this._min_date;)n=this.date.add(n,-1,this._load_mode);o=n;for(var d=!0;o<this._max_date;)o=this.date.add(o,1,this._load_mode),this._loaded[i(n)]&&d?n=this.date.add(n,1,this._load_mode):d=!1;var _=o;do o=_,_=this.date.add(o,-1,this._load_mode);while(_>n&&this._loaded[i(_)]);if(o<=n)return!1;for(e.ajax.get(t+"&from="+i(n)+"&to="+i(o),r);n<o;)this._loaded[i(n)]=!0,n=this.date.add(n,1,this._load_mode)}else e.ajax.get(t,r);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function r(s){e.on_load(s),e.callEvent("onLoadEnd",[])}},e._parsers={},function(t){t._parsers.xml={canParse:function(n,o){if(o.responseXML&&o.responseXML.firstChild)return!0;try{var i=t.ajax.parse(o.responseText),d=t.ajax.xmltop("data",i);if(d&&d.tagName==="data")return!0}catch{}return!1},parse:function(n){var o;if(n.xmlDoc.responseXML||(n.xmlDoc.responseXML=t.ajax.parse(n.xmlDoc.responseText)),(o=t.ajax.xmltop("data",n.xmlDoc)).tagName!="data")return null;var i=o.getAttribute("dhx_security");i&&(window.dhtmlx&&(window.dhtmlx.security_key=i),t.security_key=i);for(var d=t.ajax.xpath("//coll_options",n.xmlDoc),_=0;_<d.length;_++){var r=d[_].getAttribute("for"),s=t.serverList[r];s||(t.serverList[r]=s=[]),s.splice(0,s.length);for(var l=t.ajax.xpath(".//item",d[_]),h=0;h<l.length;h++){for(var v=l[h].attributes,g={key:l[h].getAttribute("value"),label:l[h].getAttribute("label")},f=0;f<v.length;f++){var u=v[f];u.nodeName!="value"&&u.nodeName!="label"&&(g[u.nodeName]=u.nodeValue)}s.push(g)}}d.length&&t.callEvent("onOptionsLoad",[]);var m=t.ajax.xpath("//userdata",n.xmlDoc);for(_=0;_<m.length;_++){var c=t._xmlNodeToJSON(m[_]);t._userdata[c.name]=c.text}var p=[];for(o=t.ajax.xpath("//event",n.xmlDoc),_=0;_<o.length;_++){var y=p[_]=t._xmlNodeToJSON(o[_]);t._init_event(y)}return p}}}(e),function(t){t.json=t._parsers.json={canParse:function(n){if(n&&typeof n=="object")return!0;if(typeof n=="string")try{var o=JSON.parse(n);return Object.prototype.toString.call(o)==="[object Object]"||Object.prototype.toString.call(o)==="[object Array]"}catch{return!1}return!1},parse:function(n){var o=[];typeof n=="string"&&(n=JSON.parse(n)),Object.prototype.toString.call(n)==="[object Array]"?o=n:n&&(n.events?o=n.events:n.data&&(o=n.data)),o=o||[],n.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=n.dhx_security),t.security_key=n.dhx_security);var i=n&&n.collections?n.collections:{},d=!1;for(var _ in i)if(i.hasOwnProperty(_)){d=!0;var r=i[_],s=t.serverList[_];s||(t.serverList[_]=s=[]),s.splice(0,s.length);for(var l=0;l<r.length;l++){var h=r[l],v={key:h.value,label:h.label};for(var g in h)if(h.hasOwnProperty(g)){if(g=="value"||g=="label")continue;v[g]=h[g]}s.push(v)}}d&&t.callEvent("onOptionsLoad",[]);for(var f=[],u=0;u<o.length;u++){var m=o[u];t._init_event(m),f.push(m)}return f}}}(e),function(t){t.ical=t._parsers.ical={canParse:function(n){return typeof n=="string"&&new RegExp("^BEGIN:VCALENDAR").test(n)},parse:function(n){var o=n.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(o.length){o[0]=o[0].replace(/[\r\n]+ /g,""),o[0]=o[0].replace(/[\r\n]+(?=[a-z \t])/g," "),o[0]=o[0].replace(/;[^:\r\n]*:/g,":");for(var i,d=[],_=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(i=_.exec(o))!==null;){for(var r,s={},l=/[^\r\n]+[\r\n]+/g;(r=l.exec(i[1]))!==null;)this.parse_param(r.toString(),s);s.uid&&!s.id&&(s.id=s.uid),d.push(s)}return d}},parse_param:function(n,o){var i=n.indexOf(":");if(i!=-1){var d=n.substr(0,i).toLowerCase(),_=n.substr(i+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");d=="summary"?d="text":d=="dtstart"?(d="start_date",_=this.parse_date(_,0,0)):d=="dtend"&&(d="end_date",_=this.parse_date(_,0,0)),o[d]=_}},parse_date:function(n,o,i){var d=n.split("T"),_=!1;d[1]&&(o=d[1].substr(0,2),i=d[1].substr(2,2),_=d[1][6]=="Z");var r=d[0].substr(0,4),s=parseInt(d[0].substr(4,2),10)-1,l=d[0].substr(6,2);return t.config.server_utc||_?new Date(Date.UTC(r,s,l,o,i)):new Date(r,s,l,o,i)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(e),e.on_load=function(t){var n;this.callEvent("onBeforeParse",[]);var o=!1,i=!1;for(var d in this._parsers){var _=this._parsers[d];if(_.canParse(t.xmlDoc.responseText,t.xmlDoc)){try{var r=t.xmlDoc.responseText;d==="xml"&&(r=t),(n=_.parse(r))||(o=!0)}catch{o=!0}i=!0;break}}if(!i)if(this._process&&this[this._process])try{n=this[this._process].parse(t.xmlDoc.responseText)}catch{o=!0}else o=!0;(o||t.xmlDoc.status&&t.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[t.xmlDoc]),n=[]),this._process_loading(n),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},e._process_loading=function(t){this._loading=!0,this._not_render=!0;for(var n=0;n<t.length;n++)this.callEvent("onEventLoading",[t[n]])&&this.addEvent(t[n]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},e._init_event=function(t){t.text=t.text||t._tagvalue||"",t.start_date=e._init_date(t.start_date),t.end_date=e._init_date(t.end_date)},e._init_date=function(t){return t?typeof t=="string"?e._helpers.parseDate(t):new Date(t):null};const a=po(e);e.serialize=function(){const t=[],n=a();for(var o in n){const _={};var i=n[o];for(var d in i){if(d.charAt(0)=="$"||d.charAt(0)=="_")continue;let r;const s=i[d];r=e.utils.isDate(s)?e.defined(e.templates.xml_format)?e.templates.xml_format(s):e.templates.format_date(s):s,_[d]=r}t.push(_)}return t},e.parse=function(t,n){this._process=n,this.on_load({xmlDoc:{responseText:t}})},e.load=function(t,n){typeof n=="string"&&(this._process=n,n=arguments[2]),this._load_url=t,this._after_call=n,this._load(t,this._date)},e.setLoadMode=function(t){t=="all"&&(t=""),this._load_mode=t},e.serverList=function(t,n){return n?(this.serverList[t]=n.slice(0),this.serverList[t]):(this.serverList[t]=this.serverList[t]||[],this.serverList[t])},e._userdata={},e._xmlNodeToJSON=function(t){for(var n={},o=0;o<t.attributes.length;o++)n[t.attributes[o].name]=t.attributes[o].value;for(o=0;o<t.childNodes.length;o++){var i=t.childNodes[o];i.nodeType==1&&(n[i.tagName]=i.firstChild?i.firstChild.nodeValue:"")}return n.text||(n.text=t.firstChild?t.firstChild.nodeValue:""),n},e.attachEvent("onXLS",function(){var t;this.config.show_loading===!0&&((t=this.config.show_loading=document.createElement("div")).className="dhx_loading",t.style.left=Math.round((this._x-128)/2)+"px",t.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(t))}),e.attachEvent("onXLE",function(){var t=this.config.show_loading;t&&typeof t=="object"&&(t.parentNode&&t.parentNode.removeChild(t),this.config.show_loading=!0)})}function w_(e){e._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var a=!0;try{document.createEvent("TouchEvent")}catch{a=!1}a?this._touch_events(["touchmove","touchstart","touchend"],function(t){return t.touches&&t.touches.length>1?null:t.touches[0]?{target:t.target,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(t){return t.pointerType=="mouse"?null:t},function(t){return!t||t.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(t){return t.pointerType==t.MSPOINTER_TYPE_MOUSE?null:t},function(t){return!t||t.pointerType==t.MSPOINTER_TYPE_MOUSE})}},e._touch_events=function(a,t,n){var o,i,d,_,r,s,l=0;function h(g,f,u){e.event(g,f,function(m){return!!e._is_lightbox_open()||(n(m)?void 0:u(m))},{passive:!1})}function v(g){n(g)||(e._hide_global_tip(),_&&(e._on_mouse_up(t(g)),e._temp_touch_block=!1),e._drag_id=null,e._drag_mode=null,e._drag_pos=null,e._pointerDragId=null,clearTimeout(d),_=s=!1,r=!0)}h(document.body,a[0],function(g){if(!n(g)){var f=t(g);if(f){if(_)return function(u){if(!n(u)){var m=e.getState().drag_mode,c=!!e.matrix&&e.matrix[e._mode],p=e.render_view_data;m=="create"&&c&&(e.render_view_data=function(){for(var y=e.getState().drag_id,b=e.getEvent(y),x=c.y_property,k=e.getEvents(b.start_date,b.end_date),w=0;w<k.length;w++)k[w][x]!=b[x]&&(k.splice(w,1),w--);b._sorder=k.length-1,b._count=k.length,this.render_data([b],e.getState().mode)}),e._on_mouse_move(u),m=="create"&&c&&(e.render_view_data=p),u.preventDefault&&u.preventDefault(),u.cancelBubble=!0}}(f),g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,e._update_global_tip(),!1;i=t(g),s&&(i?(o.target!=i.target||Math.abs(o.pageX-i.pageX)>5||Math.abs(o.pageY-i.pageY)>5)&&(r=!0,clearTimeout(d)):r=!0)}}}),h(this._els.dhx_cal_data[0],"touchcancel",v),h(this._els.dhx_cal_data[0],"contextmenu",function(g){if(!n(g))return s?(g&&g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,!1):void 0}),h(this._obj,a[1],function(g){var f;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!n(g))if(e._pointerDragId=g.pointerId,_=r=!1,s=!0,f=i=t(g)){var u=new Date;if(!r&&!_&&u-l<250)return e._click.dhx_cal_data(f),window.setTimeout(function(){e.$destroyed||e._on_dbl_click(f)},50),g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,e._block_next_stop=!0,!1;if(l=u,!r&&!_&&e.config.touch_drag){var m=e._locate_event(document.activeElement),c=e._locate_event(f.target),p=o?e._locate_event(o.target):null;if(m&&c&&m==c&&m!=p)return g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,e._ignore_next_click=!1,e._click.dhx_cal_data(f),o=f,!1;d=setTimeout(function(){if(!e.$destroyed){_=!0;var y=o.target,b=e._getClassName(y);y&&b.indexOf("dhx_body")!=-1&&(y=y.previousSibling),e._on_mouse_down(o,y),e._drag_mode&&e._drag_mode!="create"&&e.for_rendered(e._drag_id,function(x,k){x.style.display="none",e._rendered.splice(k,1)}),e.config.touch_tip&&e._show_global_tip(),e.updateEvent(e._drag_id)}},e.config.touch_drag),o=f}}else r=!0}),h(this._els.dhx_cal_data[0],a[2],function(g){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!n(g))return e.config.touch_swipe_dates&&!_&&function(f,u,m,c){if(!f||!u)return!1;for(var p=f.target;p&&p!=e._obj;)p=p.parentNode;if(p!=e._obj||e.matrix&&e.matrix[e.getState().mode]&&e.matrix[e.getState().mode].scrollable)return!1;var y=Math.abs(f.pageY-u.pageY),b=Math.abs(f.pageX-u.pageX);return y<c&&b>m&&(!y||b/y>3)&&(f.pageX>u.pageX?e._click.dhx_cal_next_button():e._click.dhx_cal_prev_button(),!0)}(o,i,200,100)&&(e._block_next_stop=!0),_&&(e._ignore_next_click=!0,setTimeout(function(){e._ignore_next_click=!1},100)),v(g),e._block_next_stop?(e._block_next_stop=!1,g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,!1):void 0}),e.event(document.body,a[2],v)},e._show_global_tip=function(){e._hide_global_tip();var a=e._global_tip=document.createElement("div");a.className="dhx_global_tip",e._update_global_tip(1),document.body.appendChild(a)},e._update_global_tip=function(a){var t=e._global_tip;if(t){var n="";if(e._drag_id&&!a){var o=e.getEvent(e._drag_id);o&&(n="<div>"+(o._timed?e.templates.event_header(o.start_date,o.end_date,o):e.templates.day_date(o.start_date,o.end_date,o))+"</div>")}e._drag_mode=="create"||e._drag_mode=="new-size"?t.innerHTML=(e.locale.labels.drag_to_create||"Drag to create")+n:t.innerHTML=(e.locale.labels.drag_to_move||"Drag to move")+n}},e._hide_global_tip=function(){var a=e._global_tip;a&&a.parentNode&&(a.parentNode.removeChild(a),e._global_tip=0)}}function k_(e){var a,t;function n(){if(e._is_material_skin())return!0;if(t!==void 0)return t;var _=document.createElement("div");_.style.position="absolute",_.style.left="-9999px",_.style.top="-9999px",_.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(_);var r=window.getComputedStyle(_.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(_),(t=r==="border-box")||setTimeout(function(){t=void 0},1e3)}function o(){if(!e._is_material_skin()&&!e._border_box_events()){var _=t;t=void 0,a=void 0,_!==n()&&e.$container&&e.getState().mode&&e.setCurrentView()}}function i(_){var r=_.getMinutes();return r=r<10?"0"+r:r,"<span class='dhx_scale_h'>"+_.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+r+"</span>"}e._addThemeClass=function(){document.documentElement.setAttribute("data-scheduler-theme",e.skin)},e._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},e._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},e._is_material_skin=function(){return e.skin?(e.skin+"").indexOf("material")>-1:function(){if(a===void 0){var _=document.createElement("div");_.style.position="absolute",_.style.left="-9999px",_.style.top="-9999px",_.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(_);var r=window.getComputedStyle(_.querySelector(".dhx_cal_scale_placeholder")).getPropertyValue("position");a=r==="absolute",setTimeout(function(){a=null,_&&_.parentNode&&_.parentNode.removeChild(_)},500)}return a}()},e._build_skin_info=function(){(function(){const g=e.$container;clearInterval(d),g&&(d=setInterval(()=>{const f=getComputedStyle(g).getPropertyValue("--dhx-scheduler-theme");f&&f!==e.skin&&e.setSkin(f)},100))})();const _=getComputedStyle(this.$container),r=_.getPropertyValue("--dhx-scheduler-theme");let s,l=!!r,h={},v=!1;if(l){s=r;for(let g in e.xy)h[g]=_.getPropertyValue(`--dhx-scheduler-xy-${g}`);h.hour_size_px=_.getPropertyValue("--dhx-scheduler-config-hour_size_px"),h.wide_form=_.getPropertyValue("--dhx-scheduler-config-form_wide")}else s=function(){for(var g=document.getElementsByTagName("link"),f=0;f<g.length;f++){var u=g[f].href.match("dhtmlxscheduler_([a-z]+).css");if(u)return u[1]}}(),v=e._is_material_skin();if(e._theme_info={theme:s,cssVarTheme:l,oldMaterialTheme:v,values:h},e._theme_info.cssVarTheme){const g=this._theme_info.values;for(let f in e.xy)isNaN(parseInt(g[f]))||(e.xy[f]=parseInt(g[f]))}},e.event(window,"DOMContentLoaded",o),e.event(window,"load",o),e._border_box_events=function(){return n()},e._configure=function(_,r,s){for(var l in r)_[l]===void 0&&(_[l]=r[l][s])},e.setSkin=function(_){this.skin=_,e._addThemeClass(),e.$container&&(this._skin_init(),this.render())};let d=null;e.attachEvent("onDestroy",function(){clearInterval(d)}),e._skin_init=function(){this._build_skin_info(),this.skin||(this.skin=this._theme_info.theme),e._addThemeClass(),e.skin==="flat"?e.templates.hour_scale=i:e.templates.hour_scale===i&&(e.templates.hour_scale=e.date.date_to_str(e.config.hour_date)),e.attachEvent("onTemplatesReady",function(){var _=e.date.date_to_str("%d");e.templates._old_month_day||(e.templates._old_month_day=e.templates.month_day);var r=e.templates._old_month_day;e.templates.month_day=function(s){if(this._mode=="month"){var l=_(s);return s.getDate()==1&&(l=e.locale.date.month_full[s.getMonth()]+" "+l),+s==+e.date.date_part(this._currentDate())&&(l=e.locale.labels.dhx_cal_today_button+" "+l),l}return r.call(this,s)},e.config.fix_tab_position&&(e._els.dhx_cal_navline[0].querySelectorAll("[data-tab]").forEach(s=>{switch(s.getAttribute("data-tab")||s.getAttribute("name")){case"day":case"day_tab":s.classList.add("dhx_cal_tab_first"),s.classList.add("dhx_cal_tab_segmented");break;case"week":case"week_tab":s.classList.add("dhx_cal_tab_segmented");break;case"month":case"month_tab":s.classList.add("dhx_cal_tab_last"),s.classList.add("dhx_cal_tab_segmented");break;default:s.classList.add("dhx_cal_tab_standalone")}}),function(s){if(e.config.header)return;const l=Array.from(s.querySelectorAll(".dhx_cal_tab")),h=["day","week","month"].map(g=>l.find(f=>f.getAttribute("data-tab")===g)).filter(g=>g!==void 0);let v=l.length>0?l[0]:null;h.reverse().forEach(g=>{s.insertBefore(g,v),v=g})}(e._els.dhx_cal_navline[0]))},{once:!0})}}function E_(e,a){this.$scheduler=e,this.$dp=a,this._dataProcessorHandlers=[],this.attach=function(){var t=this.$dp,n=this.$scheduler;this._dataProcessorHandlers.push(n.attachEvent("onEventAdded",function(o){!this._loading&&this._validId(o)&&t.setUpdated(o,!0,"inserted")})),this._dataProcessorHandlers.push(n.attachEvent("onConfirmedBeforeEventDelete",function(o){if(this._validId(o)){var i=t.getState(o);return i=="inserted"||this._new_event?(t.setUpdated(o,!1),!0):i!="deleted"&&(i=="true_deleted"||(t.setUpdated(o,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(n.attachEvent("onEventChanged",function(o){!this._loading&&this._validId(o)&&t.setUpdated(o,!0,"updated")})),this._dataProcessorHandlers.push(n.attachEvent("onClearAll",function(){t._in_progress={},t._invalid={},t.updatedRows=[],t._waitMode=0})),t.attachEvent("insertCallback",n._update_callback),t.attachEvent("updateCallback",n._update_callback),t.attachEvent("deleteCallback",function(o,i){n.getEvent(i)?(n.setUserData(i,this.action_param,"true_deleted"),n.deleteEvent(i)):n._add_rec_marker&&n._update_callback(o,i)})},this.detach=function(){for(var t in this._dataProcessorHandlers){var n=this._dataProcessorHandlers[t];this.$scheduler.detachEvent(n)}this._dataProcessorHandlers=[]}}function Tn(e){return this.serverProcessor=e,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),Ga(this),this}function S_(e){var a="data-dhxbox",t=null;function n(c,p){var y=c.callback;f.hide(c.box),t=c.box=null,y&&y(p)}function o(c){if(t){var p=c.which||c.keyCode,y=!1;if(u.keyboard){if(p==13||p==32){var b=c.target||c.srcElement;Dt.getClassName(b).indexOf("scheduler_popup_button")>-1&&b.click?b.click():(n(t,!0),y=!0)}p==27&&(n(t,!1),y=!0)}return y?(c.preventDefault&&c.preventDefault(),!(c.cancelBubble=!0)):void 0}}function i(c){i.cover||(i.cover=document.createElement("div"),e.event(i.cover,"keydown",o),i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover)),i.cover.style.display=c?"inline-block":"none"}function d(c,p,y){var b=e._waiAria.messageButtonAttrString(c),x=(p||"").toLowerCase().replace(/ /g,"_");return`<div ${b} class='scheduler_popup_button dhtmlx_popup_button ${`scheduler_${x}_button dhtmlx_${x}_button`}' data-result='${y}' result='${y}' ><div>${c}</div></div>`}function _(){for(var c=[].slice.apply(arguments,[0]),p=0;p<c.length;p++)if(c[p])return c[p]}function r(c,p,y){var b=c.tagName?c:function(w,E,S){var D=document.createElement("div"),M=Qe.uid();e._waiAria.messageModalAttr(D,M),D.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+w.type+" dhtmlx-"+w.type,D.setAttribute(a,1);var T="";if(w.width&&(D.style.width=w.width),w.height&&(D.style.height=w.height),w.title&&(T+='<div class="scheduler_popup_title dhtmlx_popup_title">'+w.title+"</div>"),T+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+M+'"><span>'+(w.content?"":w.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',E&&(T+=d(_(w.ok,e.locale.labels.message_ok,"OK"),"ok",!0)),S&&(T+=d(_(w.cancel,e.locale.labels.message_cancel,"Cancel"),"cancel",!1)),w.buttons)for(var A=0;A<w.buttons.length;A++){var O=w.buttons[A];T+=typeof O=="object"?d(O.label,O.css||"scheduler_"+O.label.toLowerCase()+"_button dhtmlx_"+O.label.toLowerCase()+"_button",O.value||A):d(O,O,A)}if(T+="</div>",D.innerHTML=T,w.content){var $=w.content;typeof $=="string"&&($=document.getElementById($)),$.style.display=="none"&&($.style.display=""),D.childNodes[w.title?1:0].appendChild($)}return e.event(D,"click",function(q){var z=q.target||q.srcElement;if(z.className||(z=z.parentNode),Dt.closest(z,".scheduler_popup_button")){var P=z.getAttribute("data-result");n(w,P=P=="true"||P!="false"&&P)}}),w.box=D,(E||S)&&(t=w),D}(c,p,y);c.hidden||i(!0),document.body.appendChild(b);var x=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-b.offsetWidth)/2)),k=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-b.offsetHeight)/2));return c.position=="top"?b.style.top="-3px":b.style.top=k+"px",b.style.left=x+"px",e.event(b,"keydown",o),f.focus(b),c.hidden&&f.hide(b),e.callEvent("onMessagePopup",[b]),b}function s(c){return r(c,!0,!1)}function l(c){return r(c,!0,!0)}function h(c){return r(c)}function v(c,p,y){return typeof c!="object"&&(typeof p=="function"&&(y=p,p=""),c={text:c,type:p,callback:y}),c}function g(c,p,y,b,x){return typeof c!="object"&&(c={text:c,type:p,expire:y,id:b,callback:x}),c.id=c.id||Qe.uid(),c.expire=c.expire||u.expire,c}e.event(document,"keydown",o,!0);var f=function(){var c=v.apply(this,arguments);return c.type=c.type||"alert",h(c)};f.hide=function(c){for(;c&&c.getAttribute&&!c.getAttribute(a);)c=c.parentNode;c&&(c.parentNode.removeChild(c),i(!1),e.callEvent("onAfterMessagePopup",[c]))},f.focus=function(c){setTimeout(function(){var p=Dt.getFocusableNodes(c);p.length&&p[0].focus&&p[0].focus()},1)};var u=function(c,p,y,b){switch((c=g.apply(this,arguments)).type=c.type||"info",c.type.split("-")[0]){case"alert":return s(c);case"confirm":return l(c);case"modalbox":return h(c);default:return function(x){u.area||(u.area=document.createElement("div"),u.area.className="scheduler_message_area dhtmlx_message_area",u.area.style[u.position]="5px",document.body.appendChild(u.area)),u.hide(x.id);var k=document.createElement("div");return k.innerHTML="<div>"+x.text+"</div>",k.className="scheduler-info dhtmlx-info scheduler-"+x.type+" dhtmlx-"+x.type,e.event(k,"click",function(w){x.callback&&x.callback.call(this,w),u.hide(x.id),x=null}),e._waiAria.messageInfoAttr(k),u.position=="bottom"&&u.area.firstChild?u.area.insertBefore(k,u.area.firstChild):u.area.appendChild(k),x.expire>0&&(u.timers[x.id]=window.setTimeout(function(){u&&u.hide(x.id)},x.expire)),u.pull[x.id]=k,k=null,x.id}(c)}};u.seed=new Date().valueOf(),u.uid=Qe.uid,u.expire=4e3,u.keyboard=!0,u.position="top",u.pull={},u.timers={},u.hideAll=function(){for(var c in u.pull)u.hide(c)},u.hide=function(c){var p=u.pull[c];p&&p.parentNode&&(window.setTimeout(function(){p.parentNode.removeChild(p),p=null},2e3),p.className+=" hidden",u.timers[c]&&window.clearTimeout(u.timers[c]),delete u.pull[c])};var m=[];return e.attachEvent("onMessagePopup",function(c){m.push(c)}),e.attachEvent("onAfterMessagePopup",function(c){for(var p=0;p<m.length;p++)m[p]===c&&(m.splice(p,1),p--)}),e.attachEvent("onDestroy",function(){i.cover&&i.cover.parentNode&&i.cover.parentNode.removeChild(i.cover);for(var c=0;c<m.length;c++)m[c].parentNode&&m[c].parentNode.removeChild(m[c]);m=null,u.area&&u.area.parentNode&&u.area.parentNode.removeChild(u.area),u=null}),{alert:function(){var c=v.apply(this,arguments);return c.type=c.type||"confirm",s(c)},confirm:function(){var c=v.apply(this,arguments);return c.type=c.type||"alert",l(c)},message:u,modalbox:f}}Tn.prototype={setTransactionMode:function(e,a){typeof e=="object"?(this._tMode=e.mode||this._tMode,e.headers!==void 0&&(this._headers=e.headers),e.payload!==void 0&&(this._payload=e.payload),this._tSend=!!a):(this._tMode=e,this._tSend=a),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=e.router)},escape:function(e){return this._utf?encodeURIComponent(e):escape(e)},enableUTFencoding:function(e){this._utf=!!e},setDataColumns:function(e){this._columns=typeof e=="string"?e.split(","):e},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(e){this._endnm=!!e},enablePartialDataSend:function(e){this._changed=!!e},setUpdateMode:function(e,a){this.autoUpdate=e=="cell",this.updateMode=e,this.dnd=a},ignore:function(e,a){this._silent_mode=!0,e.call(a||window),this._silent_mode=!1},setUpdated:function(e,a,t){if(!this._silent_mode){var n=this.findRow(e);t=t||"updated";var o=this.$scheduler.getUserData(e,this.action_param);o&&t=="updated"&&(t=o),a?(this.set_invalid(e,!1),this.updatedRows[n]=e,this.$scheduler.setUserData(e,this.action_param,t),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(n,1),this.$scheduler.setUserData(e,this.action_param,"")),this.markRow(e,a,t),a&&this.autoUpdate&&this.sendData(e)}},markRow:function(e,a,t){var n="",o=this.is_invalid(e);if(o&&(n=this.styles[o],a=!0),this.callEvent("onRowMark",[e,a,t,o])&&(n=this.styles[a?t:"clear"]+n,this.$scheduler[this._methods[0]](e,n),o&&o.details)){n+=this.styles[o+"_cell"];for(var i=0;i<o.details.length;i++)o.details[i]&&this.$scheduler[this._methods[1]](e,i,n)}},getActionByState:function(e){return e==="inserted"?"create":e==="updated"?"update":e==="deleted"?"delete":"update"},getState:function(e){return this.$scheduler.getUserData(e,this.action_param)},is_invalid:function(e){return this._invalid[e]},set_invalid:function(e,a,t){t&&(a={value:a,details:t,toString:function(){return this.value.toString()}}),this._invalid[e]=a},checkBeforeUpdate:function(e){return!0},sendData:function(e){return this.$scheduler.editStop&&this.$scheduler.editStop(),e===void 0||this._tSend?this.sendAllData():!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))},_beforeSendData:function(e,a){if(!this.callEvent("onBeforeUpdate",[a,this.getState(a),e]))return!1;this._sendData(e,a)},serialize:function(e,a){if(this._serializeAsJson)return this._serializeAsJSON(e);if(typeof e=="string")return e;if(a!==void 0)return this.serialize_one(e,"");var t=[],n=[];for(var o in e)e.hasOwnProperty(o)&&(t.push(this.serialize_one(e[o],o+this.post_delim)),n.push(o));return t.push("ids="+this.escape(n.join(","))),this.$scheduler.security_key&&t.push("dhx_security="+this.$scheduler.security_key),t.join("&")},serialize_one:function(e,a){if(typeof e=="string")return e;var t=[],n="";for(var o in e)if(e.hasOwnProperty(o)){if((o=="id"||o==this.action_param)&&this._tMode=="REST")continue;n=typeof e[o]=="string"||typeof e[o]=="number"?e[o]:JSON.stringify(e[o]),t.push(this.escape((a||"")+o)+"="+this.escape(n))}return t.join("&")},_applyPayload:function(e){var a=this.$scheduler.ajax;if(this._payload)for(var t in this._payload)e=e+a.urlSeparator(e)+this.escape(t)+"="+this.escape(this._payload[t]);return e},_sendData:function(e,a){if(e){if(!this.callEvent("onBeforeDataSending",a?[a,this.getState(a),e]:[null,null,e]))return!1;a&&(this._in_progress[a]=new Date().valueOf());var t=this,n=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var o,i={callback:function(f){var u=[];if(a)u.push(a);else if(e)for(var m in e)u.push(m);return t.afterUpdate(t,f,u)},headers:t._headers},d=this.serverProcessor+(this._user?n.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),_=this._applyPayload(d);switch(this._tMode){case"GET":o=this._cleanupArgumentsBeforeSend(e),i.url=_+n.urlSeparator(_)+this.serialize(o,a),i.method="GET";break;case"POST":o=this._cleanupArgumentsBeforeSend(e),i.url=_,i.method="POST",i.data=this.serialize(o,a);break;case"JSON":o={};var r=this._cleanupItemBeforeSend(e);for(var s in r)s!==this.action_param&&s!=="id"&&s!=="gr_id"&&(o[s]=r[s]);i.url=_,i.method="POST",i.data=JSON.stringify({id:a,action:e[this.action_param],data:o});break;case"REST":case"REST-JSON":switch(_=d.replace(/(&|\?)editing=true/,""),o="",this.getState(a)){case"inserted":i.method="POST",i.data=this.serialize(e,a);break;case"deleted":i.method="DELETE",_=_+(_.slice(-1)==="/"?"":"/")+a;break;default:i.method="PUT",i.data=this.serialize(e,a),_=_+(_.slice(-1)==="/"?"":"/")+a}i.url=this._applyPayload(_)}return this._waitMode++,n.query(i)}{var l=this.getState(a),h=this.getActionByState(l),v=function(u){var m=l;if(u&&u.responseText&&u.setRequestHeader){u.status!==200&&(m="error");try{u=JSON.parse(u.responseText)}catch{}}m=m||"updated";var c=a,p=a;u&&(m=u.action||m,c=u.sid||c,p=u.id||u.tid||p),t.afterUpdateCallback(c,p,m,u)};const f="event";var g;if(this._router instanceof Function)g=this._router(f,h,e,a);else switch(l){case"inserted":g=this._router[f].create(e);break;case"deleted":g=this._router[f].delete(a);break;default:g=this._router[f].update(e,a)}if(g){if(!g.then&&g.id===void 0&&g.tid===void 0&&g.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");g.then?g.then(v).catch(function(u){u&&u.action?v(u):v({action:"error",value:u})}):v(g)}else v(null)}}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var e=!0;if(this._forEachUpdatedRow(function(a){e=e&&this.checkBeforeUpdate(a)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(a){if(!this._in_progress[a]){if(this.is_invalid(a))return;this._beforeSendData(this._getRowData(a),a)}})}},_getAllData:function(e){var a={},t=!1;return this._forEachUpdatedRow(function(n){if(!this._in_progress[n]&&!this.is_invalid(n)){var o=this._getRowData(n);this.callEvent("onBeforeUpdate",[n,this.getState(n),o])&&(a[n]=o,t=!0,this._in_progress[n]=new Date().valueOf())}}),t?a:null},findRow:function(e){var a=0;for(a=0;a<this.updatedRows.length&&e!=this.updatedRows[a];a++);return a},defineAction:function(e,a){this._uActions||(this._uActions={}),this._uActions[e]=a},afterUpdateCallback:function(e,a,t,n){if(this.$scheduler){var o=e,i=t!=="error"&&t!=="invalid";if(i||this.set_invalid(e,t),this._uActions&&this._uActions[t]&&!this._uActions[t](n))return delete this._in_progress[o];this._in_progress[o]!=="wait"&&this.setUpdated(e,!1);var d=e;switch(t){case"inserted":case"insert":a!=e&&(this.setUpdated(e,!1),this.$scheduler[this._methods[2]](e,a),e=a);break;case"delete":case"deleted":return this.$scheduler.setUserData(e,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](e,a),delete this._in_progress[o],this.callEvent("onAfterUpdate",[e,t,a,n])}this._in_progress[o]!=="wait"?(i&&this.$scheduler.setUserData(e,this.action_param,""),delete this._in_progress[o]):(delete this._in_progress[o],this.setUpdated(a,!0,this.$scheduler.getUserData(e,this.action_param))),this.callEvent("onAfterUpdate",[d,t,a,n])}},_errorResponse:function(e,a){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[a,e.xmlDoc]),this.cleanUpdate(a)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(e,a,t){var n=this.$scheduler.ajax;if(a.xmlDoc.status===200){var o;try{o=JSON.parse(a.xmlDoc.responseText)}catch{a.xmlDoc.responseText.length||(o={})}if(o){var i=o.action||this.getState(t)||"updated",d=o.sid||t[0],_=o.tid||t[0];return e.afterUpdateCallback(d,_,i,o),void e.finalizeUpdate()}var r=n.xmltop("data",a.xmlDoc);if(!r)return this._errorResponse(a,t);var s=n.xpath("//data/action",r);if(!s.length)return this._errorResponse(a,t);for(var l=0;l<s.length;l++){var h=s[l];i=h.getAttribute("type"),d=h.getAttribute("sid"),_=h.getAttribute("tid"),e.afterUpdateCallback(d,_,i,h)}e.finalizeUpdate()}else this._errorResponse(a,t)},cleanUpdate:function(e){if(e)for(var a=0;a<e.length;a++)delete this._in_progress[e[a]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(e){if(!this._initialized){this.$scheduler=e,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(t,n){t._validId=function(o){return!this._is_virtual_event||!this._is_virtual_event(o)},t.setUserData=function(o,i,d){if(o){var _=this.getEvent(o);_&&(_[i]=d)}else this._userdata[i]=d},t.getUserData=function(o,i){if(o){var d=this.getEvent(o);return d?d[i]:null}return this._userdata[i]},t._set_event_text_style=function(o,i){if(t.getEvent(o)){this.for_rendered(o,function(_){_.style.cssText+=";"+i});var d=this.getEvent(o);d._text_style=i,this.event_updated(d)}},t._update_callback=function(o,i){var d=t._xmlNodeToJSON(o.firstChild);d.rec_type=="none"&&(d.rec_pattern="none"),d.text=d.text||d._tagvalue,d.start_date=t._helpers.parseDate(d.start_date),d.end_date=t._helpers.parseDate(d.end_date),t.addEvent(d),t._add_rec_marker&&t.setCurrentView()},t._dp_change_event_id=function(o,i){t.getEvent(o)&&t.changeEventId(o,i)},t._dp_hook_delete=function(o,i){if(t.getEvent(o))return i&&o!=i&&(this.getUserData(o,n.action_param)=="true_deleted"&&this.setUserData(o,n.action_param,"updated"),this.changeEventId(o,i)),this.deleteEvent(i,!0)},t.setDp=function(){this._dp=n},t.setDp()}(this.$scheduler,this);var a=new E_(this.$scheduler,this);a.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,a.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,e._dataprocessor=this}},setOnAfterUpdate:function(e){this.attachEvent("onAfterUpdate",e)},setOnBeforeUpdateHandler:function(e){this.attachEvent("onBeforeDataSending",e)},setAutoUpdate:function(e,a){e=e||2e3,this._user=a||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(o,i,d,_){this.afterAutoUpdate(o,i,d,_)}),this.attachEvent("onFullSync",function(){this.fullSync()});var t=this;let n=G.setInterval(function(){t.loadUpdate()},e);this.attachEvent("onDestroy",function(){clearInterval(n)})},afterAutoUpdate:function(e,a,t,n){return a!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(e,a){var t=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,t.get(e,a)},_getXmlNodeValue:function(e){return e.firstChild?e.firstChild.nodeValue:""},loadUpdate:function(){var e=this,a=this.$scheduler.ajax,t=this.$scheduler.getUserData(0,"version"),n=this.serverProcessor+a.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+t].join("&");n=n.replace("editing=true&",""),this.getUpdates(n,function(o){var i=a.xpath("//userdata",o);e.$scheduler.setUserData(0,"version",e._getXmlNodeValue(i[0]));var d=a.xpath("//update",o);if(d.length){e._silent_mode=!0;for(var _=0;_<d.length;_++){var r=d[_].getAttribute("status"),s=d[_].getAttribute("id"),l=d[_].getAttribute("parent");switch(r){case"inserted":this.callEvent("insertCallback",[d[_],s,l]);break;case"updated":this.callEvent("updateCallback",[d[_],s,l]);break;case"deleted":this.callEvent("deleteCallback",[d[_],s,l])}}e._silent_mode=!1}e._update_busy=!1,e=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(e){this.serverProcessor=this._serverProcessor=e},_serializeAsJSON:function(e){if(typeof e=="string")return e;var a=this.$scheduler.utils.copy(e);return this._tMode==="REST-JSON"&&(delete a.id,delete a[this.action_param]),JSON.stringify(a)},_cleanupArgumentsBeforeSend:function(e){var a;if(e[this.action_param]===void 0)for(var t in a={},e)a[t]=this._cleanupArgumentsBeforeSend(e[t]);else a=this._cleanupItemBeforeSend(e);return a},_cleanupItemBeforeSend:function(e){var a=null;return e&&(e[this.action_param]==="deleted"?((a={}).id=e.id,a[this.action_param]=e[this.action_param]):a=e),a},_forEachUpdatedRow:function(e){for(var a=this.updatedRows.slice(),t=0;t<a.length;t++){var n=a[t];this.$scheduler.getUserData(n,this.action_param)&&e.call(this,n)}},_prepareItemForJson(e){const a={},t=this.$scheduler,n=t.utils.copy(e);for(let o in n){let i=n[o];o.indexOf("_")!==0&&(i?i.getUTCFullYear?a[o]=t._helpers.formatDate(i):a[o]=typeof i=="object"?this._prepareItemForJson(i):i:i!==void 0&&(a[o]=i))}return a[this.action_param]=t.getUserData(e.id,this.action_param),a},_prepareItemForForm(e){const a={},t=this.$scheduler,n=t.utils.copy(e);for(var o in n){let i=n[o];o.indexOf("_")!==0&&(i?i.getUTCFullYear?a[o]=t._helpers.formatDate(i):a[o]=typeof i=="object"?this._prepareItemForForm(i):i:a[o]="")}return a[this.action_param]=t.getUserData(e.id,this.action_param),a},_prepareDataItem:function(e){return this._serializeAsJson?this._prepareItemForJson(e):this._prepareItemForForm(e)},_getRowData:function(e){var a=this.$scheduler.getEvent(e);return a||(a={id:e}),this._prepareDataItem(a)}};const D_={date:{month_full:[" ","","","","","","","",""," "," "," "],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"  ,   ",confirm_deleting:"       ",section_description:"",section_time:" ",full_day:" ",confirm_recurring:"       ",section_recurring:" ",button_recurring:"",button_recurring_open:"",button_edit_series:" ",button_edit_occurrence:" ",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"  ",repeat_week:"  ",repeat_text_week_count:"   :",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:" ",repeat_text_month_count:"",repeat_text_month_count2_before:"",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end2:"",repeat_radio_end3:" ",repeat_never:"",repeat_daily:" ",repeat_workdays:"  ",repeat_weekly:" ",repeat_monthly:" ",repeat_yearly:" ",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:" ",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","",""]}},M_={date:{month_full:["","","","","Ma","","","","","","",""],month_short:["","","","","Ma","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",full_day:" ",confirm_recurring:"      ?",section_recurring:"",button_recurring:"",button_recurring_open:"",button_edit_series:" ",button_edit_occurrence:" ",agenda_tab:"",date:"",description:"",year_tab:"",week_agenda_tab:"",grid_tab:"ic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"  ",repeat_week:"  ",repeat_text_week_count:"",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:"  ",repeat_text_month_count:"",repeat_text_month_count2_before:" ",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end2:"",repeat_radio_end3:" ",repeat_never:"",repeat_daily:" ",repeat_workdays:"  ",repeat_weekly:" ",repeat_monthly:" ",repeat_yearly:" ",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:" ",repeat_ends:"",month_for_recurring:["","","","","","","e","","","","",""],day_for_recurring:["","","","","","",""]}},C_={date:{month_full:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancellar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar definitivament, continuar ?",section_description:"Descripci",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"Desitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perms",button_edit_series:"Edit srie",button_edit_occurrence:"Edita Instncia",agenda_tab:"Agenda",date:"Data",description:"Descripci",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diari",repeat_radio_week:"Setmanal",repeat_radio_month:"Mensual",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada dia laborable",repeat_week:" Repetir cada",repeat_text_week_count:"setmana els dies segents:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"de",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sense data de finalitzaci",repeat_text_occurences_count:"ocurrncies",repeat_radio_end2:"Desprs",repeat_radio_end3:"Finalitzar el",repeat_never:"Mai",repeat_daily:"Cada dia",repeat_workdays:"Cada dia laborable",repeat_weekly:"Cada setmana",repeat_monthly:"Cada mes",repeat_yearly:"Cada any",repeat_custom:"Personalitzat",repeat_freq_day:"Dia",repeat_freq_week:"Setmana",repeat_freq_month:"Mes",repeat_freq_year:"Any",repeat_on_date:"En la data",repeat_ends:"Finalitza",month_for_recurring:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],day_for_recurring:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]}},T_={date:{month_full:["","","","","","","","","","","",""],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"!",confirm_deleting:"?",section_description:"",section_time:"",full_day:"",confirm_recurring:"?",section_recurring:"",button_recurring:"",button_recurring_open:"",button_edit_series:"",button_edit_occurrence:"",agenda_tab:"",date:"",description:"",year_tab:"",week_agenda_tab:"",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"",repeat_week:"  ",repeat_text_week_count:":",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:" ",repeat_text_month_count:"",repeat_text_month_count2_before:"",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"",repeat_text_occurences_count:"",repeat_radio_end2:"",repeat_radio_end3:"",repeat_never:"",repeat_daily:"",repeat_workdays:"",repeat_weekly:"",repeat_monthly:"",repeat_yearly:"",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:"",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","",""]}},N_={date:{month_full:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],month_short:["Led","n","Be","Dub","Kv","er","ec","Srp","Z","j","List","Pro"],day_full:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"],day_short:["Ne","Po","t","St","t","P","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"Tden",month_tab:"Msc",new_event:"Nov udlost",icon_save:"Uloit",icon_cancel:"Zpt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Udlost bude trvale smazna, opravdu?",section_description:"Poznmky",section_time:"Doba platnosti",confirm_recurring:"Pejete si upravit celou adu opakovanch udlost?",section_recurring:"Opakovn udlosti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Poznmka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"Mka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn",repeat_radio_week:"Tdn",repeat_radio_month:"Msn",repeat_radio_year:"Ron",repeat_radio_day_type:"kad",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn dny",repeat_week:"Opakuje kadch",repeat_text_week_count:"Tdn na:",repeat_radio_month_type:"u kadho",repeat_radio_month_start:"na",repeat_text_month_day:"Den kadho",repeat_text_month_count:"Msc",repeat_text_month_count2_before:"kad",repeat_text_month_count2_after:"Msc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukonen",repeat_text_occurences_count:"Udlosti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",repeat_never:"Nikdy",repeat_daily:"Kad den",repeat_workdays:"Kad pracovn den",repeat_weekly:"Kad tden",repeat_monthly:"Kad msc",repeat_yearly:"Kad rok",repeat_custom:"Vlastn",repeat_freq_day:"Den",repeat_freq_week:"Tden",repeat_freq_month:"Msc",repeat_freq_year:"Rok",repeat_on_date:"Na datum",repeat_ends:"Kon",month_for_recurring:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"],day_for_recurring:["Nedle ","Pondl","ter","Steda","tvrtek","Ptek","Sobota"]}},A_={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"Mned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"Mnedlig",repeat_radio_year:"rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p flgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"mned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"mned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",repeat_never:"Aldrig",repeat_daily:"Hver dag",repeat_workdays:"Hver hverdag",repeat_weekly:"Hver uge",repeat_monthly:"Hver mned",repeat_yearly:"Hvert r",repeat_custom:"Brugerdefineret",repeat_freq_day:"Dag",repeat_freq_week:"Uge",repeat_freq_month:"Mned",repeat_freq_year:"r",repeat_on_date:"P dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"]}},O_={date:{month_full:[" Januar"," Februar"," Mrz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"ndern",icon_delete:"Lschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelscht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintrge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Tglich",repeat_radio_week:"Wchentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"Jhrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu",repeat_radio_end2:"nach",repeat_never:"Nie",repeat_daily:"Jeden Tag",repeat_workdays:"Jeden Werktag",repeat_weekly:"Jede Woche",repeat_monthly:"Jeden Monat",repeat_yearly:"Jedes Jahr",repeat_custom:"Benutzerdefiniert",repeat_freq_day:"Tag",repeat_freq_week:"Woche",repeat_freq_month:"Monat",repeat_freq_year:"Jahr",repeat_on_date:"Am Datum",repeat_ends:"Endet",month_for_recurring:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},L_={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"    .   ;",section_description:"",section_time:" ",full_day:" ",confirm_recurring:"        ;",section_recurring:" ",button_recurring:"",button_recurring_open:"",button_edit_series:"  ",button_edit_occurrence:"  ",agenda_tab:" ",date:"",description:"",year_tab:"",week_agenda_tab:" ",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:" ",repeat_week:"  ",repeat_text_week_count:"   :",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:" ",repeat_text_month_count:"",repeat_text_month_count2_before:"",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end3:" ",repeat_radio_end2:" ",repeat_never:"",repeat_daily:" ",repeat_workdays:"  ",repeat_weekly:" ",repeat_monthly:" ",repeat_yearly:" ",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:" ",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","",""]}},H_={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",repeat_never:"Never",repeat_daily:"Every day",repeat_workdays:"Every weekday",repeat_weekly:"Every week",repeat_monthly:"Every month",repeat_yearly:"Every year",repeat_custom:"Custom",repeat_freq_day:"Day",repeat_freq_week:"Week",repeat_freq_month:"Month",repeat_freq_year:"Year",repeat_on_date:"On date",repeat_ends:"Ends",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},$_={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],day_short:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"Da",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar definitivamente, continuar?",section_description:"Descripcin",section_time:"Perodo",full_day:"Todo el da",confirm_recurring:"Desea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"Da",date:"Fecha",description:"Descripcin",year_tab:"Ao",week_agenda_tab:"Da",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizacin",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despus de",repeat_never:"Nunca",repeat_daily:"Cada da",repeat_workdays:"Cada da laborable",repeat_weekly:"Cada semana",repeat_monthly:"Cada mes",repeat_yearly:"Cada ao",repeat_custom:"Personalizado",repeat_freq_day:"Da",repeat_freq_week:"Semana",repeat_freq_month:"Mes",repeat_freq_year:"Ao",repeat_on_date:"En la fecha",repeat_ends:"Termina",month_for_recurring:["Enero","Febrero","rzo","bril","Mayo","Junio","Julio","gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mircoles","Jeuves","Viernes","Sabado"]}},z_={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"Tnn",day_tab:"Piv",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko piv",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"Pivmr",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil",drag_to_create:"Luo uusi vetmll",drag_to_move:"Siirr vetmll",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",repeat_never:"Ei koskaan",repeat_daily:"Joka piv",repeat_workdays:"Joka arkipiv",repeat_weekly:"Joka viikko",repeat_monthly:"Joka kuukausi",repeat_yearly:"Joka vuosi",repeat_custom:"Mukautettu",repeat_freq_day:"Piv",repeat_freq_week:"Viikko",repeat_freq_month:"Kuukausi",repeat_freq_year:"Vuosi",repeat_on_date:"Tiettyn pivn",repeat_ends:"Pttyy",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},P_={date:{month_full:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],month_short:["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Ao","Sep","Oct","Nov","Dc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel vnement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Dtails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'vnement sera effac sans appel, tes-vous sr ?",section_description:"Description",section_time:"Priode",full_day:"Journe complte",confirm_recurring:"Voulez-vous diter toute une srie d'vnements rpts?",section_recurring:"Priodicit",button_recurring:"Dsactiv",button_recurring_open:"Activ",button_edit_series:"Modifier la srie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Anne",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journe de travail",repeat_week:" Rpter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"Rpter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;achvement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Aprs",repeat_never:"Jamais",repeat_daily:"Chaque jour",repeat_workdays:"Chaque jour ouvrable",repeat_weekly:"Chaque semaine",repeat_monthly:"Chaque mois",repeat_yearly:"Chaque anne",repeat_custom:"Personnalis",repeat_freq_day:"Jour",repeat_freq_week:"Semaine",repeat_freq_month:"Mois",repeat_freq_year:"Anne",repeat_on_date:" la date",repeat_ends:"Se termine",month_for_recurring:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},R_={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .?",section_description:"",section_time:"",confirm_recurring:"      ?",section_recurring:" ",button_recurring:" ",button_recurring_open:"",full_day:" ",button_edit_series:"  ",button_edit_occurrence:" ",agenda_tab:" ",date:"",description:"",year_tab:"",week_agenda_tab:" ",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"  ",message_ok:"OK",message_cancel:"",next:"",prev:"",year:"",month:"",day:"",hour:"",minute:"",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:" ",repeat_text_day_count:"",repeat_radio_day_type2:"   ",repeat_week:"  ",repeat_text_week_count:"  :",repeat_radio_month_type:" ",repeat_radio_month_start:"",repeat_text_month_day:" ",repeat_text_month_count:"",repeat_text_month_count2_before:" ",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end3:" ",repeat_radio_end2:"",repeat_never:" ",repeat_daily:" ",repeat_workdays:"  ",repeat_weekly:" ",repeat_monthly:" ",repeat_yearly:" ",repeat_custom:" ",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:"",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","",""]}},q_={date:{month_full:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],month_short:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","szombat"],day_short:["Va","H","Ke","Sze","Cs","P","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"Ht",month_tab:"Hnap",new_event:"j esemny",icon_save:"Ments",icon_cancel:"Mgse",icon_details:"Rszletek",icon_edit:"Szerkeszts",icon_delete:"Trls",confirm_closing:"",confirm_deleting:"Az esemny trlve lesz, biztosan folytatja?",section_description:"Lers",section_time:"Idszak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az sszes ismtld esemny belltst?",section_recurring:"Esemny ismtlse",button_recurring:"Tilts",button_recurring_open:"Engedlyezs",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszts brsg",agenda_tab:"Napirend",date:"Dtum",description:"Lers",year_tab:"v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Napi",repeat_radio_week:"Heti",repeat_radio_month:"Havi",repeat_radio_year:"ves",repeat_radio_day_type:"Minden",repeat_text_day_count:"nap",repeat_radio_day_type2:"Minden munkanap",repeat_week:" Ismtelje meg minden",repeat_text_week_count:"hten a kvetkez napokon:",repeat_radio_month_type:"Ismtls",repeat_radio_month_start:"Ekkor",repeat_text_month_day:"nap minden",repeat_text_month_count:"hnapban",repeat_text_month_count2_before:"minden",repeat_text_month_count2_after:"hnapban",repeat_year_label:"Ekkor",select_year_day2:"-n/-n",repeat_text_year_day:"nap",select_year_month:"hnap",repeat_radio_end:"Nincs befejezsi dtum",repeat_text_occurences_count:"esemny",repeat_radio_end2:"Utn",repeat_radio_end3:"Befejez dtum",repeat_never:"Soha",repeat_daily:"Minden nap",repeat_workdays:"Minden munkanap",repeat_weekly:"Minden hten",repeat_monthly:"Minden hnapban",repeat_yearly:"Minden vben",repeat_custom:"Egyedi",repeat_freq_day:"Nap",repeat_freq_week:"Ht",repeat_freq_month:"Hnap",repeat_freq_year:"v",repeat_on_date:"Dtum szerint",repeat_ends:"Befejezdik",month_for_recurring:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],day_for_recurring:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"]}},j_={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Harian",repeat_radio_week:"Mingguan",repeat_radio_month:"Bulanan",repeat_radio_year:"Tahunan",repeat_radio_day_type:"Setiap",repeat_text_day_count:"hari",repeat_radio_day_type2:"Setiap hari kerja",repeat_week:" Ulangi setiap",repeat_text_week_count:"minggu pada hari berikut:",repeat_radio_month_type:"Ulangi",repeat_radio_month_start:"Pada",repeat_text_month_day:"hari setiap",repeat_text_month_count:"bulan",repeat_text_month_count2_before:"setiap",repeat_text_month_count2_after:"bulan",repeat_year_label:"Pada",select_year_day2:"dari",repeat_text_year_day:"hari",select_year_month:"bulan",repeat_radio_end:"Tanpa tanggal akhir",repeat_text_occurences_count:"kejadian",repeat_radio_end2:"Setelah",repeat_radio_end3:"Berakhir pada",repeat_never:"Tidak pernah",repeat_daily:"Setiap hari",repeat_workdays:"Setiap hari kerja",repeat_weekly:"Setiap minggu",repeat_monthly:"Setiap bulan",repeat_yearly:"Setiap tahun",repeat_custom:"Kustom",repeat_freq_day:"Hari",repeat_freq_week:"Minggu",repeat_freq_month:"Bulan",repeat_freq_year:"Tahun",repeat_on_date:"Pada tanggal",repeat_ends:"Berakhir",month_for_recurring:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],day_for_recurring:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]}},I_={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",repeat_never:"Mai",repeat_daily:"Ogni giorno",repeat_workdays:"Ogni giorno feriale",repeat_weekly:"Ogni settimana",repeat_monthly:"Ogni mese",repeat_yearly:"Ogni anno",repeat_custom:"Personalizzato",repeat_freq_day:"Giorno",repeat_freq_week:"Settimana",repeat_freq_month:"Mese",repeat_freq_year:"Anno",repeat_on_date:"Alla data",repeat_ends:"Finisce",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned","Marted","Mercoled","Joved","Venerd","Sabato"]}},V_={date:{month_full:["1","2","3","4","5","6","7","8","9","10","11","12"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:"",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"",section_description:"",section_time:"",confirm_recurring:"",section_recurring:"",button_recurring:"",button_recurring_open:"",full_day:"",button_edit_series:"",button_edit_occurrence:"",agenda_tab:"",date:"",description:"",year_tab:"",week_agenda_tab:"",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"",repeat_week:" ",repeat_text_week_count:" :",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:"",repeat_text_month_count:"",repeat_text_month_count2_before:"",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"",repeat_text_occurences_count:"",repeat_radio_end2:"",repeat_radio_end3:"",repeat_never:"",repeat_daily:"",repeat_workdays:"",repeat_weekly:"",repeat_monthly:"",repeat_yearly:"",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:"",repeat_ends:"",month_for_recurring:["1","2","3","4","5","6","7","8","9","10","11","12"],day_for_recurring:["","","","","","",""]}};class F_{constructor(a){this._locales={};for(const t in a)this._locales[t]=a[t]}addLocale(a,t){this._locales[a]=t}getLocale(a){return this._locales[a]}}const U_={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mon","Tir","Ons","Tor","Fre","Lr"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"Mned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"Mnedlig",repeat_radio_year:"rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p:",repeat_radio_month_type:"P hver",repeat_radio_month_start:"P",repeat_text_month_day:"dag hver",repeat_text_month_count:"mned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"mned",repeat_year_label:"p",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",repeat_never:"Aldri",repeat_daily:"Hver dag",repeat_workdays:"Hver ukedag",repeat_weekly:"Hver uke",repeat_monthly:"Hver mned",repeat_yearly:"Hvert r",repeat_custom:"Tilpasset",repeat_freq_day:"Dag",repeat_freq_week:"Uke",repeat_freq_month:"Mned",repeat_freq_year:"r",repeat_on_date:"P dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"]}},Y_={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",repeat_never:"Nooit",repeat_daily:"Elke dag",repeat_workdays:"Elke werkdag",repeat_weekly:"Elke week",repeat_monthly:"Elke maand",repeat_yearly:"Elk jaar",repeat_custom:"Aangepast",repeat_freq_day:"Dag",repeat_freq_week:"Week",repeat_freq_month:"Maand",repeat_freq_year:"Jaar",repeat_on_date:"Op datum",repeat_ends:"Eindigt",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},B_={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Man","Tir","Ons","Tor","Fre","Lr"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"Mned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppfringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppfringer?",section_recurring:"Repeterende oppfring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"Mnedlig",repeat_radio_year:"rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Hver arbeidsdag",repeat_week:" Gjenta hver",repeat_text_week_count:"uke neste dager:",repeat_radio_month_type:"Gjenta",repeat_radio_month_start:"P",repeat_text_month_day:"dag hver",repeat_text_month_count:"mned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"mned",repeat_year_label:"P",select_year_day2:"av",repeat_text_year_day:"dag",select_year_month:"mned",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomster",repeat_radio_end2:"Etter",repeat_radio_end3:"Slutt innen",repeat_never:"Aldri",repeat_daily:"Hver dag",repeat_workdays:"Hver ukedag",repeat_weekly:"Hver uke",repeat_monthly:"Hver mned",repeat_yearly:"Hvert r",repeat_custom:"Tilpasset",repeat_freq_day:"Dag",repeat_freq_week:"Uke",repeat_freq_month:"Mned",repeat_freq_year:"r",repeat_on_date:"P dato",repeat_ends:"Slutter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"]}},W_={date:{month_full:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],day_full:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],day_short:["Nie","Pon","Wto","ro","Czw","Pi","Sob"]},labels:{dhx_cal_today_button:"Dzi",day_tab:"Dzie",week_tab:"Tydzie",month_tab:"Miesic",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegy",icon_edit:"Edytuj",icon_delete:"Usu",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunite na zawsze, kontynuowa?",section_description:"Opis",section_time:"Okres czasu",full_day:"Cay dzie",confirm_recurring:"Czy chcesz edytowa cay zbir powtarzajcych si zdarze?",section_recurring:"Powtrz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri",button_edit_occurrence:"Edytuj kopi",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",repeat_never:"Nigdy",repeat_daily:"Codziennie",repeat_workdays:"Kady dzie roboczy",repeat_weekly:"Co tydzie",repeat_monthly:"Co miesic",repeat_yearly:"Co rok",repeat_custom:"Niestandardowy",repeat_freq_day:"Dzie",repeat_freq_week:"Tydzie",repeat_freq_month:"Miesic",repeat_freq_year:"Rok",repeat_on_date:"W dniu",repeat_ends:"Koczy si",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},J_={date:{month_full:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"Ms",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descrio",section_time:"Perodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a srie",button_edit_occurrence:"Editar uma cpia",agenda_tab:"Dia",date:"Data",description:"Descrio",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dirio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho dirio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"ms",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"ms",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"ms",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorrncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",repeat_never:"Nunca",repeat_daily:"Todos os dias",repeat_workdays:"Todos os dias teis",repeat_weekly:"Toda semana",repeat_monthly:"Todo ms",repeat_yearly:"Todo ano",repeat_custom:"Personalizado",repeat_freq_day:"Dia",repeat_freq_week:"Semana",repeat_freq_month:"Ms",repeat_freq_year:"Ano",repeat_on_date:"Na data",repeat_ends:"Termina",month_for_recurring:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"]}},K_={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",repeat_never:"Niciodat",repeat_daily:"n fiecare zi",repeat_workdays:"n fiecare zi lucrtoare",repeat_weekly:"n fiecare sptmn",repeat_monthly:"n fiecare lun",repeat_yearly:"n fiecare an",repeat_custom:"Personalizat",repeat_freq_day:"Zi",repeat_freq_week:"Sptmn",repeat_freq_month:"Lun",repeat_freq_year:"An",repeat_on_date:"La data",repeat_ends:"Se termin",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},X_={date:{month_full:["","","","","Ma","","","","","O","",""],month_short:["","","Ma","A","Ma","","","A","","","",""],day_full:["","","","","","",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"   , ?",section_description:"",section_time:" ",full_day:" ",confirm_recurring:"      ?",section_recurring:"",button_recurring:"",button_recurring_open:"",button_edit_series:" ",button_edit_occurrence:" ",agenda_tab:"",date:"",description:"",year_tab:"",week_agenda_tab:"",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"  ",repeat_week:"  ",repeat_text_week_count:" , :",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:"   ",repeat_text_month_count:"",repeat_text_month_count2_before:" ",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end3:" ",repeat_radio_end2:"",repeat_never:"",repeat_daily:" ",repeat_workdays:"  ",repeat_weekly:" ",repeat_monthly:" ",repeat_yearly:" ",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:" ",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","",""]}},G_={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","et","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Preklii",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbrii",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. elite nadaljevati?",section_description:"Opis",section_time:"asovni okvir",full_day:"Ves dan",confirm_recurring:"elite urediti celoten set ponavljajoih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogoeno",button_recurring_open:"Omogoeno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dnevno",repeat_radio_week:"Tedensko",repeat_radio_month:"Meseno",repeat_radio_year:"Letno",repeat_radio_day_type:"Vsak",repeat_text_day_count:"dan",repeat_radio_day_type2:"Vsak delovni dan",repeat_week:" Ponavljaj vsak",repeat_text_week_count:"teden na naslednje dni:",repeat_radio_month_type:"Ponavljaj",repeat_radio_month_start:"Na",repeat_text_month_day:"dan vsak",repeat_text_month_count:"mesec",repeat_text_month_count2_before:"vsak",repeat_text_month_count2_after:"mesec",repeat_year_label:"Na",select_year_day2:"od",repeat_text_year_day:"dan",select_year_month:"mesec",repeat_radio_end:"Brez konnega datuma",repeat_text_occurences_count:"pojavitve",repeat_radio_end2:"Po",repeat_radio_end3:"Konaj do",repeat_never:"Nikoli",repeat_daily:"Vsak dan",repeat_workdays:"Vsak delovni dan",repeat_weekly:"Vsak teden",repeat_monthly:"Vsak mesec",repeat_yearly:"Vsako leto",repeat_custom:"Po meri",repeat_freq_day:"Dan",repeat_freq_week:"Teden",repeat_freq_month:"Mesec",repeat_freq_year:"Leto",repeat_on_date:"Na datum",repeat_ends:"Kona se",month_for_recurring:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],day_for_recurring:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"]}},Z_={date:{month_full:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],month_short:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De",week_tab:"Tde",month_tab:"Mesiac",new_event:"Nov udalos",icon_save:"Uloi",icon_cancel:"Sp",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza",confirm_closing:"Vae zmeny nebud uloen. Skutone?",confirm_deleting:"Udalos bude natrvalo vymazan. Skutone?",section_description:"Poznmky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi cel radu opakovanch udalost?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut",button_recurring_open:"Zapnut",button_edit_series:"Upravi opakovania",button_edit_occurrence:"Upravi intancie",agenda_tab:"Program",date:"Dtum",description:"Poznmka",year_tab:"Rok",full_day:"Cel de",week_agenda_tab:"Program",grid_tab:"Mrieka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"Tdenne",repeat_radio_month:"Mesane",repeat_radio_year:"Rone",repeat_radio_day_type:"Kad",repeat_text_day_count:"de",repeat_radio_day_type2:"Kad prac. de",repeat_week:"Opakova kad",repeat_text_week_count:"tde v doch:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de kad",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"kad",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"poas",repeat_text_year_day:"de",select_year_month:"mesiac",repeat_radio_end:"Bez dtumu ukonenia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukoni",repeat_radio_end2:"Po",repeat_never:"Nikdy",repeat_daily:"Kad de",repeat_workdays:"Kad pracovn de",repeat_weekly:"Kad tde",repeat_monthly:"Kad mesiac",repeat_yearly:"Kad rok",repeat_custom:"Vlastn",repeat_freq_day:"De",repeat_freq_week:"Tde",repeat_freq_month:"Mesiac",repeat_freq_year:"Rok",repeat_on_date:"Na dtum",repeat_ends:"Koniec",month_for_recurring:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],day_for_recurring:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"]}},Q_={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],day_short:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"Mnad",new_event:"Ny hndelse",icon_save:"Spara",icon_cancel:"ngra",icon_details:"Detaljer",icon_edit:"ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"r du sker p att du vill ta bort hndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande hndelser?",section_recurring:"Upprepa hndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra fr att skapa ny",drag_to_move:"Dra fr att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"Mnadsvis",repeat_radio_year:"rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"mnad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"mnad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"mnad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",repeat_never:"Aldrig",repeat_daily:"Varje dag",repeat_workdays:"Varje vardag",repeat_weekly:"Varje vecka",repeat_monthly:"Varje mnad",repeat_yearly:"Varje r",repeat_custom:"Anpassad",repeat_freq_day:"Dag",repeat_freq_week:"Vecka",repeat_freq_month:"Mnad",repeat_freq_year:"r",repeat_on_date:"P datum",repeat_ends:"Slutar",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"]}},el={date:{month_full:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],month_short:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal","aramba","Perembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bugn",day_tab:"Gn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"ptal",icon_details:"Detaylar",icon_edit:"Dzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"Aklama",section_time:"Zaman aral",full_day:"Tam gn",confirm_recurring:"Tm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinlii tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi dzenleme",button_edit_occurrence:"Bir kopyasn dzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"Aklama",year_tab:"Yl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Gnlk",repeat_radio_week:"Haftalk",repeat_radio_month:"Aylk",repeat_radio_year:"Yllk",repeat_radio_day_type:"Her",repeat_text_day_count:"gn",repeat_radio_day_type2:"Her i gn",repeat_week:" Tekrar her",repeat_text_week_count:"hafta u gnlerde:",repeat_radio_month_type:"Tekrar et",repeat_radio_month_start:"Tarihinde",repeat_text_month_day:"gn her",repeat_text_month_count:"ay",repeat_text_month_count2_before:"her",repeat_text_month_count2_after:"ay",repeat_year_label:"Tarihinde",select_year_day2:"ayn",repeat_text_year_day:"gn",select_year_month:"ay",repeat_radio_end:"Biti tarihi yok",repeat_text_occurences_count:"olay",repeat_radio_end2:"Sonra",repeat_radio_end3:"Tarihinde bitir",repeat_never:"Asla",repeat_daily:"Her gn",repeat_workdays:"Her i gn",repeat_weekly:"Her hafta",repeat_monthly:"Her ay",repeat_yearly:"Her yl",repeat_custom:"zel",repeat_freq_day:"Gn",repeat_freq_week:"Hafta",repeat_freq_month:"Ay",repeat_freq_year:"Yl",repeat_on_date:"Tarihinde",repeat_ends:"Biter",month_for_recurring:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],day_for_recurring:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"]}},tl={date:{month_full:["","","","","","","","","","","",""],month_short:["","","","","","","","","","","",""],day_full:["","","","","","'",""],day_short:["","","","","","",""]},labels:{dhx_cal_today_button:"",day_tab:"",week_tab:"",month_tab:"",new_event:" ",icon_save:"",icon_cancel:"",icon_details:"",icon_edit:"",icon_delete:"",confirm_closing:"",confirm_deleting:"  .  ?",section_description:"",section_time:" ",full_day:" ",confirm_recurring:"     ?",section_recurring:" ",button_recurring:"",button_recurring_open:"",button_edit_series:" ",button_edit_occurrence:" ",agenda_tab:"",date:"",description:"",year_tab:"",week_agenda_tab:"",grid_tab:"",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"",repeat_radio_week:"",repeat_radio_month:"",repeat_radio_year:"",repeat_radio_day_type:"",repeat_text_day_count:"",repeat_radio_day_type2:"  ",repeat_week:"  ",repeat_text_week_count:" , :",repeat_radio_month_type:"",repeat_radio_month_start:"",repeat_text_month_day:"   ",repeat_text_month_count:"",repeat_text_month_count2_before:" ",repeat_text_month_count2_after:"",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"",select_year_month:"",repeat_radio_end:"  ",repeat_text_occurences_count:"",repeat_radio_end3:" ",repeat_radio_end2:"",repeat_never:"",repeat_daily:"",repeat_workdays:"   ",repeat_weekly:"",repeat_monthly:"",repeat_yearly:"",repeat_custom:"",repeat_freq_day:"",repeat_freq_week:"",repeat_freq_month:"",repeat_freq_year:"",repeat_on_date:" ",repeat_ends:"",month_for_recurring:["","","","","","","","","","","",""],day_for_recurring:["","","","","","'",""]}};class al{constructor(a,t,n={}){this.state={date:new Date,modes:["days","months","years"],currentRange:[],eventDates:[],currentModeIndex:0,...n},this.container=null,this.element=null,this.onStateChangeHandlers=[],this.scheduler=a,this._domEvents=a._createDomEventScope(),this.state=this.getState(),Ga(this),t&&(this.container=t,this.render(this.container)),this.onStateChange((o,i)=>{this.callEvent("onStateChange",[i,o])})}getState(){return{...this.state,mode:this.state.modes[this.state.currentModeIndex]}}setState(a){const t={...this.state};a.mode&&(a.currentModeIndex=this.state.modes.indexOf(a.mode)),this.state={...this.state,...a},this._notifyStateChange(t,this.state),this.container&&this.render(this.container)}onStateChange(a){return this.onStateChangeHandlers.push(a),()=>{const t=this.onStateChangeHandlers.indexOf(a);t!==-1&&this.onStateChangeHandlers.splice(t,1)}}_notifyStateChange(a,t){this.onStateChangeHandlers.forEach(n=>n(a,t))}_adjustDate(a){const{mode:t,date:n}=this.getState(),o=new Date(n);t==="days"?o.setMonth(n.getMonth()+a):t==="months"?o.setFullYear(n.getFullYear()+a):o.setFullYear(n.getFullYear()+10*a),this.setState({date:o})}_toggleMode(){const a=(this.state.currentModeIndex+1)%this.state.modes.length;this.setState({currentModeIndex:a})}_renderCalendarHeader(a){const{mode:t,date:n}=this.getState(),o=document.createElement("div");o.classList.add("dhx_cal_datepicker_header");const i=document.createElement("button");i.classList.add("dhx_cal_datepicker_arrow","scheduler_icon","arrow_left"),o.appendChild(i);const d=document.createElement("div");if(d.classList.add("dhx_cal_datepicker_title"),t==="days")d.innerText=n.toLocaleString("default",{month:"long"})+" "+n.getFullYear();else if(t==="months")d.innerText=n.getFullYear();else{const r=10*Math.floor(n.getFullYear()/10);d.innerText=`${r} - ${r+9}`}this._domEvents.attach(d,"click",this._toggleMode.bind(this)),o.appendChild(d);const _=document.createElement("button");_.classList.add("dhx_cal_datepicker_arrow","scheduler_icon","arrow_right"),o.appendChild(_),a.appendChild(o),this._domEvents.attach(i,"click",this._adjustDate.bind(this,-1)),this._domEvents.attach(_,"click",this._adjustDate.bind(this,1))}render(a){this._domEvents.detachAll(),this.container=a||this.container,this.container.innerHTML="",this.element||(this.element=document.createElement("div"),this.element.classList.add("dhx_cal_datepicker")),this.element.innerHTML="",this.container.appendChild(this.element),this._renderCalendarHeader(this.element);const t=document.createElement("div");t.classList.add("dhx_cal_datepicker_data"),this.element.appendChild(t);const{mode:n}=this.getState();n==="days"?this._renderDayGrid(t):n==="months"?this._renderMonthGrid(t):this._renderYearGrid(t)}_renderDayGridHeader(a){const{date:t}=this.getState(),n=this.scheduler;let o=n.date.week_start(new Date(t));const i=n.date.add(n.date.week_start(new Date(t)),1,"week");a.classList.add("dhx_cal_datepicker_days");const d=n.date.date_to_str("%D");for(;o.valueOf()<i.valueOf();){const _=d(o),r=document.createElement("div");r.setAttribute("data-day",o.getDay()),r.classList.add("dhx_cal_datepicker_dayname"),r.innerText=_,a.appendChild(r),o=n.date.add(o,1,"day")}}_weeksBetween(a,t){const n=this.scheduler;let o=0,i=new Date(a);for(;i.valueOf()<t.valueOf();)o+=1,i=n.date.week_start(n.date.add(i,1,"week"));return o}_renderDayGrid(a){const{date:t,currentRange:n,eventDates:o,minWeeks:i}=this.getState();let d=n[0],_=n[1];const r=o.reduce((y,b)=>(y[this.scheduler.date.day_start(new Date(b)).valueOf()]=!0,y),{}),s=document.createElement("div");this._renderDayGridHeader(s),a.appendChild(s);const l=this.scheduler,h=l.date.week_start(l.date.month_start(new Date(t))),v=l.date.month_start(new Date(t)),g=l.date.add(l.date.month_start(new Date(t)),1,"month");let f=l.date.add(l.date.month_start(new Date(t)),1,"month");const u=l.date.date_part(l._currentDate());f.getDay()!==0&&(f=l.date.add(l.date.week_start(f),1,"week"));let m=this._weeksBetween(h,f);i&&m<i&&(f=l.date.add(f,i-m,"week"));let c=h;const p=document.createElement("div");for(p.classList.add("dhx_cal_datepicker_days"),this._domEvents.attach(p,"click",y=>{const b=y.target.closest("[data-cell-date]"),x=new Date(b.getAttribute("data-cell-date"));this.callEvent("onDateClick",[x,y])});c.valueOf()<f.valueOf();){const y=document.createElement("div");y.setAttribute("data-cell-date",l.templates.format_date(c)),y.setAttribute("data-day",c.getDay()),y.innerHTML=c.getDate(),c.valueOf()<v.valueOf()?y.classList.add("dhx_before"):c.valueOf()>=g.valueOf()&&y.classList.add("dhx_after"),c.getDay()!==0&&c.getDay()!==6||y.classList.add("dhx_cal_datepicker_weekend"),c.valueOf()==u.valueOf()&&y.classList.add("dhx_now"),d&&_&&c.valueOf()>=d.valueOf()&&c.valueOf()<_.valueOf()&&y.classList.add("dhx_cal_datepicker_current"),r[c.valueOf()]&&y.classList.add("dhx_cal_datepicker_event"),y.classList.add("dhx_cal_datepicker_date"),p.appendChild(y),c=l.date.add(c,1,"day")}a.appendChild(p)}_renderMonthGrid(a){const{date:t}=this.getState(),n=document.createElement("div");n.classList.add("dhx_cal_datepicker_months");const o=[];for(let r=0;r<12;r++)o.push(new Date(t.getFullYear(),r,1));const i=this.scheduler.date.date_to_str("%M");o.forEach(r=>{const s=document.createElement("div");s.classList.add("dhx_cal_datepicker_month"),t.getMonth()===r.getMonth()&&s.classList.add("dhx_cal_datepicker_current"),s.setAttribute("data-month",r.getMonth()),s.innerHTML=i(r),this._domEvents.attach(s,"click",()=>{const l=new Date(r);this.setState({date:l,mode:"days"})}),n.appendChild(s)}),a.appendChild(n);const d=document.createElement("div");d.classList.add("dhx_cal_datepicker_done");const _=document.createElement("button");_.innerText="Done",_.classList.add("dhx_cal_datepicker_done_btn"),this._domEvents.attach(_,"click",()=>{this.setState({mode:"days"})}),d.appendChild(_),a.appendChild(d)}_renderYearGrid(a){const{date:t}=this.getState(),n=10*Math.floor(t.getFullYear()/10),o=document.createElement("div");o.classList.add("dhx_cal_datepicker_years");for(let _=n-1;_<=n+10;_++){const r=document.createElement("div");r.innerText=_,r.classList.add("dhx_cal_datepicker_year"),r.setAttribute("data-year",_),t.getFullYear()===_&&r.classList.add("dhx_cal_datepicker_current"),this._domEvents.attach(r,"click",()=>{this.setState({date:new Date(_,t.getMonth(),1),mode:"months"})}),o.appendChild(r)}a.appendChild(o);const i=document.createElement("div");i.classList.add("dhx_cal_datepicker_done");const d=document.createElement("button");d.innerText="Done",d.classList.add("dhx_cal_datepicker_done_btn"),this._domEvents.attach(d,"click",()=>{this.setState({mode:"months"})}),i.appendChild(d),a.appendChild(i)}destructor(){this.onStateChangeHandlers=[],this.element&&(this.element.innerHTML="",this.element.remove()),this._domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents(),this.scheduler=null}}function nl(e){const a={version:"7.1.1"};a.$stateProvider=function(){const r={};return{getState:function(s){if(r[s])return r[s].method();{const l={};for(const h in r)r[h].internal||Qe.mixin(l,r[h].method(),!0);return l}},registerProvider:function(s,l,h){r[s]={method:l,internal:h}},unregisterProvider:function(s){delete r[s]}}}(),a.getState=a.$stateProvider.getState,function(r){var s={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},l={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};r._commonErrorMessages={unknownView:function(h){var v=l[h]?"You're probably missing "+l[h]+".":"";return"`"+h+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(s[h]||s.anythingElse)+`
`+(v?v+`
`:"")},collapsedContainer:function(h){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},r.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+l.timeline+`
Related docs: `+s.timeline)},r.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+l.unit+`
Related docs: `+s.unit)},r.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+l.grid+`
Related docs: `+s.grid)},r.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},r.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},r.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},r.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}}(a),u_(a),function(r){Ga(r),__(r),r._detachDomEvent=function(u,m,c){u.removeEventListener?u.removeEventListener(m,c,!1):u.detachEvent&&u.detachEvent("on"+m,c)},r._init_once=function(){l_(r),r._init_once=function(){}};const s={render:function(u){return r._init_nav_bar(u)}},l={render:function(u){const m=document.createElement("div");return m.className="dhx_cal_header",m}},h={render:function(u){const m=document.createElement("div");return m.className="dhx_cal_data",m}};function v(u){return!!(u.querySelector(".dhx_cal_header")&&u.querySelector(".dhx_cal_data")&&u.querySelector(".dhx_cal_navline"))}r.init=function(u,m,c){if(!this.$destroyed){if(m=m||r._currentDate(),c=c||"week",this._obj&&this.unset_actions(),this._obj=typeof u=="string"?document.getElementById(u):u,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(r._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||v(this.$container)||(this.config.header=function(p){const y=["day","week","month"];if(p.matrix)for(const b in p.matrix)y.push(b);if(p._props)for(const b in p._props)y.push(b);if(p._grid&&p._grid.names)for(const b in p._grid.names)y.push(b);return["map","agenda","week_agenda","year"].forEach(function(b){p[b+"_view"]&&y.push(b)}),y.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(s.render(this.config.header)),this.$container.appendChild(l.render()),this.$container.appendChild(h.render());else if(!v(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&r._skin_init(),r.date.init(),this._scroll=!0,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),r.callEvent("onSchedulerReady",[]),r.$initialized=!0,this.setCurrentView(m,c)}},r.xy={min_event_height:20,bar_height:24,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},r.keys={edit_save:13,edit_cancel:27},r.bind=function(u,m){return u.bind?u.bind(m):function(){return u.apply(m,arguments)}},r.set_sizes=function(){var u=this._x=this._obj.clientWidth-this.xy.margin_left,m=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,c=this.$container.querySelector(".dhx_cal_scale_placeholder");r._is_material_skin()?(c||((c=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(c,this._els.dhx_cal_header[0])),c.style.display="block",this.set_xy(c,u,this.xy.scale_height+1,0,this._els.dhx_cal_header[0].offsetTop)):c&&c.parentNode.removeChild(c),this._lightbox&&(r.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this._data_width=u-m,this._els.dhx_cal_navline[0].style.width=u+"px";const p=this._els.dhx_cal_header[0];this.set_xy(p,this._data_width,this.xy.scale_height),p.style.left="",p.style.right="",this._table_view?this.config.rtl?p.style.right="-1px":p.style.left="-1px":this.config.rtl?p.style.right=`${this.xy.scale_width}px`:p.style.left=`${this.xy.scale_width}px`},r.set_xy=function(u,m,c,p,y){function b(k){let w=k;return isNaN(Number(w))||(w=Math.max(0,w)+"px"),w}var x="left";m!==void 0&&(u.style.width=b(m)),c!==void 0&&(u.style.height=b(c)),arguments.length>3&&(p!==void 0&&(this.config.rtl&&(x="right"),u.style[x]=p+"px"),y!==void 0&&(u.style.top=y+"px"))},r.get_elements=function(){const u=this._obj.getElementsByTagName("DIV");for(let m=0;m<u.length;m++){let c=r._getClassName(u[m]);const p=u[m].getAttribute("data-tab")||u[m].getAttribute("name")||"";c&&(c=c.split(" ")[0]),this._els[c]||(this._els[c]=[]),this._els[c].push(u[m]);let y=r.locale.labels[p+"_tab"]||r.locale.labels[p||c];typeof y!="string"&&p&&!u[m].innerHTML&&(y=p.split("_")[0]),y&&(this._waiAria.labelAttr(u[m],y),u[m].innerHTML=y)}};const g=r._createDomEventScope();function f(u,m){const c=new Date(u),p=(new Date(m).getTime()-c.getTime())/864e5;return Math.abs(p)}r.unset_actions=function(){g.detachAll()},r.set_actions=function(){for(const u in this._els)if(this._click[u])for(let m=0;m<this._els[u].length;m++){const c=this._els[u][m],p=this._click[u].bind(c);g.attach(c,"click",p)}g.attach(this._obj,"selectstart",function(u){return u.preventDefault(),!1}),g.attach(this._obj,"mousemove",function(u){r._temp_touch_block||r._on_mouse_move(u)}),g.attach(this._obj,"mousedown",function(u){r._ignore_next_click||r._on_mouse_down(u)}),g.attach(this._obj,"mouseup",function(u){r._ignore_next_click||r._on_mouse_up(u)}),g.attach(this._obj,"dblclick",function(u){r._on_dbl_click(u)}),g.attach(this._obj,"contextmenu",function(u){return r.checkEvent("onContextMenu")&&u.preventDefault(),r.callEvent("onContextMenu",[r._locate_event(u.target),u])})},r.select=function(u){this._select_id!=u&&(r._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=u,this.updateEvent(u),this.callEvent("onEventSelected",[u]))},r.unselect=function(u){if(u&&u!=this._select_id)return;const m=this._select_id;this._select_id=null,m&&this.getEvent(m)&&this.updateEvent(m),this.callEvent("onEventUnselected",[m])},r.$stateProvider.registerProvider("global",(function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}}).bind(r)),r._click={dhx_cal_data:function(u){if(r._ignore_next_click)return u.preventDefault&&u.preventDefault(),u.cancelBubble=!0,r._ignore_next_click=!1,!1;const m=r._locate_event(u.target);if(m){if(!r.callEvent("onClick",[m,u])||r.config.readonly)return}else r.callEvent("onEmptyClick",[r.getActionData(u).date,u]);if(m&&r.config.select){r.select(m);const c=u.target.closest(".dhx_menu_icon"),p=r._getClassName(c);p.indexOf("_icon")!=-1&&r._click.buttons[p.split(" ")[1].replace("icon_","")](m)}else r._close_not_saved(),r.getState().select_id&&new Date().valueOf()-(r._new_event||0)>500&&r.unselect()},dhx_cal_prev_button:function(){r._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(u,m){let c=1;r.config.rtl&&(m=-m,c=-c),r.setCurrentView(r.date.add(r.date[r._mode+"_start"](new Date(r._date)),m||c,r._mode))},dhx_cal_today_button:function(){r.callEvent("onBeforeTodayDisplayed",[])&&r.setCurrentView(r._currentDate())},dhx_cal_tab:function(){const u=this.getAttribute("data-tab"),m=this.getAttribute("name"),c=u||m.substring(0,m.search("_tab"));r.setCurrentView(r._date,c)},buttons:{delete:function(u){const m=r.locale.labels.confirm_deleting;r._dhtmlx_confirm({message:m,title:r.locale.labels.title_confirm_deleting,callback:function(){r.deleteEvent(u)},config:{ok:r.locale.labels.icon_delete}})},edit:function(u){r.edit(u)},save:function(u){r.editStop(!0)},details:function(u){r.showLightbox(u)},form:function(u){r.showLightbox(u)},cancel:function(u){r.editStop(!1)}}},r._dhtmlx_confirm=function({message:u,title:m,callback:c,config:p}){if(!u)return c();p=p||{};const y={...p,text:u};m&&(y.title=m),c&&(y.callback=function(b){b&&c()}),r.confirm(y)},r.addEventNow=function(u,m,c){let p={};r._isObject(u)&&!r._isDate(u)&&(p=u,u=null);const y=6e4*(this.config.event_duration||this.config.time_step);u||(u=p.start_date||Math.round(r._currentDate().valueOf()/y)*y);let b=new Date(u);if(!m){let w=this.config.first_hour;w>b.getHours()&&(b.setHours(w),u=b.valueOf()),m=u.valueOf()+y}let x=new Date(m);b.valueOf()==x.valueOf()&&x.setTime(x.valueOf()+y),p.start_date=p.start_date||b,p.end_date=p.end_date||x,p.text=p.text||this.locale.labels.new_event,p.id=this._drag_id=p.id||this.uid(),this._drag_mode="new-size",this._loading=!0;const k=this.addEvent(p);return this.callEvent("onEventCreated",[this._drag_id,c]),this._loading=!1,this._drag_event={},this._on_mouse_up(c),k},r._on_dbl_click=function(u,m){if(m=m||u.target,this.config.readonly)return;const c=r._getClassName(m).split(" ")[0];switch(c){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!r.config.dblclick_create)break;this.addEventNow(this.getActionData(u).date,null,u);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_cal_agenda_event_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":{const p=this._locate_event(m);if(!this.callEvent("onDblClick",[p,u]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(p)._timed||!this.config.select?this.showLightbox(p):this.edit(p);break}case"dhx_time_block":case"dhx_cal_container":return;default:{const p=this["dblclick_"+c];if(p)p.call(this,u);else if(m.parentNode&&m!=this)return r._on_dbl_click(u,m.parentNode);break}}},r._get_column_index=function(u){let m=0;if(this._cols){let c=0,p=0;for(;c+this._cols[p]<u&&p<this._cols.length;)c+=this._cols[p],p++;if(m=p+(this._cols[p]?(u-c)/this._cols[p]:0),this._ignores&&m>=this._cols.length)for(;m>=1&&this._ignores[Math.floor(m)];)m--}return m},r._week_indexes_from_pos=function(u){if(this._cols){const m=this._get_column_index(u.x);return u.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(m)-1)),u.y=Math.max(0,Math.ceil(60*u.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),u}return u},r._mouse_coords=function(u){let m;const c=document.body,p=document.documentElement;m=this.$env.isIE||!u.pageX&&!u.pageY?{x:u.clientX+(c.scrollLeft||p.scrollLeft||0)-c.clientLeft,y:u.clientY+(c.scrollTop||p.scrollTop||0)-c.clientTop}:{x:u.pageX,y:u.pageY},this.config.rtl&&this._colsS?(m.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-m.x,m.x+=this.$domHelpers.getAbsoluteLeft(this._obj),this._mode!=="month"&&(m.x-=this.xy.scale_width)):m.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);const y=this.$container.querySelector(".dhx_cal_data");m.y-=this.$domHelpers.getAbsoluteTop(y)-this._els.dhx_cal_data[0].scrollTop,m.ev=u;const b=this["mouse_"+this._mode];if(b)m=b.call(this,m);else if(this._table_view){const x=this._get_column_index(m.x);if(!this._cols||!this._colsS)return m;let k=0;for(k=1;k<this._colsS.heights.length&&!(this._colsS.heights[k]>m.y);k++);m.y=Math.ceil(24*(Math.max(0,x)+7*Math.max(0,k-1))*60/this.config.time_step),(r._drag_mode||this._mode=="month")&&(m.y=24*(Math.max(0,Math.ceil(x)-1)+7*Math.max(0,k-1))*60/this.config.time_step),this._drag_mode=="move"&&r._ignores_detected&&r.config.preserve_length&&(m._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),m.x=0}else m=this._week_indexes_from_pos(m);return m.timestamp=+new Date,m},r._close_not_saved=function(){if(new Date().valueOf()-(r._new_event||0)>500&&r._edit_id){const u=r.locale.labels.confirm_closing;r._dhtmlx_confirm({message:u,title:r.locale.labels.title_confirm_closing,callback:function(){r.editStop(r.config.positive_closing)}}),u&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},r._correct_shift=function(u,m){return u-6e4*(new Date(r._min_date).getTimezoneOffset()-new Date(u).getTimezoneOffset())*(m?-1:1)},r._is_pos_changed=function(u,m){function c(p,y,b){return Math.abs(p-y)>b}return!u||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||m.timestamp-this._drag_pos.timestamp>100||c(u.ev.clientX,m.ev.clientX,5)||c(u.ev.clientY,m.ev.clientY,5))},r._correct_drag_start_date=function(u){let m;r.matrix&&(m=r.matrix[r._mode]),m=m||{x_step:1,x_unit:"day"},u=new Date(u);let c=1;return(m._start_correction||m._end_correction)&&(c=60*(m.last_hour||0)-(60*u.getHours()+u.getMinutes())||1),1*u+(r._get_fictional_event_length(u,c,m)-c)},r._correct_drag_end_date=function(u,m){let c;r.matrix&&(c=r.matrix[r._mode]),c=c||{x_step:1,x_unit:"day"};const p=1*u+r._get_fictional_event_length(u,m,c);return new Date(1*p-(r._get_fictional_event_length(p,-1,c,-1)+1))},r._on_mouse_move=function(u){if(this._drag_mode){var m=this._mouse_coords(u);if(this._is_pos_changed(this._drag_pos,m)){var c,p;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var y=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((y=this._drag_pos).has_moved=!0),this._drag_pos=m,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(y&&(m=y),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,c=this._get_date_from_pos(m).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[u,this._drag_id])?(this._loading=!1,void(this._drag_start=c)):void(this._loading=!1);p=c,this._drag_start;var b=new Date(this._drag_start),x=new Date(p);this._mode!="day"&&this._mode!="week"||b.getHours()!=x.getHours()||b.getMinutes()!=x.getMinutes()||(x=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(b,x,this.locale.labels.new_event,this._drag_id,m.fields),this.callEvent("onEventCreated",[this._drag_id,u]),this._loading=!1,this._drag_mode="new-size"}var k,w=this.config.time_step,E=this.getEvent(this._drag_id);if(r.matrix&&(k=r.matrix[r._mode]),k=k||{x_step:1,x_unit:"day"},this._drag_mode=="move")c=this._min_date.valueOf()+6e4*(m.y*this.config.time_step+24*m.x*60),!m.custom&&this._table_view&&(c+=1e3*this.date.time_part(E.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=c-E.start_date),this._drag_event._move_event_shift&&(c-=this._drag_event._move_event_shift),c=this._correct_shift(c),m._ignores&&this.config.preserve_length&&this._table_view&&k?(c=r._correct_drag_start_date(c),p=r._correct_drag_end_date(c,this._drag_event._event_length)):p=E.end_date.valueOf()-(E.start_date.valueOf()-c);else{if(c=E.start_date.valueOf(),p=E.end_date.valueOf(),this._table_view){var S=this._min_date.valueOf()+m.y*this.config.time_step*6e4+(m.custom?0:864e5);if(this._mode=="month")if(S=this._correct_shift(S,!1),this._drag_from_start){var D=864e5;S<=r.date.date_part(new Date(p+D-1)).valueOf()&&(c=S-D)}else p=S;else this.config.preserve_length?m.resize_from_start?c=r._correct_drag_start_date(S):p=r._correct_drag_end_date(S,0):m.resize_from_start?c=S:p=S}else{var M=this.date.date_part(new Date(E.end_date.valueOf()-1)).valueOf(),T=new Date(M),A=this.config.first_hour,O=60/w*(this.config.last_hour-A);this.config.time_step=1;var $=this._mouse_coords(u);this.config.time_step=w;var q=m.y*w*6e4,z=Math.min(m.y+1,O)*w*6e4,P=6e4*$.y;p=Math.abs(q-P)>Math.abs(z-P)?M+z:M+q,p+=6e4*(new Date(p).getTimezoneOffset()-T.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(p=this._correct_shift(p))}if(this._drag_mode=="new-size")if(p<=this._drag_start){var W=m.shift||(this._table_view&&!m.custom?864e5:0);c=p-(m.shift?0:W),p=this._drag_start+(W||6e4*w)}else c=this._drag_start;else p<=c&&(p=c+6e4*w)}var X=new Date(p-1),Q=new Date(c);if(this._drag_mode=="move"&&r.config.limit_drag_out&&(+Q<+r._min_date||+p>+r._max_date)){if(+E.start_date<+r._min_date||+E.end_date>+r._max_date)Q=new Date(E.start_date),p=new Date(E.end_date);else{var re=p-Q;+Q<+r._min_date?(Q=new Date(r._min_date),m._ignores&&this.config.preserve_length&&this._table_view?(Q=new Date(r._correct_drag_start_date(Q)),k._start_correction&&(Q=new Date(Q.valueOf()+k._start_correction)),p=new Date(1*Q+this._get_fictional_event_length(Q,this._drag_event._event_length,k))):p=new Date(+Q+re)):(p=new Date(r._max_date),m._ignores&&this.config.preserve_length&&this._table_view?(k._end_correction&&(p=new Date(p.valueOf()-k._end_correction)),p=new Date(1*p-this._get_fictional_event_length(p,0,k,!0)),Q=new Date(1*p-this._get_fictional_event_length(p,this._drag_event._event_length,k,!0)),this._ignores_detected&&(Q=r.date.add(Q,k.x_step,k.x_unit),p=new Date(1*p-this._get_fictional_event_length(p,0,k,!0)),p=r.date.add(p,k.x_step,k.x_unit))):Q=new Date(+p-re))}X=new Date(p-1)}if(!this._table_view&&this._dragEventBody&&!r.config.all_timed&&(!r._get_section_view()&&m.x!=this._get_event_sday({start_date:new Date(c),end_date:new Date(c)})||new Date(c).getHours()<this.config.first_hour)&&(re=p-Q,this._drag_mode=="move"&&(D=this._min_date.valueOf()+24*m.x*60*6e4,(Q=new Date(D)).setHours(this.config.first_hour),p=new Date(Q.valueOf()+re),X=new Date(p-1))),this._table_view||r.config.all_timed||!(!r.getView()&&m.x!=this._get_event_sday({start_date:new Date(p),end_date:new Date(p)})||new Date(p).getHours()>=this.config.last_hour)||(re=p-Q,D=this._min_date.valueOf()+24*m.x*60*6e4,(p=r.date.date_part(new Date(D))).setHours(this.config.last_hour),X=new Date(p-1),this._drag_mode=="move"&&(Q=new Date(+p-re))),this._table_view||X.getDate()==Q.getDate()&&X.getHours()<this.config.last_hour||r._allow_dnd)if(E.start_date=Q,E.end_date=new Date(p),this.config.update_render){var ge=r._els.dhx_cal_data[0].scrollTop;this.update_view(),r._els.dhx_cal_data[0].scrollTop=ge}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(ve){ve.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,u])}}else if(r.checkEvent("onMouseMove")){var Ae=this._locate_event(u.target||u.srcElement);this.callEvent("onMouseMove",[Ae,u])}},r._on_mouse_down=function(u,m){if(u.button!=2&&!this.config.readonly&&!this._drag_mode){m=m||u.target||u.srcElement;var c=r._getClassName(m).split(" ")[0];switch(this.config.drag_event_body&&c=="dhx_body"&&m.parentNode&&m.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(c="dhx_event_move",this._dragEventBody=!0),c){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",r._getClassName(m).indexOf("dhx_event_resize_end")<0?r._drag_from_start=!0:r._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(m.parentNode)return r._on_mouse_down(u,m.parentNode);break;default:if((!r.checkEvent("onMouseDown")||r.callEvent("onMouseDown",[c,u]))&&m.parentNode&&m!=this&&c!="dhx_body")return r._on_mouse_down(u,m.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var p=this._locate_event(m);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[p,this._drag_mode,u])){if(this._drag_id=p,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=r._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(u)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},r._get_private_properties=function(u){var m={};for(var c in u)c.indexOf("_")===0&&(m[c]=!0);return m},r._clear_temporary_properties=function(u,m){var c=this._get_private_properties(u),p=this._get_private_properties(m);for(var y in p)c[y]||delete m[y]},r._on_mouse_up=function(u){if(!u||u.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var m=this._drag_id,c=this._drag_mode,p=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var y=this.getEvent(this._drag_id);if(p&&(this._drag_event._dhx_changed||!this._drag_event.start_date||y.start_date.valueOf()!=this._drag_event.start_date.valueOf()||y.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var b=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[y,u,b,this._drag_event]))if(this._drag_id=this._drag_mode=null,b&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(m)))return r.callEvent("onDragEnd",[m,c,u]),this.showLightbox(m);this._drag_pos=!0,this._select_id=this._edit_id=m}else this._new_event||this.callEvent(b?"onEventAdded":"onEventChanged",[m,this.getEvent(m)]);else b?this.deleteEvent(y.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(y,this._drag_event),r._lame_copy(y,this._drag_event),this.updateEvent(y.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),r.callEvent("onDragEnd",[m,c,u])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._drag_event=null,this._drag_from_start=null}},r._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},r.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var u=this[this._mode+"_view"];if(u?u.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},r.isViewExists=function(u){return!!(r[u+"_view"]||r.date[u+"_start"]&&r.templates[u+"_date"]&&r.templates[u+"_scale_date"])},r._set_aria_buttons_attrs=function(){for(var u=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],m=0;m<u.length;m++)for(var c=this._els[u[m]],p=0;c&&p<c.length;p++){var y=c[p].getAttribute("data-tab")||c[p].getAttribute("name"),b=this.locale.labels[u[m]];y&&(b=this.locale.labels[y+"_tab"]||this.locale.labels[y]||b),u[m]=="dhx_cal_next_button"?b=this.locale.labels.next:u[m]=="dhx_cal_prev_button"&&(b=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(c[p],b||"")}},r.updateView=function(u,m){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);u=u||this._date,m=m||this._mode;var c="dhx_cal_data";this.locale.labels.icon_form||(this.locale.labels.icon_form=this.locale.labels.icon_edit);var p=this._obj,y="dhx_scheduler_"+this._mode,b="dhx_scheduler_"+m;this._mode&&p.className.indexOf(y)!=-1?p.className=p.className.replace(y,b):p.className+=" "+b;var x,k="dhx_multi_day",w=!(this._mode!=m||!this.config.preserve_scroll)&&this._els[c][0].scrollTop;this._els[k]&&this._els[k][0]&&(x=this._els[k][0].scrollTop),this[this._mode+"_view"]&&m&&this._mode!=m&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els[k]&&(this._els[k][0].parentNode.removeChild(this._els[k][0]),this._els[k]=null),this._mode=m,this._date=u,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var E=this._els.dhx_cal_tab;if(E)for(var S=0;S<E.length;S++){var D=E[S];D.getAttribute("data-tab")==this._mode||D.getAttribute("name")==this._mode+"_tab"?(D.classList.add("active"),this._waiAria.headerToggleState(D,!0)):(D.classList.remove("active"),this._waiAria.headerToggleState(D,!1))}typeof w=="number"&&(this._els[c][0].scrollTop=w),typeof x=="number"&&this._els[k]&&this._els[k][0]&&(this._els[k][0].scrollTop=x)},r.setCurrentView=function(u,m){this.callEvent("onBeforeViewChange",[this._mode,this._date,m||this._mode,u||this._date])&&(this.updateView(u,m),this.callEvent("onViewChange",[this._mode,this._date]))},r.render=function(u,m){r.setCurrentView(u,m)},r._render_x_header=function(u,m,c,p,y){y=y||0;var b=document.createElement("div");b.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(b.className+=" "+this.templates[this._mode+"_scalex_class"](c));var x=this._cols[u];this._mode=="month"&&u===0&&this.config.left_border&&(b.className+=" dhx_scale_bar_border",m+=1),this.set_xy(b,x,this.xy.scale_height-1,m,y);var k=this.templates[this._mode+"_scale_date"](c,this._mode);b.innerHTML=k,this._waiAria.dayHeaderAttr(b,k),p.appendChild(b)},r._get_columns_num=function(u,m){var c=7;if(!r._table_view){var p=r.date["get_"+r._mode+"_end"];p&&(m=p(u)),c=Math.round((m.valueOf()-u.valueOf())/864e5)}return c},r._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},r._get_view_end=function(){var u=this._get_timeunit_start(),m=r.date.add(u,1,this._mode);if(!r._table_view){var c=r.date["get_"+r._mode+"_end"];c&&(m=c(u))}return m},r._calc_scale_sizes=function(u,m,c){var p=this.config.rtl,y=u,b=this._get_columns_num(m,c);this._process_ignores(m,b,"day",1);for(var x=b-this._ignores_detected,k=0;k<b;k++)this._ignores[k]?(this._cols[k]=0,x++):this._cols[k]=Math.floor(y/(x-k)),y-=this._cols[k],this._colsS[k]=(this._cols[k-1]||0)+(this._colsS[k-1]||(this._table_view?0:p?this.xy.scroll_width:this.xy.scale_width));this._colsS.col_length=b,this._colsS[b]=this._cols[b-1]+this._colsS[b-1]||0},r._set_scale_col_size=function(u,m,c){var p=this.config;this.set_xy(u,m,p.hour_size_px*(p.last_hour-p.first_hour),c+this.xy.scale_width+1,0)},r._render_scales=function(u,m){var c=new Date(r._min_date),p=new Date(r._max_date),y=this.date.date_part(r._currentDate()),b=parseInt(u.style.width,10)-1,x=new Date(this._min_date),k=this._get_columns_num(c,p);this._calc_scale_sizes(b,c,p);var w=0;u.innerHTML="";for(var E=0;E<k;E++){if(this._ignores[E]||this._render_x_header(E,w,x,u),!this._table_view){var S=document.createElement("div"),D="dhx_scale_holder";x.valueOf()==y.valueOf()&&(D+=" dhx_scale_holder_now"),S.setAttribute("data-column-index",E),this._ignores_detected&&this._ignores[E]&&(D+=" dhx_scale_ignore");for(let M=1*this.config.first_hour;M<this.config.last_hour;M++){const T=document.createElement("div");T.className="dhx_scale_time_slot dhx_scale_time_slot_hour_start",T.style.height=this.config.hour_size_px/2+"px";let A=new Date(x.getFullYear(),x.getMonth(),x.getDate(),M,0);T.setAttribute("data-slot-date",this.templates.format_date(A));let O=this.templates.time_slot_text(A);O&&(T.innerHTML=O);let $=this.templates.time_slot_class(A);$&&T.classList.add($),S.appendChild(T);const q=document.createElement("div");q.className="dhx_scale_time_slot",A=new Date(x.getFullYear(),x.getMonth(),x.getDate(),M,30),q.setAttribute("data-slot-date",this.templates.format_date(A)),q.style.height=this.config.hour_size_px/2+"px",O=this.templates.time_slot_text(A),O&&(q.innerHTML=O),$=this.templates.time_slot_class(A),$&&q.classList.add($),S.appendChild(q)}S.className=D+" "+this.templates.week_date_class(x,y),this._waiAria.dayColumnAttr(S,x),this._set_scale_col_size(S,this._cols[E],w),m.appendChild(S),this.callEvent("onScaleAdd",[S,x])}w+=this._cols[E],x=this.date.add(x,1,"day"),x=this.date.day_start(x)}},r._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},r._reset_scale=function(){if(this.templates[this._mode+"_date"]){var u=this._els.dhx_cal_header[0],m=this._els.dhx_cal_data[0],c=this.config;u.innerHTML="",m.innerHTML="";var p,y,b=(c.readonly||!c.drag_resize?" dhx_resize_denied":"")+(c.readonly||!c.drag_move?" dhx_move_denied":"");m.className="dhx_cal_data"+b,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var x=this._get_timeunit_start(),k=r._get_view_end();p=y=this._table_view?r.date.week_start(x):x,this._min_date=p;var w=this.templates[this._mode+"_date"](x,k,this._mode),E=this._getNavDateElement();if(E&&(E.innerHTML=w,this._waiAria.navBarDateAttr(E,w)),this._max_date=k,r._render_scales(u,m),this._table_view)this._reset_month_scale(m,x,y);else if(this._reset_hours_scale(m,x,y),c.multi_day){var S="dhx_multi_day";this._els[S]&&(this._els[S][0].parentNode.removeChild(this._els[S][0]),this._els[S]=null);var D=document.createElement("div");D.className=S,D.style.visibility="hidden",D.style.display="none";var M=this._colsS[this._colsS.col_length],T=c.rtl?this.xy.scale_width:this.xy.scroll_width,A=Math.max(M+T,0);this.set_xy(D,A,0,0),m.parentNode.insertBefore(D,m);var O=D.cloneNode(!0);O.className=S+"_icon",O.style.visibility="hidden",O.style.display="none",this.set_xy(O,this.xy.scale_width+1,0,0),D.appendChild(O),this._els[S]=[D,O],r.event(this._els[S][0],"click",this._click.dhx_cal_data)}}},r._reset_hours_scale=function(u,m,c){var p=document.createElement("div");p.className="dhx_scale_holder";for(var y=new Date(1980,1,1,this.config.first_hour,0,0),b=1*this.config.first_hour;b<this.config.last_hour;b++){var x=document.createElement("div");x.className="dhx_scale_hour",x.style.height=this.config.hour_size_px+"px";var k=this.xy.scale_width;this.config.left_border&&(x.className+=" dhx_scale_hour_border"),x.style.width=k+"px";var w=r.templates.hour_scale(y);x.innerHTML=w,this._waiAria.hourScaleAttr(x,w),p.appendChild(x),y=this.date.add(y,1,"hour")}u.appendChild(p),this.config.scroll_hour&&(u.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},r._currentDate=function(){return r.config.now_date?new Date(r.config.now_date):new Date},r._reset_ignores=function(){this._ignores={},this._ignores_detected=0},r._process_ignores=function(u,m,c,p,y){this._reset_ignores();var b=r["ignore_"+this._mode];if(b)for(var x=new Date(u),k=0;k<m;k++)b(x)&&(this._ignores_detected+=1,this._ignores[k]=!0,y&&m++),x=r.date.add(x,p,c),r.date[c+"_start"]&&(x=r.date[c+"_start"](x))},r._render_month_scale=function(u,m,c,p){var y=r.date.add(m,1,"month"),b=new Date(c),x=r._currentDate();this.date.date_part(x),this.date.date_part(c),p=p||Math.ceil(Math.round((y.valueOf()-c.valueOf())/864e5)/7);for(var k=[],w=0;w<=7;w++){var E=this._cols[w]||0;isNaN(Number(E))||(E+="px"),k[w]=E}function S(Q){var re=r._colsS.height;return r._colsS.heights[Q+1]!==void 0&&(re=r._colsS.heights[Q+1]-(r._colsS.heights[Q]||0)),re}var D=0;const M=document.createElement("div");for(M.classList.add("dhx_cal_month_table"),w=0;w<p;w++){var T=document.createElement("div");T.classList.add("dhx_cal_month_row"),T.style.height=S(w)+"px",M.appendChild(T);for(var A=0;A<7;A++){var O=document.createElement("div");T.appendChild(O);var $="dhx_cal_month_cell";c<m?$+=" dhx_before":c>=y?$+=" dhx_after":c.valueOf()==x.valueOf()&&($+=" dhx_now"),this._ignores_detected&&this._ignores[A]&&($+=" dhx_scale_ignore"),O.className=$+" "+this.templates.month_date_class(c,x),O.setAttribute("data-cell-date",r.templates.format_date(c));var q="dhx_month_body",z="dhx_month_head";if(A===0&&this.config.left_border&&(q+=" dhx_month_body_border",z+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[A])O.appendChild(document.createElement("div")),O.appendChild(document.createElement("div"));else{O.style.width=k[A],this._waiAria.monthCellAttr(O,c);var P=document.createElement("div");P.style.height=r.xy.month_head_height+"px",P.className=z,P.innerHTML=this.templates.month_day(c),O.appendChild(P);var W=document.createElement("div");W.className=q,O.appendChild(W)}var X=c.getDate();(c=this.date.add(c,1,"day")).getDate()-X>1&&(c=new Date(c.getFullYear(),c.getMonth(),X+1,12,0))}r._colsS.heights[w]=D,D+=S(w)}return this._min_date=b,this._max_date=c,u.innerHTML="",u.appendChild(M),this._scales={},u.querySelectorAll("[data-cell-date]").forEach(Q=>{const re=r.templates.parse_date(Q.getAttribute("data-cell-date")),ge=Q.querySelector(".dhx_month_body");this._scales[+re]=ge,this.callEvent("onScaleAdd",[this._scales[+re],re])}),this._max_date},r._reset_month_scale=function(u,m,c,p){var y=r.date.add(m,1,"month"),b=r._currentDate();this.date.date_part(b),this.date.date_part(c),p=p||Math.ceil(Math.round((y.valueOf()-c.valueOf())/864e5)/7);var x=Math.floor(u.clientHeight/p)-this.xy.month_head_height;return this._colsS.height=x+this.xy.month_head_height,this._colsS.heights=[],r._render_month_scale(u,m,c,p)},r.getView=function(u){return u||(u=r.getState().mode),r.matrix&&r.matrix[u]?r.matrix[u]:r._props&&r._props[u]?r._props[u]:null},r.getLabel=function(u,m){for(var c=this.config.lightbox.sections,p=0;p<c.length;p++)if(c[p].map_to==u){for(var y=c[p].options,b=0;b<y.length;b++)if(y[b].key==m)return y[b].label}return""},r.updateCollection=function(u,m){var c=r.serverList(u);return!!c&&(c.splice(0,c.length),c.push.apply(c,m||[]),r.callEvent("onOptionsLoad",[]),r.resetLightbox(),r.hideCover(),!0)},r._lame_clone=function(u,m){var c,p,y;for(m=m||[],c=0;c<m.length;c+=2)if(u===m[c])return m[c+1];if(u&&typeof u=="object"){for(y=Object.create(u),p=[Array,Date,Number,String,Boolean],c=0;c<p.length;c++)u instanceof p[c]&&(y=c?new p[c](u):new p[c]);for(c in m.push(u,y),u)Object.prototype.hasOwnProperty.apply(u,[c])&&(y[c]=r._lame_clone(u[c],m))}return y||u},r._lame_copy=function(u,m){for(var c in m)m.hasOwnProperty(c)&&(u[c]=m[c]);return u},r._get_date_from_pos=function(u){var m=this._min_date.valueOf()+6e4*(u.y*this.config.time_step+24*(this._table_view?0:u.x)*60);return new Date(this._correct_shift(m))},r.getActionData=function(u){var m=this._mouse_coords(u);return{date:this._get_date_from_pos(m),section:m.section}},r._focus=function(u,m){if(u&&u.focus)if(this._mobile)window.setTimeout(function(){u.focus()},10);else try{m&&u.select&&u.offsetWidth&&u.select(),u.focus()}catch{}},r._get_real_event_length=function(u,m,c){var p,y=m-u,b=this["ignore_"+this._mode],x=0;c.render?(x=this._get_date_index(c,u),p=this._get_date_index(c,m),u.valueOf()<r.getState().min_date.valueOf()&&(x=-f(u,r.getState().min_date)),m.valueOf()>r.getState().max_date.valueOf()&&(p+=f(m,r.getState().max_date))):p=Math.round(y/60/60/1e3/24);for(var k=!0;x<p;){var w=r.date.add(m,-c.x_step,c.x_unit);if(b&&b(m)&&(!k||k&&b(w)))y-=m-w;else{let E=0;const S=new Date(Math.max(w.valueOf(),u.valueOf())),D=m,M=new Date(S.getFullYear(),S.getMonth(),S.getDate(),c.first_hour),T=new Date(S.getFullYear(),S.getMonth(),S.getDate(),c.last_hour||24),A=new Date(m.getFullYear(),m.getMonth(),m.getDate(),c.first_hour),O=new Date(m.getFullYear(),m.getMonth(),m.getDate(),c.last_hour||24);D.valueOf()>O.valueOf()&&(E+=D-O),D.valueOf()>A.valueOf()?E+=c._start_correction:E+=60*D.getHours()*60*1e3+60*D.getMinutes()*1e3,S.valueOf()<T.valueOf()&&(E+=c._end_correction),S.valueOf()<M.valueOf()&&(E+=M.valueOf()-S.valueOf()),y-=E,k=!1}m=w,p--}return y},r._get_fictional_event_length=function(u,m,c,p){var y=new Date(u),b=p?-1:1;if(c._start_correction||c._end_correction){var x;x=p?60*y.getHours()+y.getMinutes()-60*(c.first_hour||0):60*(c.last_hour||0)-(60*y.getHours()+y.getMinutes());var k=60*(c.last_hour-c.first_hour),w=Math.ceil((m/6e4-x)/k);w<0&&(w=0),m+=w*(1440-k)*60*1e3}var E,S=new Date(1*u+m*b),D=this["ignore_"+this._mode],M=0;for(c.render?(M=this._get_date_index(c,y),E=this._get_date_index(c,S)):E=Math.round(m/60/60/1e3/24);M*b<=E*b;){var T=r.date.add(y,c.x_step*b,c.x_unit);D&&D(y)&&(m+=(T-y)*b,E+=b),y=T,M+=b}return m},r._get_section_view=function(){return this.getView()},r._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},r._is_initialized=function(){var u=this.getState();return this._obj&&u.date&&u.mode},r._is_lightbox_open=function(){var u=this.getState();return u.lightbox_id!==null&&u.lightbox_id!==void 0}}(a),function(r){(function(){var s=new RegExp(`<(?:.|
)*?>`,"gm"),l=new RegExp(" +","gm");function h(u){return(u+"").replace(s," ").replace(l," ")}var v=new RegExp("'","gm");function g(u){return(u+"").replace(v,"&#39;")}for(var f in r._waiAria={getAttributeString:function(u){var m=[" "];for(var c in u)if(typeof u[c]!="function"&&typeof u[c]!="object"){var p=g(h(u[c]));m.push(c+"='"+p+"'")}return m.push(" "),m.join(" ")},setAttributes:function(u,m){for(var c in m)u.setAttribute(c,h(m[c]));return u},labelAttr:function(u,m){return this.setAttributes(u,{"aria-label":m})},label:function(u){return r._waiAria.getAttributeString({"aria-label":u})},hourScaleAttr:function(u,m){this.labelAttr(u,m)},monthCellAttr:function(u,m){this.labelAttr(u,r.templates.day_date(m))},navBarDateAttr:function(u,m){this.labelAttr(u,m)},dayHeaderAttr:function(u,m){this.labelAttr(u,m)},dayColumnAttr:function(u,m){this.dayHeaderAttr(u,r.templates.day_date(m))},headerButtonsAttributes:function(u,m){return this.setAttributes(u,{role:"button","aria-label":m})},headerToggleState:function(u,m){return this.setAttributes(u,{"aria-pressed":m?"true":"false"})},getHeaderCellAttr:function(u){return r._waiAria.getAttributeString({"aria-label":u})},eventAttr:function(u,m){this._eventCommonAttr(u,m)},_eventCommonAttr:function(u,m){m.setAttribute("aria-label",h(r.templates.event_text(u.start_date,u.end_date,u))),r.config.readonly&&m.setAttribute("aria-readonly",!0),u.$dataprocessor_class&&m.setAttribute("aria-busy",!0),m.setAttribute("aria-selected",r.getState().select_id==u.id?"true":"false")},setEventBarAttr:function(u,m){this._eventCommonAttr(u,m)},_getAttributes:function(u,m){var c={setAttribute:function(p,y){this[p]=y}};return u.apply(this,[m,c]),c},eventBarAttrString:function(u){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,u))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(u){return this.getAttributeString({role:"columnheader","aria-label":u})},agendaHeadDescriptionString:function(u){return this.agendaHeadDateString(u)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(u){var m=this._getAttributes(this._eventCommonAttr,u);return m.role="row",this.getAttributeString(m)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":r.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(u){return this.agendaEventAttrString(u)},gridCellAttrString:function(u,m,c){return this.getAttributeString({role:"gridcell","aria-label":[m.label===void 0?m.id:m.label,": ",c]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(u){return this.gridRowAttrString(u)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(u,m){this.setAttributes(u,{id:m+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(u,m){this.setAttributes(u,{"aria-labelledby":m+"",role:"grid"})},minicalRow:function(u){this.setAttributes(u,{role:"row"})},minicalDayCell:function(u,m){var c=m.valueOf()<r._max_date.valueOf()&&m.valueOf()>=r._min_date.valueOf();this.setAttributes(u,{role:"gridcell","aria-label":r.templates.day_date(m),"aria-selected":c?"true":"false"})},minicalHeadCell:function(u){this.setAttributes(u,{role:"columnheader"})},weekAgendaDayCell:function(u,m){var c=u.querySelector(".dhx_wa_scale_bar"),p=u.querySelector(".dhx_wa_day_data"),y=r.uid()+"";this.setAttributes(c,{id:y}),this.setAttributes(p,{"aria-labelledby":y})},weekAgendaEvent:function(u,m){this.eventAttr(m,u)},lightboxHiddenAttr:function(u){u.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(u){u.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(u){return this.getAttributeString({role:"button","aria-label":u,tabindex:"0"})},yearHeader:function(u,m){this.setAttributes(u,{id:m+""})},yearGrid:function(u,m){this.minicalGrid(u,m)},yearHeadCell:function(u){return this.minicalHeadCell(u)},yearRow:function(u){return this.minicalRow(u)},yearDayCell:function(u){this.setAttributes(u,{role:"gridcell"})},lightboxAttr:function(u){u.setAttribute("role","dialog"),u.setAttribute("aria-hidden","true"),u.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(u){return this.getAttributeString({role:"button","aria-label":r.locale.labels[u],tabindex:"0"})},eventMenuAttrString:function(u){return this.getAttributeString({role:"button","aria-label":r.locale.labels[u]})},lightboxHeader:function(u,m){u.setAttribute("aria-label",m)},lightboxSelectAttrString:function(u){var m="";switch(u){case"%Y":m=r.locale.labels.year;break;case"%m":m=r.locale.labels.month;break;case"%d":m=r.locale.labels.day;break;case"%H:%i":m=r.locale.labels.hour+" "+r.locale.labels.minute}return r._waiAria.getAttributeString({"aria-label":m})},messageButtonAttrString:function(u){return"tabindex='0' role='button' aria-label='"+u+"'"},messageInfoAttr:function(u){u.setAttribute("role","alert")},messageModalAttr:function(u,m){u.setAttribute("role","dialog"),m&&u.setAttribute("aria-labelledby",m)},quickInfoAttr:function(u){u.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(u,m){u.setAttribute("aria-label",m)},quickInfoButtonAttrString:function(u){return r._waiAria.getAttributeString({role:"button","aria-label":u,tabindex:"0"})},tooltipAttr:function(u){u.setAttribute("role","tooltip")},tooltipVisibleAttr:function(u){u.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(u){u.setAttribute("aria-hidden","true")}},r._waiAria)r._waiAria[f]=function(u){return function(){return r.config.wai_aria_attributes?u.apply(this,arguments):" "}}(r._waiAria[f])})()}(a),a.utils=Qe,a.$domHelpers=Dt,a.utils.dom=Dt,a.uid=Qe.uid,a.mixin=Qe.mixin,a.defined=Qe.defined,a.assert=function(r){return function(s,l){s||r.config.show_errors&&r.callEvent("onError",[l])!==!1&&(r.message?r.message({type:"error",text:l,expire:-1}):console.log(l))}}(a),a.copy=Qe.copy,a._createDatePicker=function(r,s){return new al(a,r,s)},a._getFocusableNodes=Dt.getFocusableNodes,a._getClassName=Dt.getClassName,a._locate_css=Dt.locateCss;const t=S_(a);var n,o,i;a.utils.mixin(a,t),a.env=a.$env=y_,a.Promise=window.Promise,function(r){r.destructor=function(){for(var s in r.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)s.indexOf("$")===0&&delete this[s];r.$destroyed=!0}}(a),function(r){function s(l,h){var v={method:l};if(h.length===0)throw new Error("Arguments list of query is wrong.");if(h.length===1)return typeof h[0]=="string"?(v.url=h[0],v.async=!0):(v.url=h[0].url,v.async=h[0].async||!0,v.callback=h[0].callback,v.headers=h[0].headers),h[0].data?typeof h[0].data!="string"?v.data=cn(h[0].data):v.data=h[0].data:v.data="",v;switch(v.url=h[0],l){case"GET":case"DELETE":v.callback=h[1],v.headers=h[2];break;case"POST":case"PUT":h[1]?typeof h[1]!="string"?v.data=cn(h[1]):v.data=h[1]:v.data="",v.callback=h[2],v.headers=h[3]}return v}r.Promise=window.Promise,r.ajax={cache:!0,method:"get",serializeRequestParams:cn,parse:function(l){return typeof l!="string"?l:(l=l.replace(/^[\s]+/,""),typeof DOMParser>"u"||r.$env.isIE?window.ActiveXObject!==void 0&&((h=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",h.loadXML(l)):h=new DOMParser().parseFromString(l,"text/xml"),h);var h},xmltop:function(l,h,v){if(h.status===void 0||h.status<400){var g=h.responseXML?h.responseXML||h:this.parse(h.responseText||h);if(g&&g.documentElement!==null&&!g.getElementsByTagName("parsererror").length)return g.getElementsByTagName(l)[0]}return v!==-1&&r.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],v]),document.createElement("DIV")},xpath:function(l,h){if(h.nodeName||(h=h.responseXML||h),r.$env.isIE)return h.selectNodes(l)||[];for(var v,g=[],f=(h.ownerDocument||h).evaluate(l,h,null,XPathResult.ANY_TYPE,null);v=f.iterateNext();)g.push(v);return g},query:function(l){return this._call(l.method||"GET",l.url,l.data||"",l.async||!0,l.callback,l.headers)},get:function(l,h,v){var g=s("GET",arguments);return this.query(g)},getSync:function(l,h){var v=s("GET",arguments);return v.async=!1,this.query(v)},put:function(l,h,v,g){var f=s("PUT",arguments);return this.query(f)},del:function(l,h,v){var g=s("DELETE",arguments);return this.query(g)},post:function(l,h,v,g){arguments.length==1?h="":arguments.length==2&&typeof h=="function"&&(v=h,h="");var f=s("POST",arguments);return this.query(f)},postSync:function(l,h,v){h=h===null?"":String(h);var g=s("POST",arguments);return g.async=!1,this.query(g)},_call:function(l,h,v,g,f,u){return new r.Promise((function(m,c){var p=typeof XMLHttpRequest===void 0||r.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,y=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(g&&p.addEventListener("readystatechange",function(){if(p.readyState==4||y&&p.readyState==3){if((p.status!=200||p.responseText==="")&&!r.callEvent("onAjaxError",[p]))return;setTimeout(function(){typeof f=="function"&&f.apply(window,[{xmlDoc:p,filePath:h}]),m(p),typeof f=="function"&&(f=null,p=null)},0)}}),l!="GET"||this.cache||(h+=(h.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),p.open(l,h,g),u)for(var b in u)p.setRequestHeader(b,u[b]);else l.toUpperCase()=="POST"||l=="PUT"||l=="DELETE"?p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):l=="GET"&&(v=null);if(p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.send(v),!g)return{xmlDoc:p,filePath:h}}).bind(this))},urlSeparator:function(l){return l.indexOf("?")!=-1?"&":"?"}},r.$ajax=r.ajax}(a),b_(a),function(r){r.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,displayed_event_color:"#ff4a4a",displayed_event_text_color:"#ffef80",wide_form:0,day_column_padding:8,use_select_menu_space:!0,fix_tab_position:!0,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,details_on_dblclick:!0,edit_on_create:!0,details_on_create:!0,header:null,hour_size_px:44,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,separate_short_events:!0,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:200,drag_lightbox:!0,preserve_scroll:!0,select:!0,undo_deleted:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},r.config.buttons_left.$initial=r.config.buttons_left.join(),r.config.buttons_right.$initial=r.config.buttons_right.join(),r._helpers={parseDate:function(s){return(r.templates.xml_date||r.templates.parse_date)(s)},formatDate:function(s){return(r.templates.xml_format||r.templates.format_date)(s)}},r.templates={},r.init_templates=function(){var s=r.date.date_to_str,l=r.config;(function(h,v){for(var g in v)h[g]||(h[g]=v[g])})(r.templates,{day_date:s(l.default_date),month_date:s(l.month_date),week_date:function(h,v){return l.rtl?r.templates.day_date(r.date.add(v,-1,"day"))+" &ndash; "+r.templates.day_date(h):r.templates.day_date(h)+" &ndash; "+r.templates.day_date(r.date.add(v,-1,"day"))},day_scale_date:s(l.default_date),time_slot_text:function(h){return""},time_slot_class:function(h){return""},month_scale_date:s(l.week_date),week_scale_date:s(l.day_date),hour_scale:s(l.hour_date),time_picker:s(l.hour_date),event_date:s(l.hour_date),month_day:s(l.month_day),load_format:s(l.load_date),format_date:s(l.date_format,l.server_utc),parse_date:r.date.str_to_date(l.date_format,l.server_utc),api_date:r.date.str_to_date(l.api_date,!1,!1),event_header:function(h,v,g){return g._mode==="small"||g._mode==="smallest"?r.templates.event_date(h):r.templates.event_date(h)+" - "+r.templates.event_date(v)},event_text:function(h,v,g){return g.text},event_class:function(h,v,g){return""},month_date_class:function(h){return""},week_date_class:function(h){return""},event_bar_date:function(h,v,g){return r.templates.event_date(h)},event_bar_text:function(h,v,g){return g.text},month_events_link:function(h,v){return"<a>View more("+v+" events)</a>"},drag_marker_class:function(h,v,g){return""},drag_marker_content:function(h,v,g){return""},tooltip_date_format:r.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(h,v,g){return"<b>Event:</b> "+g.text+"<br/><b>Start date:</b> "+r.templates.tooltip_date_format(h)+"<br/><b>End date:</b> "+r.templates.tooltip_date_format(v)},calendar_month:s("%F %Y"),calendar_scale_date:s("%D"),calendar_date:s("%d"),calendar_time:s("%d-%m-%Y")}),this.callEvent("onTemplatesReady",[])}}(a),function(r){r._events={},r.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},r.addEvent=function(s,l,h,v,g){if(!arguments.length)return this.addEventNow();var f=s;arguments.length!=1&&((f=g||{}).start_date=s,f.end_date=l,f.text=h,f.id=v),f.id=f.id||r.uid(),f.text=f.text||"",typeof f.start_date=="string"&&(f.start_date=this.templates.api_date(f.start_date)),typeof f.end_date=="string"&&(f.end_date=this.templates.api_date(f.end_date));var u=6e4*(this.config.event_duration||this.config.time_step);f.start_date.valueOf()==f.end_date.valueOf()&&f.end_date.setTime(f.end_date.valueOf()+u),f.start_date.setMilliseconds(0),f.end_date.setMilliseconds(0),f._timed=this.isOneDayEvent(f);var m=!this._events[f.id];return this._events[f.id]=f,this.event_updated(f),this._loading||this.callEvent(m?"onEventAdded":"onEventChanged",[f.id,f]),f.id},r.deleteEvent=function(s,l){var h=this._events[s];(l||this.callEvent("onBeforeEventDelete",[s,h])&&this.callEvent("onConfirmedBeforeEventDelete",[s,h]))&&(h&&(r.getState().select_id==s&&r.unselect(),delete this._events[s],this.event_updated(h),this._drag_id==h.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[s,h]))},r.getEvent=function(s){return this._events[s]},r.setEvent=function(s,l){l.id||(l.id=s),this._events[s]=l},r.for_rendered=function(s,l){for(var h=this._rendered.length-1;h>=0;h--)this._rendered[h].getAttribute(this.config.event_attribute)==s&&l(this._rendered[h],h)},r.changeEventId=function(s,l){if(s!=l){var h=this._events[s];h&&(h.id=l,this._events[l]=h,delete this._events[s]),this.for_rendered(s,function(v){v.setAttribute("event_id",l),v.setAttribute(r.config.event_attribute,l)}),this._select_id==s&&(this._select_id=l),this._edit_id==s&&(this._edit_id=l),this.callEvent("onEventIdChange",[s,l])}},function(){for(var s=["text","Text","start_date","StartDate","end_date","EndDate"],l=function(g){return function(f){return r.getEvent(f)[g]}},h=function(g){return function(f,u){var m=r.getEvent(f);m[g]=u,m._changed=!0,m._timed=this.isOneDayEvent(m),r.event_updated(m,!0)}},v=0;v<s.length;v+=2)r["getEvent"+s[v+1]]=l(s[v]),r["setEvent"+s[v+1]]=h(s[v])}(),r.event_updated=function(s,l){this.is_visible_events(s)?this.render_view_data():this.clear_event(s.id)},r.is_visible_events=function(s){if(!this._min_date||!this._max_date)return!1;if(s.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<s.end_date.valueOf()){var l=s.start_date.getHours(),h=s.end_date.getHours()+s.end_date.getMinutes()/60,v=this.config.last_hour,g=this.config.first_hour;return!(!this._table_view&&(h>v||h<=g)&&(l>=v||l<g)&&!((s.end_date.valueOf()-s.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||l<v&&h>g))}return!1},r.isOneDayEvent=function(s){var l=new Date(s.end_date.valueOf()-1);return s.start_date.getFullYear()===l.getFullYear()&&s.start_date.getMonth()===l.getMonth()&&s.start_date.getDate()===l.getDate()&&s.end_date.valueOf()-s.start_date.valueOf()<864e5},r.get_visible_events=function(s){var l=[];for(var h in this._events)this.is_visible_events(this._events[h])&&(s&&!this._events[h]._timed||this.filter_event(h,this._events[h])&&l.push(this._events[h]));return l},r.filter_event=function(s,l){var h=this["filter_"+this._mode];return!h||h(s,l)},r._is_main_area_event=function(s){return!!s._timed},r.render_view_data=function(s,l){var h=!1;if(!s){if(h=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),s=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var v=0,g=s.length;v<g;v++)this._recalculate_timed(s[v]);if(this.config.multi_day&&!this._table_view){var f=[],u=[];for(v=0;v<s.length;v++)this._is_main_area_event(s[v])?f.push(s[v]):u.push(s[v]);if(!this._els.dhx_multi_day){var m=r._commonErrorMessages.unknownView(this._mode);throw new Error(m)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(u,l),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(f,l)}else{var c=document.createDocumentFragment(),p=this._els.dhx_cal_data[0];this._rendered_location=c,this.render_data(s,l),p.appendChild(c),this._rendered_location=p}h&&this.callEvent("onDataRender",[])},r._view_month_day=function(s){var l=r.getActionData(s).date;r.callEvent("onViewMoreClick",[l])&&r.setCurrentView(l,"day")},r._render_month_link=function(s){for(var l=this._rendered_location,h=this._lame_clone(s),v=s._sday;v<s._eday;v++){h._sday=v,h._eday=v+1;var g=r.date,f=r._min_date;f=g.add(f,h._sweek,"week"),f=g.add(f,h._sday,"day");var u=r.getEvents(f,g.add(f,1,"day")).length,m=this._get_event_bar_pos(h),c=m.x2-m.x,p=document.createElement("div");r.event(p,"click",function(y){r._view_month_day(y)}),p.className="dhx_month_link",p.style.top=m.y+"px",p.style.left=m.x+"px",p.style.width=c+"px",p.innerHTML=r.templates.month_events_link(f,u),this._rendered.push(p),l.appendChild(p)}},r._recalculate_timed=function(s){var l;s&&(l=typeof s!="object"?this._events[s]:s)&&(l._timed=r.isOneDayEvent(l))},r.attachEvent("onEventChanged",r._recalculate_timed),r.attachEvent("onEventAdded",r._recalculate_timed),r.render_data=function(s,l){s=this._pre_render_events(s,l);for(var h={},v=0;v<s.length;v++)if(this._table_view)if(r._mode!="month")this.render_event_bar(s[v]);else{var g=r.config.max_month_events;g!==1*g||s[v]._sorder<g?this.render_event_bar(s[v]):g!==void 0&&s[v]._sorder==g&&r._render_month_link(s[v])}else{var f=s[v],u=r.locate_holder(f._sday);if(!u)continue;h[f._sday]||(h[f._sday]={real:u,buffer:document.createDocumentFragment(),width:u.clientWidth});var m=h[f._sday];this.render_event(f,m.buffer,m.width)}for(var v in h)(m=h[v]).real&&m.buffer&&m.real.appendChild(m.buffer)},r._get_first_visible_cell=function(s){for(var l=0;l<s.length;l++)if((s[l].className||"").indexOf("dhx_scale_ignore")==-1)return s[l];return s[0]},r._pre_render_events=function(s,l){var h=this.xy.bar_height,v=this._colsS.heights,g=this._colsS.heights=[0,0,0,0,0,0,0],f=this._els.dhx_cal_data[0];if(s=this._table_view?this._pre_render_events_table(s,l):this._pre_render_events_line(s,l),this._table_view)if(l)this._colsS.heights=v;else{var u=f.querySelectorAll(".dhx_cal_month_row");if(u.length){for(var m=0;m<u.length;m++){g[m]++;var c=u[m].querySelectorAll(".dhx_cal_month_cell"),p=this._colsS.height-this.xy.month_head_height;if(g[m]*h>p){var y=p;1*this.config.max_month_events!==this.config.max_month_events||g[m]<=this.config.max_month_events?y=g[m]*h:(this.config.max_month_events+1)*h>p&&(y=(this.config.max_month_events+1)*h),u[m].style.height=y+this.xy.month_head_height+"px"}g[m]=(g[m-1]||0)+r._get_first_visible_cell(c).offsetHeight}g.unshift(0);const T=this.$container.querySelector(".dhx_cal_data");if(T.offsetHeight<T.scrollHeight&&!r._colsS.scroll_fix&&r.xy.scroll_width){var b=r._colsS,x=b[b.col_length],k=b.heights.slice();x-=r.xy.scroll_width||0,this._calc_scale_sizes(x,this._min_date,this._max_date),r._colsS.heights=k,this.set_xy(this._els.dhx_cal_header[0],x),r._render_scales(this._els.dhx_cal_header[0]),r._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),b.scroll_fix=!0}}else if(s.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(g[0]=-1),s.length||g[0]==-1){var w=(g[0]+1)*h+4,E=w,S=w+"px";this.config.multi_day_height_limit&&(S=(E=Math.min(w,this.config.multi_day_height_limit))+"px");var D=this._els.dhx_multi_day[0];D.style.height=S,D.style.visibility=g[0]==-1?"hidden":"visible",D.style.display=g[0]==-1?"none":"";var M=this._els.dhx_multi_day[1];M.style.height=S,M.style.visibility=g[0]==-1?"hidden":"visible",M.style.display=g[0]==-1?"none":"",M.className=g[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(g[0]+1)*h,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),g[0]=0,E!=w&&(D.style.overflowY="auto",M.style.position="fixed",M.style.top="",M.style.left="")}}return s},r._get_event_sday=function(s){var l=this.date.day_start(new Date(s.start_date));return Math.round((l.valueOf()-this._min_date.valueOf())/864e5)},r._get_event_mapped_end_date=function(s){var l=s.end_date;if(this.config.separate_short_events){var h=(s.end_date-s.start_date)/6e4;h<this._min_mapped_duration&&(l=this.date.add(l,this._min_mapped_duration-h,"minute"))}return l},r._pre_render_events_line=function(s,l){s.sort(function(M,T){return M.start_date.valueOf()==T.start_date.valueOf()?M.id>T.id?1:-1:M.start_date>T.start_date?1:-1});var h=[],v=[];this._min_mapped_duration=Math.floor(60*this.xy.min_event_height/this.config.hour_size_px);for(var g=0;g<s.length;g++){var f=s[g],u=f.start_date,m=f.end_date,c=u.getHours(),p=m.getHours();if(f._sday=this._get_event_sday(f),this._ignores[f._sday])s.splice(g,1),g--;else{if(h[f._sday]||(h[f._sday]=[]),!l){f._inner=!1;for(var y=h[f._sday];y.length;){var b=y[y.length-1];if(!(this._get_event_mapped_end_date(b).valueOf()<=f.start_date.valueOf()))break;y.splice(y.length-1,1)}for(var x=y.length,k=!1,w=0;w<y.length;w++)if(b=y[w],this._get_event_mapped_end_date(b).valueOf()<=f.start_date.valueOf()){k=!0,f._sorder=b._sorder,x=w,f._inner=!0;break}if(y.length&&(y[y.length-1]._inner=!0),!k)if(y.length)if(y.length<=y[y.length-1]._sorder){if(y[y.length-1]._sorder)for(w=0;w<y.length;w++){for(var E=!1,S=0;S<y.length;S++)if(y[S]._sorder==w){E=!0;break}if(!E){f._sorder=w;break}}else f._sorder=0;f._inner=!0}else{var D=y[0]._sorder;for(w=1;w<y.length;w++)y[w]._sorder>D&&(D=y[w]._sorder);f._sorder=D+1,f._inner=!1}else f._sorder=0;y.splice(x,x==y.length?0:1,f),y.length>(y.max_count||0)?(y.max_count=y.length,f._count=y.length):f._count=f._count?f._count:1}(c<this.config.first_hour||p>=this.config.last_hour)&&(v.push(f),s[g]=f=this._copy_event(f),c<this.config.first_hour&&(f.start_date.setHours(this.config.first_hour),f.start_date.setMinutes(0)),p>=this.config.last_hour&&(f.end_date.setMinutes(0),f.end_date.setHours(this.config.last_hour)),f.start_date>f.end_date||c==this.config.last_hour)&&(s.splice(g,1),g--)}}if(!l){for(g=0;g<s.length;g++)s[g]._count=h[s[g]._sday].max_count;for(g=0;g<v.length;g++)v[g]._count=h[v[g]._sday].max_count}return s},r._time_order=function(s){s.sort(function(l,h){return l.start_date.valueOf()==h.start_date.valueOf()?l._timed&&!h._timed?1:!l._timed&&h._timed?-1:l.id>h.id?1:-1:l.start_date>h.start_date?1:-1})},r._is_any_multiday_cell_visible=function(s,l,h){var v=this._cols.length,g=!1,f=s,u=!0,m=new Date(l);for(r.date.day_start(new Date(l)).valueOf()!=l.valueOf()&&(m=r.date.day_start(m),m=r.date.add(m,1,"day"));f<m;){u=!1;var c=this.locate_holder_day(f,!1,h)%v;if(!this._ignores[c]){g=!0;break}f=r.date.add(f,1,"day")}return u||g},r._pre_render_events_table=function(s,l){this._time_order(s);for(var h,v=[],g=[[],[],[],[],[],[],[]],f=this._colsS.heights,u=this._cols.length,m={},c=0;c<s.length;c++){var p=s[c],y=p.id;m[y]||(m[y]={first_chunk:!0,last_chunk:!0});var b=m[y],x=h||p.start_date,k=p.end_date;x<this._min_date&&(b.first_chunk=!1,x=this._min_date),k>this._max_date&&(b.last_chunk=!1,k=this._max_date);var w=this.locate_holder_day(x,!1,p);if(p._sday=w%u,!this._ignores[p._sday]||!p._timed){var E=this.locate_holder_day(k,!0,p)||u;if(p._eday=E%u||u,p._length=E-w,p._sweek=Math.floor((this._correct_shift(x.valueOf(),1)-this._min_date.valueOf())/(864e5*u)),r._is_any_multiday_cell_visible(x,k,p)){var S,D=g[p._sweek];for(S=0;S<D.length&&!(D[S]._eday<=p._sday);S++);if(p._sorder&&l||(p._sorder=S),p._sday+p._length<=u)h=null,v.push(p),D[S]=p,f[p._sweek]=D.length-1,p._first_chunk=b.first_chunk,p._last_chunk=b.last_chunk;else{var M=this._copy_event(p);M.id=p.id,M._length=u-p._sday,M._eday=u,M._sday=p._sday,M._sweek=p._sweek,M._sorder=p._sorder,M.end_date=this.date.add(x,M._length,"day"),M._first_chunk=b.first_chunk,b.first_chunk&&(b.first_chunk=!1),v.push(M),D[S]=M,h=M.end_date,f[p._sweek]=D.length-1,c--}}else h=null}}return v},r._copy_dummy=function(){var s=new Date(this.start_date),l=new Date(this.end_date);this.start_date=s,this.end_date=l},r._copy_event=function(s){return this._copy_dummy.prototype=s,new this._copy_dummy},r._rendered=[],r.clear_view=function(){for(var s=0;s<this._rendered.length;s++){var l=this._rendered[s];l.parentNode&&l.parentNode.removeChild(l)}this._rendered=[]},r.updateEvent=function(s){var l=this.getEvent(s);this.clear_event(s),l&&this.is_visible_events(l)&&this.filter_event(s,l)&&(this._table_view||this.config.multi_day||l._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(l)?this.render_view_data([l],!0):this.render_view_data())},r.clear_event=function(s){this.for_rendered(s,function(l,h){l.parentNode&&l.parentNode.removeChild(l),r._rendered.splice(h,1)})},r._y_from_date=function(s){var l=60*s.getHours()+s.getMinutes();return Math.round((60*l*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},r._calc_event_y=function(s,l){l=l||0;var h=60*s.start_date.getHours()+s.start_date.getMinutes(),v=60*s.end_date.getHours()+s.end_date.getMinutes()||60*r.config.last_hour;return{top:this._y_from_date(s.start_date),height:Math.max(l,(v-h)*this.config.hour_size_px/60)}},r.render_event=function(s,l,h){var v=r.xy.menu_width,g=this.config.use_select_menu_space?0:v;if(!(s._sday<0)){var f=r.locate_holder(s._sday);if(f){l=l||f;var u=this._calc_event_y(s,r.xy.min_event_height),m=u.top,c=u.height,p=s._count||1,y=s._sorder||0;h=h||f.clientWidth,this.config.day_column_padding&&(h-=this.config.day_column_padding);var b=Math.floor((h-g)/p),x=y*b+1;if(s._inner||(b*=p-y),this.config.cascade_event_display){var k=this.config.cascade_event_count,w=this.config.cascade_event_margin;x=y%k*w;var E=s._inner?(p-y-1)%k*w/2:0;b=Math.floor(h-g-x-E)}s._mode=c<30?"smallest":c<42?"small":null;var S=this._render_v_bar(s,g+x,m,b,c,s._text_style,r.templates.event_header(s.start_date,s.end_date,s),r.templates.event_text(s.start_date,s.end_date,s));if(s._mode==="smallest"?S.classList.add("dhx_cal_event--xsmall"):s._mode==="small"&&S.classList.add("dhx_cal_event--small"),this._waiAria.eventAttr(s,S),this._rendered.push(S),l.appendChild(S),x=x+parseInt(this.config.rtl?f.style.right:f.style.left,10)+g,this._edit_id==s.id){S.style.zIndex=1,b=Math.max(b,r.xy.editor_width),(S=document.createElement("div")).setAttribute("event_id",s.id),S.setAttribute(this.config.event_attribute,s.id),this._waiAria.eventAttr(s,S),S.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&x++,this.set_xy(S,b,c,x,m),s.color&&S.style.setProperty("--dhx-scheduler-event-background",s.color);var D=r.templates.event_class(s.start_date,s.end_date,s);D&&(S.className+=" "+D);var M=document.createElement("div");M.style.cssText+="overflow:hidden;height:100%",S.appendChild(M),this._els.dhx_cal_data[0].appendChild(S),this._rendered.push(S),M.innerHTML="<textarea class='dhx_cal_editor'>"+s.text+"</textarea>",this._editor=M.querySelector("textarea"),r.event(this._editor,"keydown",function(z){if(z.shiftKey)return!0;var P=z.keyCode;P==r.keys.edit_save&&r.editStop(!0),P==r.keys.edit_cancel&&r.editStop(!1),P!=r.keys.edit_save&&P!=r.keys.edit_cancel||z.preventDefault&&z.preventDefault()}),r.event(this._editor,"selectstart",function(z){return z.cancelBubble=!0,!0}),r._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==s.id){this.config.cascade_event_display&&this._drag_mode&&(S.style.zIndex=1);for(var T,A=this.config["icons_"+(this._edit_id==s.id?"edit":"select")],O="",$=0;$<A.length;$++){const z=A[$];T=this._waiAria.eventMenuAttrString(z),O+=`<div class='dhx_menu_icon ${z}' title='${this.locale.labels[z]}' ${T}></div>`}var q=this._render_v_bar(s,x-v-1,m,v,null,"","<div class='dhx_menu_head'></div>",O,!0);s.color&&q.style.setProperty("--dhx-scheduler-event-background",s.color),s.textColor&&q.style.setProperty("--dhx-scheduler-event-color",s.textColor),this._els.dhx_cal_data[0].appendChild(q),this._rendered.push(q)}this.config.drag_highlight&&this._drag_id==s.id&&this.highlightEventPosition(s)}}},r._render_v_bar=function(s,l,h,v,g,f,u,m,c){var p=document.createElement("div"),y=s.id,b=c?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",x=r.getState();x.drag_id==s.id&&(b+=" dhx_cal_event_drag"),x.select_id==s.id&&(b+=" dhx_cal_event_selected");var k=r.templates.event_class(s.start_date,s.end_date,s);k&&(b=b+" "+k),this.config.cascade_event_display&&(b+=" dhx_cal_event_cascade");var w=v-1,E=`<div event_id="${y}" ${this.config.event_attribute}="${y}" class="${b}"
				style="position:absolute; top:${h}px; ${this.config.rtl?"right:":"left:"}${l}px; width:${w}px; height:${g}px; ${f||""}" 
				data-bar-start="${s.start_date.valueOf()}" data-bar-end="${s.end_date.valueOf()}">
				</div>`;p.innerHTML=E;var S=p.cloneNode(!0).firstChild;if(!c&&r.renderEvent(S,s,v,g,u,m))return s.color&&S.style.setProperty("--dhx-scheduler-event-background",s.color),s.textColor&&S.style.setProperty("--dhx-scheduler-event-color",s.textColor),S;S=p.firstChild,s.color&&S.style.setProperty("--dhx-scheduler-event-background",s.color),s.textColor&&S.style.setProperty("--dhx-scheduler-event-color",s.textColor);var D='<div class="dhx_event_move dhx_header" >&nbsp;</div>';D+='<div class="dhx_event_move dhx_title">'+u+"</div>",D+='<div class="dhx_body">'+m+"</div>";var M="dhx_event_resize dhx_footer";return(c||s._drag_resize===!1)&&(M="dhx_resize_denied "+M),D+='<div class="'+M+'" style=" width:'+(c?" margin-top:-1px;":"")+'" ></div>',S.innerHTML=D,S},r.renderEvent=function(){return!1},r.locate_holder=function(s){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[s]},r.locate_holder_day=function(s,l){var h=Math.floor((this._correct_shift(s,1)-this._min_date)/864e5);return l&&this.date.time_part(s)&&h++,h},r._get_dnd_order=function(s,l,h){if(!this._drag_event)return s;this._drag_event._orig_sorder?s=this._drag_event._orig_sorder:this._drag_event._orig_sorder=s;for(var v=l*s;v+l>h;)s--,v-=l;return Math.max(s,0)},r._get_event_bar_pos=function(s){var l=this.config.rtl,h=this._colsS,v=h[s._sday],g=h[s._eday];l&&(v=h[h.col_length]-h[s._eday]+h[0],g=h[h.col_length]-h[s._sday]+h[0]),g==v&&(g=h[s._eday+1]);var f=this.xy.bar_height,u=s._sorder;if(s.id==this._drag_id){var m=h.heights[s._sweek+1]-h.heights[s._sweek]-this.xy.month_head_height;u=r._get_dnd_order(u,f,m)}var c=u*f;return{x:v,x2:g,y:h.heights[s._sweek]+(h.height?this.xy.month_scale_height+2:2)+c}},r.render_event_bar=function(s){var l=this._rendered_location,h=this._get_event_bar_pos(s),v=h.y,g=h.x,f=h.x2,u="";if(f){var m=r.config.resize_month_events&&this._mode=="month"&&(!s._timed||r.config.resize_month_timed),c=document.createElement("div"),p=s.hasOwnProperty("_first_chunk")&&s._first_chunk,y=s.hasOwnProperty("_last_chunk")&&s._last_chunk,b=m&&(s._timed||p),x=m&&(s._timed||y),k=!0,w="dhx_cal_event_clear";s._timed&&!m||(k=!1,w="dhx_cal_event_line"),p&&(w+=" dhx_cal_event_line_start"),y&&(w+=" dhx_cal_event_line_end"),b&&(u+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),x&&(u+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var E=r.templates.event_class(s.start_date,s.end_date,s);E&&(w+=" "+E);var S=s.color?"--dhx-scheduler-event-background:"+s.color+";":"",D=s.textColor?"--dhx-scheduler-event-color:"+s.textColor+";":"",M=["position:absolute","top:"+v+"px","left:"+g+"px","width:"+(f-g-(k?1:0))+"px","height:"+(this.xy.bar_height-2)+"px",D,S,s._text_style||""].join(";"),T="<div event_id='"+s.id+"' "+this.config.event_attribute+"='"+s.id+"' class='"+w+"' style='"+M+"'"+this._waiAria.eventBarAttrString(s)+">";m&&(T+=u),r.getState().mode=="month"&&(s=r.getEvent(s.id)),s._timed&&(T+=`<span class='dhx_cal_event_clear_date'>${r.templates.event_bar_date(s.start_date,s.end_date,s)}</span>`),T+="<div class='dhx_cal_event_line_content'>",T+=r.templates.event_bar_text(s.start_date,s.end_date,s)+"</div>",T+="</div>",T+="</div>",c.innerHTML=T,this._rendered.push(c.firstChild),l.appendChild(c.firstChild)}},r._locate_event=function(s){for(var l=null;s&&!l&&s.getAttribute;)l=s.getAttribute(this.config.event_attribute),s=s.parentNode;return l},r.edit=function(s){this._edit_id!=s&&(this.editStop(!1,s),this._edit_id=s,this.updateEvent(s))},r.editStop=function(s,l){if(!l||this._edit_id!=l){var h=this.getEvent(this._edit_id);h&&(s&&(h.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(h.id),this._edit_stop_event(h,s))}},r._edit_stop_event=function(s,l){this._new_event?(l?this.callEvent("onEventAdded",[s.id,s]):s&&this.deleteEvent(s.id,!0),this._new_event=null):l&&this.callEvent("onEventChanged",[s.id,s])},r.getEvents=function(s,l){var h=[];for(var v in this._events){var g=this._events[v];g&&(!s&&!l||g.start_date<l&&g.end_date>s)&&h.push(g)}return h},r.getRenderedEvent=function(s){if(s){for(var l=r._rendered,h=0;h<l.length;h++){var v=l[h];if(v.getAttribute(r.config.event_attribute)==s)return v}return null}},r.showEvent=function(s,l){s&&typeof s=="object"&&(l=s.mode,y=s.section,s=s.section);var h=typeof s=="number"||typeof s=="string"?r.getEvent(s):s;if(l=l||r._mode,h&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[h,l]))){var v=r.config.scroll_hour;r.config.scroll_hour=h.start_date.getHours();var g=r.config.preserve_scroll;r.config.preserve_scroll=!1;var f=h.color,u=h.textColor;if(r.config.highlight_displayed_event&&(h.color=r.config.displayed_event_color,h.textColor=r.config.displayed_event_text_color),r.setCurrentView(new Date(h.start_date),l),r.config.scroll_hour=v,r.config.preserve_scroll=g,r.matrix&&r.matrix[l]){var m=r.getView(),c=m.y_property,p=r.getEvent(h.id);if(p){if(!y){var y=p[c];Array.isArray(y)?y=y[0]:typeof y=="string"&&r.config.section_delimiter&&y.indexOf(r.config.section_delimiter)>-1&&(y=y.split(r.config.section_delimiter)[0])}var b=m.getSectionTop(y),x=m.posFromDate(p.start_date),k=r.$container.querySelector(".dhx_timeline_data_wrapper");if(x-=(k.offsetWidth-m.dx)/2,b=b-k.offsetHeight/2+m.dy/2,m._smartRenderingEnabled())var w=m.attachEvent("onScroll",function(){E(),m.detachEvent(w)});m.scrollTo({left:x,top:b}),m._smartRenderingEnabled()||E()}}else E();r.callEvent("onAfterEventDisplay",[h,l])}function E(){h.color=f,h.textColor=u}}}(a),function(r){r._append_drag_marker=function(s){if(!s.parentNode){var l=r._els.dhx_cal_data[0].lastChild,h=r._getClassName(l);h.indexOf("dhx_scale_holder")<0&&l.previousSibling&&(l=l.previousSibling),h=r._getClassName(l),l&&h.indexOf("dhx_scale_holder")===0&&l.appendChild(s)}},r._update_marker_position=function(s,l){var h=r._calc_event_y(l,0);s.style.top=h.top+"px",s.style.height=h.height+"px"},r.highlightEventPosition=function(s){var l=document.createElement("div");l.setAttribute("event_id",s.id),l.setAttribute(this.config.event_attribute,s.id),this._rendered.push(l),this._update_marker_position(l,s);var h=this.templates.drag_marker_class(s.start_date,s.end_date,s),v=this.templates.drag_marker_content(s.start_date,s.end_date,s);l.className="dhx_drag_marker",h&&(l.className+=" "+h),v&&(l.innerHTML=v),this._append_drag_marker(l)}}(a),x_(a),function(r){function s(){const l=r.config.csp===!0,h=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;return l||h?r.$root:document.body}r._lightbox_controls={},r.formSection=function(l){for(var h=this.config.lightbox.sections,v=0;v<h.length&&h[v].name!=l;v++);if(v===h.length)return null;var g=h[v];r._lightbox||r.getLightbox();var f=r._lightbox.querySelector(`#${g.id}`),u=f.nextSibling,m={section:g,header:f,node:u,getValue:function(p){return r.form_blocks[g.type].get_value(u,p||{},g)},setValue:function(p,y){return r.form_blocks[g.type].set_value(u,p,y||{},g)}},c=r._lightbox_controls["get_"+g.type+"_control"];return c?c(m):m},r._lightbox_controls.get_template_control=function(l){return l.control=l.node,l},r._lightbox_controls.get_select_control=function(l){return l.control=l.node.getElementsByTagName("select")[0],l},r._lightbox_controls.get_textarea_control=function(l){return l.control=l.node.getElementsByTagName("textarea")[0],l},r._lightbox_controls.get_time_control=function(l){return l.control=l.node.getElementsByTagName("select"),l},r._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},r.form_blocks={template:{render:function(l){return"<div class='dhx_cal_ltext dhx_cal_template' ></div>"},set_value:function(l,h,v,g){l.innerHTML=h||""},get_value:function(l,h,v){return l.innerHTML||""},focus:function(l){}},textarea:{render:function(l){return`<div class='dhx_cal_ltext'><textarea ${l.placeholder?`placeholder='${l.placeholder}'`:""}></textarea></div>`},set_value:function(l,h,v){r.form_blocks.textarea._get_input(l).value=h||""},get_value:function(l,h){return r.form_blocks.textarea._get_input(l).value},focus:function(l){var h=r.form_blocks.textarea._get_input(l);r._focus(h,!0)},_get_input:function(l){return l.getElementsByTagName("textarea")[0]}},select:{render:function(l){for(var h="<div class='dhx_cal_ltext dhx_cal_select'><select style='width:100%;'>",v=0;v<l.options.length;v++)h+="<option value='"+l.options[v].key+"'>"+l.options[v].label+"</option>";return h+"</select></div>"},set_value:function(l,h,v,g){var f=l.firstChild;!f._dhx_onchange&&g.onchange&&(r.event(f,"change",g.onchange),f._dhx_onchange=!0),h===void 0&&(h=(f.options[0]||{}).value),f.value=h||""},get_value:function(l,h){return l.firstChild.value},focus:function(l){var h=l.firstChild;r._focus(h,!0)}},time:{render:function(l){l.time_format||(l.time_format=["%H:%i","%d","%m","%Y"]),l._time_format_order={};var h=l.time_format,v=r.config,g=r.date.date_part(r._currentDate()),f=1440,u=0;r.config.limit_time_select&&(f=60*v.last_hour+1,u=60*v.first_hour,g.setHours(v.first_hour));for(var m="",c=0;c<h.length;c++){var p=h[c];c>0&&(m+=" ");var y="",b="";switch(p){case"%Y":var x,k,w;y="dhx_lightbox_year_select",l._time_format_order[3]=c,l.year_range&&(isNaN(l.year_range)?l.year_range.push&&(k=l.year_range[0],w=l.year_range[1]):x=l.year_range),x=x||10;var E=E||Math.floor(x/2);k=k||g.getFullYear()-E,w=w||k+x;for(var S=k;S<w;S++)b+="<option value='"+S+"'>"+S+"</option>";break;case"%m":for(y="dhx_lightbox_month_select",l._time_format_order[2]=c,S=0;S<12;S++)b+="<option value='"+S+"'>"+this.locale.date.month_full[S]+"</option>";break;case"%d":for(y="dhx_lightbox_day_select",l._time_format_order[1]=c,S=1;S<32;S++)b+="<option value='"+S+"'>"+S+"</option>";break;case"%H:%i":y="dhx_lightbox_time_select",l._time_format_order[0]=c,S=u;var D=g.getDate();for(l._time_values=[];S<f;)b+="<option value='"+S+"'>"+this.templates.time_picker(g)+"</option>",l._time_values.push(S),g.setTime(g.valueOf()+60*this.config.time_step*1e3),S=24*(g.getDate()!=D?1:0)*60+60*g.getHours()+g.getMinutes()}if(b){var M=r._waiAria.lightboxSelectAttrString(p);m+="<select class='"+y+"' "+(l.readonly?"disabled='disabled'":"")+M+">"+b+"</select> "}}return"<div class='dhx_section_time'>"+m+"<span style='font-weight:normal; font-size:10pt;' class='dhx_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(l,h,v,g){var f,u,m=r.config,c=l.getElementsByTagName("select"),p=g._time_format_order;if(m.full_day){if(!l._full_day){var y="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+r.locale.labels.full_day+"&nbsp;</label></input>";r.config.wide_form||(y=l.previousSibling.innerHTML+y),l.previousSibling.innerHTML=y,l._full_day=!0}var b=l.previousSibling.getElementsByTagName("input")[0];b.checked=r.date.time_part(v.start_date)===0&&r.date.time_part(v.end_date)===0,c[p[0]].disabled=b.checked,c[p[0]+c.length/2].disabled=b.checked,b.$_eventAttached||(b.$_eventAttached=!0,r.event(b,"click",function(){if(b.checked){var E={};r.form_blocks.time.get_value(l,E,g),f=r.date.date_part(E.start_date),(+(u=r.date.date_part(E.end_date))==+f||+u>=+f&&(v.end_date.getHours()!==0||v.end_date.getMinutes()!==0))&&(u=r.date.add(u,1,"day"))}else f=null,u=null;c[p[0]].disabled=b.checked,c[p[0]+c.length/2].disabled=b.checked,w(c,0,f||v.start_date),w(c,4,u||v.end_date)}))}if(m.auto_end_date&&m.event_duration)for(var x=function(){m.auto_end_date&&m.event_duration&&(f=new Date(c[p[3]].value,c[p[2]].value,c[p[1]].value,0,c[p[0]].value),u=new Date(f.getTime()+60*r.config.event_duration*1e3),w(c,4,u))},k=0;k<4;k++)c[k].$_eventAttached||(c[k].$_eventAttached=!0,r.event(c[k],"change",x));function w(E,S,D){for(var M=g._time_values,T=60*D.getHours()+D.getMinutes(),A=T,O=!1,$=0;$<M.length;$++){var q=M[$];if(q===T){O=!0;break}q<T&&(A=q)}E[S+p[0]].value=O?T:A,O||A||(E[S+p[0]].selectedIndex=-1),E[S+p[1]].value=D.getDate(),E[S+p[2]].value=D.getMonth(),E[S+p[3]].value=D.getFullYear()}w(c,0,v.start_date),w(c,4,v.end_date)},get_value:function(l,h,v){var g=l.getElementsByTagName("select"),f=v._time_format_order;if(h.start_date=new Date(g[f[3]].value,g[f[2]].value,g[f[1]].value,0,g[f[0]].value),h.end_date=new Date(g[f[3]+4].value,g[f[2]+4].value,g[f[1]+4].value,0,g[f[0]+4].value),!g[f[3]].value||!g[f[3]+4].value){var u=r.getEvent(r._lightbox_id);u&&(h.start_date=u.start_date,h.end_date=u.end_date)}return h.end_date<=h.start_date&&(h.end_date=r.date.add(h.start_date,r.config.time_step,"minute")),{start_date:new Date(h.start_date),end_date:new Date(h.end_date)}},focus:function(l){r._focus(l.getElementsByTagName("select")[0])}}},r._setLbPosition=function(l){l&&(l.style.top=Math.max(s().offsetHeight/2-l.offsetHeight/2,0)+"px",l.style.left=Math.max(s().offsetWidth/2-l.offsetWidth/2,0)+"px")},r.showCover=function(l){l&&(l.style.display="block",this._setLbPosition(l)),r.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),s().classList.add("dhx_cal_overflow_container")),this.show_cover(),this._cover.style.display=""},r.showLightbox=function(l){if(l)if(this.callEvent("onBeforeLightbox",[l])){this.showCover(h);var h=this.getLightbox();this._setLbPosition(h),this._fill_lightbox(l,h),this._waiAria.lightboxVisibleAttr(h),this.callEvent("onLightbox",[l])}else this._new_event&&(this._new_event=null)},r._fill_lightbox=function(l,h){var v=this.getEvent(l),g=h.getElementsByTagName("span"),f=[];if(r.templates.lightbox_header){f.push("");var u=r.templates.lightbox_header(v.start_date,v.end_date,v);f.push(u),g[1].innerHTML="",g[2].innerHTML=u}else{var m=this.templates.event_header(v.start_date,v.end_date,v),c=(this.templates.event_bar_text(v.start_date,v.end_date,v)||"").substr(0,70);f.push(m),f.push(c),g[1].innerHTML=m,g[2].innerHTML=c}this._waiAria.lightboxHeader(h,f.join(" "));for(var p=this.config.lightbox.sections,y=0;y<p.length;y++){var b=p[y],x=r._get_lightbox_section_node(b),k=this.form_blocks[b.type],w=v[b.map_to]!==void 0?v[b.map_to]:b.default_value;k.set_value.call(this,x,w,v,b),p[y].focus&&k.focus.call(this,x)}r._lightbox_id=l},r._get_lightbox_section_node=function(l){return r._lightbox.querySelector(`#${l.id}`).nextSibling},r._lightbox_out=function(l){for(var h=this.config.lightbox.sections,v=0;v<h.length;v++){var g=r._lightbox.querySelector(`#${h[v].id}`);g=g&&g.nextSibling;var f=this.form_blocks[h[v].type].get_value.call(this,g,l,h[v]);h[v].map_to!="auto"&&(l[h[v].map_to]=f)}return l},r._empty_lightbox=function(l){var h=r._lightbox_id,v=this.getEvent(h);this._lame_copy(v,l),this.setEvent(v.id,v),this._edit_stop_event(v,!0),this.render_view_data()},r.hide_lightbox=function(l){r.endLightbox(!1,this.getLightbox())},r.hideCover=function(l){l&&(l.style.display="none"),this.hide_cover(),r.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),s().classList.remove("dhx_cal_overflow_container"))},r.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},r.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",this._cover.style.display="none",r.event(this._cover,"mousemove",r._move_while_dnd),r.event(this._cover,"mouseup",r._finish_dnd),s().appendChild(this._cover))},r.save_lightbox=function(){var l=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,l,this._new_event])||(this._empty_lightbox(l),this.hide_lightbox())},r.startLightbox=function(l,h){this._lightbox_id=l,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=h,this.showCover(h)},r.endLightbox=function(l,h){h=h||r.getLightbox();var v=r.getEvent(this._lightbox_id);v&&this._edit_stop_event(v,l),l&&r.render_view_data(),this.hideCover(h),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(h),this.resetLightbox(),this.callEvent("onAfterLightbox",[])},r.resetLightbox=function(){r._lightbox&&!r._custom_lightbox&&r._lightbox.parentNode.removeChild(r._lightbox),r._lightbox=null},r.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,!!this._new_event]),this.hide_lightbox()},r.hideLightbox=r.cancel_lightbox,r._init_lightbox_events=function(){if(this.getLightbox().$_eventAttached)return;const l=this.getLightbox();l.$_eventAttached=!0,r.event(l,"click",function(h){h.target.closest(".dhx_cal_ltitle_close_btn")&&r.cancel_lightbox();const v=r.$domHelpers.closest(h.target,".dhx_btn_set");if(!v){const u=r.$domHelpers.closest(h.target,".dhx_custom_button[data-section-index]");if(u){const m=Number(u.getAttribute("data-section-index"));r.form_blocks[r.config.lightbox.sections[m].type].button_click(r.$domHelpers.closest(u,".dhx_cal_lsection"),u,h)}return}const g=v?v.getAttribute("data-action"):null;switch(g){case"dhx_save_btn":case"save":if(r.config.readonly_active)return;r.save_lightbox();break;case"dhx_delete_btn":case"delete":if(r.config.readonly_active)return;var f=r.locale.labels.confirm_deleting;r._dhtmlx_confirm({message:f,title:r.locale.labels.title_confirm_deleting,callback:function(){r.deleteEvent(r._lightbox_id),r._new_event=null,r.hide_lightbox()},config:{ok:r.locale.labels.icon_delete}});break;case"dhx_cancel_btn":case"cancel":r.cancel_lightbox();break;default:r.callEvent("onLightboxButton",[g,v,h])}}),r.event(l,"keydown",function(h){var v=h||window.event,g=h.target||h.srcElement,f=g.querySelector("[dhx_button]");switch(f||(f=g.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(h||v).keyCode){case 32:if((h||v).shiftKey)return;f&&f.click&&f.click();break;case r.keys.edit_save:if((h||v).shiftKey)return;if(f&&f.click)f.click();else{if(r.config.readonly_active)return;r.save_lightbox()}break;case r.keys.edit_cancel:r.cancel_lightbox()}})},r.setLightboxSize=function(){},r._init_dnd_events=function(){r.event(s(),"mousemove",r._move_while_dnd),r.event(s(),"mouseup",r._finish_dnd),r._init_dnd_events=function(){}},r._move_while_dnd=function(l){if(r._dnd_start_lb){document.dhx_unselectable||(s().classList.add("dhx_unselectable"),document.dhx_unselectable=!0);var h=r.getLightbox(),v=[l.pageX,l.pageY];h.style.top=r._lb_start[1]+v[1]-r._dnd_start_lb[1]+"px",h.style.left=r._lb_start[0]+v[0]-r._dnd_start_lb[0]+"px"}},r._ready_to_dnd=function(l){var h=r.getLightbox();r._lb_start=[h.offsetLeft,h.offsetTop],r._dnd_start_lb=[l.pageX,l.pageY]},r._finish_dnd=function(){r._lb_start&&(r._lb_start=r._dnd_start_lb=!1,s().classList.remove("dhx_unselectable"),document.dhx_unselectable=!1)},r.getLightbox=function(){if(!this._lightbox){var l=document.createElement("div");l.className="dhx_cal_light",r.config.wide_form&&(l.className+=" dhx_cal_light_wide"),r.form_blocks.recurring&&(l.className+=" dhx_cal_light_rec"),r.config.rtl&&(l.className+=" dhx_cal_light_rtl"),r.config.responsive_lightbox&&(l.className+=" dhx_cal_light_responsive"),l.style.visibility="hidden";var h=this._lightbox_template,v=this.config.buttons_left;h+="<div class='dhx_cal_lcontrols'>";for(var g=0;g<v.length;g++)h+="<div "+this._waiAria.lightboxButtonAttrString(v[g])+" data-action='"+v[g]+"' class='dhx_btn_set dhx_"+(r.config.rtl?"right":"left")+"_btn_set "+v[g]+"_set'><div class='dhx_btn_inner "+v[g]+"'></div><div>"+r.locale.labels[v[g]]+"</div></div>";v=this.config.buttons_right;var f=r.config.rtl;for(g=0;g<v.length;g++)h+="<div class='dhx_cal_lcontrols_push_right'></div>",h+="<div "+this._waiAria.lightboxButtonAttrString(v[g])+" data-action='"+v[g]+"' class='dhx_btn_set dhx_"+(f?"left":"right")+"_btn_set "+v[g]+"_set'><div class='dhx_btn_inner "+v[g]+"'></div><div>"+r.locale.labels[v[g]]+"</div></div>";h+="</div>",h+="</div>",l.innerHTML=h,r.config.drag_lightbox&&(r.event(l.firstChild,"mousedown",r._ready_to_dnd),r.event(l.firstChild,"selectstart",function(x){return x.preventDefault(),!1}),l.firstChild.style.cursor="move",r._init_dnd_events()),this._waiAria.lightboxAttr(l),this.show_cover(),this._cover.insertBefore(l,this._cover.firstChild),this._lightbox=l;var u=this.config.lightbox.sections;for(h="",g=0;g<u.length;g++){var m=this.form_blocks[u[g].type];if(m){u[g].id="area_"+this.uid();var c="";u[g].button&&(c="<div "+r._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+u[g].button])+" class='dhx_custom_button' data-section-index='"+g+"' index='"+g+"'><div class='dhx_custom_button_"+u[g].button+"'></div><div>"+this.locale.labels["button_"+u[g].button]+"</div></div>"),this.config.wide_form&&(h+="<div class='dhx_wrap_section'>");var p=this.locale.labels["section_"+u[g].name];typeof p!="string"&&(p=u[g].name),h+="<div id='"+u[g].id+"' class='dhx_cal_lsection dhx_cal_lsection_"+u[g].name+"'>"+c+"<label>"+p+"</label></div>"+m.render.call(this,u[g]),h+="</div>"}}var y=l.getElementsByTagName("div");for(g=0;g<y.length;g++){var b=y[g];if(r._getClassName(b)=="dhx_cal_larea"){b.innerHTML=h;break}}r._bindLightboxLabels(u),this.setLightboxSize(),this._init_lightbox_events(this),l.style.visibility="visible"}return this._lightbox},r._bindLightboxLabels=function(l){for(var h=0;h<l.length;h++){var v=l[h];if(v.id&&r._lightbox.querySelector(`#${v.id}`)){for(var g=r._lightbox.querySelector(`#${v.id}`).querySelector("label"),f=r._get_lightbox_section_node(v);f&&!f.querySelector;)f=f.nextSibling;var u=!0;if(f){var m=f.querySelector("input, select, textarea");m&&(v.inputId=m.id||"input_"+r.uid(),m.id||(m.id=v.inputId),g.setAttribute("for",v.inputId),u=!1)}u&&r.form_blocks[v.type].focus&&r.event(g,"click",function(c){return function(){var p=r.form_blocks[c.type],y=r._get_lightbox_section_node(c);p&&p.focus&&p.focus.call(r,y)}}(v))}}},r.attachEvent("onEventIdChange",function(l,h){this._lightbox_id==l&&(this._lightbox_id=h)}),r._lightbox_template=`<div class='dhx_cal_ltitle'><div class="dhx_cal_ltitle_descr"><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span>
</div>
<div class="dhx_cal_ltitle_controls">
<a class="dhx_cal_ltitle_close_btn scheduler_icon close"></a>
</div></div><div class='dhx_cal_larea'></div>`}(a),w_(a),function(r){r.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){r.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var s=document.createElement("DIV");s.id="scheduler_"+r.uid(),s.style.width="100%",s.style.height="100%",s.classList.add("dhx_cal_container"),s.cmp="grid",s.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',r.init(s),this.el=s}},type:4}}}(a),k_(a),window.jQuery&&(n=window.jQuery,o=0,i=[],n.fn.dhx_scheduler=function(r){if(typeof r!="string"){var s=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))s.push(window[this.getAttribute("dhxscheduler")]);else{var l="scheduler";o&&(l="scheduler"+(o+1),window[l]=Scheduler.getSchedulerInstance());var h=window[l];for(var v in this.setAttribute("dhxscheduler",l),r)v!="data"&&(h.config[v]=r[v]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),h.init(this,h.config.date,h.config.mode),r.data&&h.parse(r.data),s.push(h),o++}}),s.length===1?s[0]:s}if(i[r])return i[r].apply(this,[]);n.error("Method "+r+" does not exist on jQuery.dhx_scheduler")}),function(r){(function(){var s=r.setCurrentView,l=r.updateView,h=null,v=null,g=function(m,c){var p=this;G.clearTimeout(v),G.clearTimeout(h);var y=p._date,b=p._mode;u(this,m,c),v=setTimeout(function(){r.$destroyed||(p.callEvent("onBeforeViewChange",[b,y,c||p._mode,m||p._date])?(l.call(p,m,c),p.callEvent("onViewChange",[p._mode,p._date]),G.clearTimeout(h),v=0):u(p,y,b))},r.config.delay_render)},f=function(m,c){var p=this,y=arguments;u(this,m,c),G.clearTimeout(h),h=setTimeout(function(){r.$destroyed||v||l.apply(p,y)},r.config.delay_render)};function u(m,c,p){c&&(m._date=c),p&&(m._mode=p)}r.attachEvent("onSchedulerReady",function(){r.config.delay_render?(r.setCurrentView=g,r.updateView=f):(r.setCurrentView=s,r.updateView=l)})})()}(a),function(r){r.createDataProcessor=function(s){var l,h;s instanceof Function?l=s:s.hasOwnProperty("router")?l=s.router:s.hasOwnProperty("event")&&(l=s),h=l?"CUSTOM":s.mode||"REST-JSON";var v=new Tn(s.url);return v.init(r),v.setTransactionMode({mode:h,router:l},s.batchUpdate),v},r.DataProcessor=Tn}(a),function(r){r.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(s,l,h){var v=h[0].responseText;switch(r.config.ajax_error){case"alert":G.alert(v);break;case"console":G.console.log(v)}})})}(a);const d=new F_({en:H_,ar:D_,be:M_,ca:C_,cn:T_,cs:N_,da:A_,de:O_,el:L_,es:$_,fi:z_,fr:P_,he:R_,hu:q_,id:j_,it:I_,jp:V_,nb:U_,nl:Y_,no:B_,pl:W_,pt:J_,ro:K_,ru:X_,si:G_,sk:Z_,sv:Q_,tr:el,ua:tl});a.i18n={addLocale:d.addLocale,setLocale:function(r){if(typeof r=="string"){var s=d.getLocale(r);s||(s=d.getLocale("en")),a.locale=s}else if(r)if(a.locale)for(var l in r)r[l]&&typeof r[l]=="object"?(a.locale[l]||(a.locale[l]={}),a.mixin(a.locale[l],r[l],!0)):a.locale[l]=r[l];else a.locale=r;var h=a.locale.labels;h.dhx_save_btn=h.icon_save,h.dhx_cancel_btn=h.icon_cancel,h.dhx_delete_btn=h.icon_delete,a.$container&&a.get_elements()},getLocale:d.getLocale},a.i18n.setLocale("en"),s_(a),a.ext={};const _={};return a.plugins=function(r){(function(s,l,h){const v=[];for(const g in s)if(s[g]){const f=g.toLowerCase();l[f]&&l[f].forEach(function(u){const m=u.toLowerCase();s[m]||v.push(m)}),v.push(f)}return v.sort(function(g,f){const u=h[g]||0,m=h[f]||0;return u>m?1:u<m?-1:0}),v})(r,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(s){if(!_[s]){const l=e.getExtension(s);if(!l)throw new Error("unknown plugin "+s);l(a),_[s]=!0}})},a}class rl{constructor(a){this._extensions={};for(const t in a)this._extensions[t]=a[t]}addExtension(a,t){this._extensions[a]=t}getExtension(a){return this._extensions[a]}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(e,a,t,n){t=t||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var o=document.createElement("DIV");return o.id="dhxSchedObj_"+this._genStr(12),o.innerHTML='<div id="'+o.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button"></div><div class="dhx_cal_next_button"></div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+t+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(o.firstChild),this.attachObject(o.id,!1,!0),this.vs[this.av].sched=n,this.vs[this.av].schedId=o.id,n.setSizes=n.updateView,n.destructor=function(){},n.init(o.id,e,a),this.vs[this._viewRestore()].sched});function Kr(e){e._inited_multisection_copies||(e.attachEvent("onEventIdChange",function(a,t){var n=this._multisection_copies;if(n&&n[a]&&!n[t]){var o=n[a];delete n[a],n[t]=o}}),e._inited_multisection_copies=!0),e._register_copies_array=function(a){for(var t=0;t<a.length;t++)this._register_copy(a[t])},e._register_copy=function(a){if(this._multisection_copies){this._multisection_copies[a.id]||(this._multisection_copies[a.id]={});var t=a[this._get_section_property()];this._multisection_copies[a.id][t]=a}},e._get_copied_event=function(a,t){if(!this._multisection_copies[a])return null;if(this._multisection_copies[a][t])return this._multisection_copies[a][t];var n=this._multisection_copies[a];if(e._drag_event&&e._drag_event._orig_section&&n[e._drag_event._orig_section])return n[e._drag_event._orig_section];var o=1/0,i=null;for(var d in n)n[d]._sorder<o&&(i=n[d],o=n[d]._sorder);return i},e._clear_copied_events=function(){this._multisection_copies={}},e._restore_render_flags=function(a){for(var t=this._get_section_property(),n=0;n<a.length;n++){var o=a[n],i=e._get_copied_event(o.id,o[t]);if(i)for(var d in i)d.indexOf("_")===0&&(o[d]=i[d])}}}const $a={from_scheduler:null,to_scheduler:null,drag_data:null,drag_placeholder:null,delete_dnd_holder:function(){var e=this.drag_placeholder;e&&(e.parentNode&&e.parentNode.removeChild(e),document.body.className=document.body.className.replace(" dhx_no_select",""),this.drag_placeholder=null)},copy_event_node:function(e,a){for(var t=null,n=0;n<a._rendered.length;n++){var o=a._rendered[n];if(o.getAttribute(a.config.event_attribute)==e.id||o.getAttribute(a.config.event_attribute)==a._drag_id){(t=o.cloneNode(!0)).style.position=t.style.top=t.style.left="";break}}return t||document.createElement("div")},create_dnd_holder:function(e,a){if(this.drag_placeholder)return this.drag_placeholder;var t=document.createElement("div"),n=a.templates.event_outside(e.start_date,e.end_date,e);return n?t.innerHTML=n:t.appendChild(this.copy_event_node(e,a)),t.className="dhx_drag_placeholder",t.style.position="absolute",this.drag_placeholder=t,document.body.appendChild(t),document.body.className+=" dhx_no_select",t},move_dnd_holder:function(e){var a={x:e.clientX,y:e.clientY};if(this.create_dnd_holder(this.drag_data.ev,this.from_scheduler),this.drag_placeholder){var t=a.x,n=a.y,o=document.documentElement,i=document.body,d=this.drag_placeholder;d.style.left=10+t+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o.clientLeft||0)+"px",d.style.top=10+n+(o&&o.scrollTop||i&&i.scrollTop||0)-(o.clientTop||0)+"px"}},clear_scheduler_dnd:function(e){e._drag_id=e._drag_pos=e._drag_mode=e._drag_event=e._new_event=null},stop_drag:function(e){e&&this.clear_scheduler_dnd(e),this.delete_dnd_holder(),this.drag_data=null},inject_into_scheduler:function(e,a,t){e._count=1,e._sorder=0,e.event_pid&&e.event_pid!="0"&&(e.event_pid=null,e.rec_type=e.rec_pattern="",e.event_length=0),a._drag_event=e,a._events[e.id]=e,a._drag_id=e.id,a._drag_mode="move",t&&a._on_mouse_move(t)},start_dnd:function(e){if(e.config.drag_out){this.from_scheduler=e,this.to_scheduler=e;var a=this.drag_data={};a.ev=e._drag_event,a.orig_id=e._drag_event.id}},land_into_scheduler:function(e,a){if(!e.config.drag_in)return this.move_dnd_holder(a),!1;var t=this.drag_data,n=e._lame_clone(t.ev);if(e!=this.from_scheduler){n.id=e.uid();var o=n.end_date-n.start_date;n.start_date=new Date(e.getState().min_date),n.end_date=new Date(n.start_date.valueOf()+o)}else n.id=this.drag_data.orig_id,n._dhx_changed=!0;return this.drag_data.target_id=n.id,!!e.callEvent("onBeforeEventDragIn",[n.id,n,a])&&(this.to_scheduler=e,this.inject_into_scheduler(n,e,a),this.delete_dnd_holder(),e.updateView(),e.callEvent("onEventDragIn",[n.id,n,a]),!0)},drag_from_scheduler:function(e,a){if(this.drag_data&&e._drag_id&&e.config.drag_out){if(!e.callEvent("onBeforeEventDragOut",[e._drag_id,e._drag_event,a]))return!1;this.to_scheduler==e&&(this.to_scheduler=null),this.create_dnd_holder(this.drag_data.ev,e);var t=e._drag_id;return this.drag_data.target_id=null,delete e._events[t],this.clear_scheduler_dnd(e),e.updateEvent(t),e.callEvent("onEventDragOut",[t,this.drag_data.ev,a]),!0}return!1},reset_event:function(e,a){this.inject_into_scheduler(e,a),this.stop_drag(a),a.updateView()},move_permanently:function(e,a,t,n){n.callEvent("onEventAdded",[a.id,a]),this.inject_into_scheduler(e,t),this.stop_drag(t),e.event_pid&&e.event_pid!="0"?(t.callEvent("onConfirmedBeforeEventDelete",[e.id]),t.updateEvent(a.event_pid)):t.deleteEvent(e.id),t.updateView(),n.updateView()}};let Nn=!1;const go=[];function mo(e){e.attachEvent("onSchedulerReady",function(){(function(a){a.event(document.body,"mousemove",function(t){var n=$a,o=n.target_scheduler;if(o)if(n.from_scheduler){if(!o._drag_id){var i=n.to_scheduler;i&&!n.drag_from_scheduler(i,t)||n.land_into_scheduler(o,t)}}else o.getState().drag_mode=="move"&&o.config.drag_out&&n.start_dnd(o);else n.from_scheduler&&(n.to_scheduler?n.drag_from_scheduler(n.to_scheduler,t):n.move_dnd_holder(t));n.target_scheduler=null}),a.event(document.body,"mouseup",function(t){var n=$a,o=n.from_scheduler,i=n.to_scheduler;if(o)if(i&&o==i)o.updateEvent(n.drag_data.target_id);else if(i&&o!==i){var d=n.drag_data.ev,_=i.getEvent(n.drag_data.target_id);o.callEvent("onEventDropOut",[d.id,d,i,t])?n.move_permanently(d,_,o,i):n.reset_event(d,o)}else d=n.drag_data.ev,o.callEvent("onEventDropOut",[d.id,d,null,t])&&n.reset_event(d,o);n.stop_drag(),n.current_scheduler=n.from_scheduler=n.to_scheduler=null})})(e),Nn=!0},{once:!0}),e.attachEvent("onDestroy",function(){Nn=!1;const a=go.pop();a&&mo(a)},{once:!0})}function il(e){(function(){var a=[];function t(){return!!a.length}function n(_){setTimeout(function(){if(e.$destroyed)return!0;t()||function(r,s){for(;r&&r!=s;)r=r.parentNode;return r==s}(document.activeElement,e.$container)||e.focus()},1)}function o(_){var r=(_=_||window.event).currentTarget;r==a[a.length-1]&&e.$keyboardNavigation.trapFocus(r,_)}if(e.attachEvent("onLightbox",function(){var _;_=e.getLightbox(),e.eventRemove(_,"keydown",o),e.event(_,"keydown",o),a.push(_)}),e.attachEvent("onAfterLightbox",function(){var _=a.pop();_&&e.eventRemove(_,"keydown",o),n()}),e.attachEvent("onAfterQuickInfo",function(){n()}),!e._keyNavMessagePopup){e._keyNavMessagePopup=!0;var i=null,d=null;const _=[];e.attachEvent("onMessagePopup",function(r){for(i=document.activeElement,d=i;d&&e._getClassName(d).indexOf("dhx_cal_data")<0;)d=d.parentNode;d&&(d=d.parentNode),e.eventRemove(r,"keydown",o),e.event(r,"keydown",o),_.push(r)}),e.attachEvent("onAfterMessagePopup",function(){var r=_.pop();r&&e.eventRemove(r,"keydown",o),setTimeout(function(){if(e.$destroyed)return!0;for(var s=document.activeElement;s&&e._getClassName(s).indexOf("dhx_cal_light")<0;)s=s.parentNode;s||(i&&i.parentNode?i.focus():d&&d.parentNode&&d.focus(),i=null,d=null)},1)})}e.$keyboardNavigation.isModal=t})()}function ol(e){e._temp_key_scope=function(){e.config.key_nav=!0,e.$keyboardNavigation._pasteDate=null,e.$keyboardNavigation._pasteSection=null;var a=null,t={};function n(d){d=d||window.event,t.x=d.clientX,t.y=d.clientY}function o(){for(var d,_,r=document.elementFromPoint(t.x,t.y);r&&r!=e._obj;)r=r.parentNode;return d=r==e._obj,_=e.$keyboardNavigation.dispatcher.isEnabled(),d||_}function i(d){return e._lame_copy({},d)}document.body?e.event(document.body,"mousemove",n):e.event(window,"load",function(){e.event(document.body,"mousemove",n)}),e.attachEvent("onMouseMove",function(d,_){var r=e.getState();if(r.mode&&r.min_date){var s=e.getActionData(_);e.$keyboardNavigation._pasteDate=s.date,e.$keyboardNavigation._pasteSection=s.section}}),e._make_pasted_event=function(d){var _=e.$keyboardNavigation._pasteDate,r=e.$keyboardNavigation._pasteSection,s=d.end_date-d.start_date,l=i(d);if(function(v){delete v.rec_type,delete v.rec_pattern,delete v.event_pid,delete v.event_length}(l),l.start_date=new Date(_),l.end_date=new Date(l.start_date.valueOf()+s),r){var h=e._get_section_property();e.config.multisection?l[h]=d[h]:l[h]=r}return l},e._do_paste=function(d,_,r){e.callEvent("onBeforeEventPasted",[d,_,r])!==!1&&(e.addEvent(_),e.callEvent("onEventPasted",[d,_,r]))},e._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},e.event(document,"keydown",function(d){(d.ctrlKey||d.metaKey)&&d.keyCode==86&&e._buffer_event&&!e.$keyboardNavigation.dispatcher.isEnabled()&&(e.$keyboardNavigation.dispatcher.isActive=o())}),e._key_nav_copy_paste=function(d){if(!e._is_key_nav_active())return!0;if(d.keyCode==37||d.keyCode==39){d.cancelBubble=!0;var _=e.date.add(e._date,d.keyCode==37?-1:1,e._mode);return e.setCurrentView(_),!0}var r,s=(r=e.$keyboardNavigation.dispatcher.getActiveNode())&&r.eventId?r.eventId:e._select_id;if((d.ctrlKey||d.metaKey)&&d.keyCode==67)return s&&(e._buffer_event=i(e.getEvent(s)),a=!0,e.callEvent("onEventCopied",[e.getEvent(s)])),!0;if((d.ctrlKey||d.metaKey)&&d.keyCode==88&&s){a=!1;var l=e._buffer_event=i(e.getEvent(s));e.updateEvent(l.id),e.callEvent("onEventCut",[l])}if((d.ctrlKey||d.metaKey)&&d.keyCode==86&&o()){if(l=(l=e._buffer_event?e.getEvent(e._buffer_event.id):e._buffer_event)||e._buffer_event){var h=e._make_pasted_event(l);a?(h.id=e.uid(),e._do_paste(a,h,l)):e.callEvent("onBeforeEventChanged",[h,d,!1,l])&&(e._do_paste(a,h,l),a=!0)}return!0}}},e._temp_key_scope()}function sl(e){e.$keyboardNavigation.attachSchedulerHandlers=function(){var a,t=e.$keyboardNavigation.dispatcher,n=function(r){if(e.config.key_nav)return t.keyDownHandler(r)},o=function(){t.keepScrollPosition(function(){t.focusGlobalNode()})};e.attachEvent("onDataRender",function(){e.config.key_nav&&t.isEnabled()&&!e.getState().editor_id&&(clearTimeout(a),a=setTimeout(function(){if(e.$destroyed)return!0;t.isEnabled()||t.enable(),i()}))});var i=function(){if(t.isEnabled()){var r=t.getActiveNode();r&&(r.isValid()||(r=r.fallback()),!r||r instanceof e.$keyboardNavigation.MinicalButton||r instanceof e.$keyboardNavigation.MinicalCell||t.keepScrollPosition(function(){r.focus(!0)}))}};function d(r){if(!e.config.key_nav)return!0;const s=e.getView();let l=!1;if(e.getState().mode==="month")l=e.$keyboardNavigation.isChildOf(r.target||r.srcElement,e.$container.querySelector(".dhx_cal_month_table"));else if(s&&s.layout==="timeline")l=e.$keyboardNavigation.isChildOf(r.target||r.srcElement,e.$container.querySelector(".dhx_timeline_data_col"));else{const g=e.$container.querySelectorAll(".dhx_scale_holder");l=Array.from(g).some(f=>f===r.target.parentNode)}var h,v=e.getActionData(r);e._locate_event(r.target||r.srcElement)?h=new e.$keyboardNavigation.Event(e._locate_event(r.target||r.srcElement)):l&&(h=new e.$keyboardNavigation.TimeSlot,v.date&&l&&(h=h.nextSlot(new e.$keyboardNavigation.TimeSlot(v.date,null,v.section)))),h&&(t.isEnabled()?v.date&&l&&t.delay(function(){t.setActiveNode(h)}):t.activeNode=h)}e.attachEvent("onSchedulerReady",function(){var r=e.$container;e.eventRemove(document,"keydown",n),e.eventRemove(r,"mousedown",d),e.eventRemove(r,"focus",o),e.config.key_nav?(e.event(document,"keydown",n),e.event(r,"mousedown",d),e.event(r,"focus",o),r.setAttribute("tabindex","0")):r.removeAttribute("tabindex")});var _=e.updateEvent;e.updateEvent=function(r){var s=_.apply(this,arguments);if(e.config.key_nav&&t.isEnabled()&&e.getState().select_id==r){var l=new e.$keyboardNavigation.Event(r);e.getState().lightbox_id||function(h){if(e.config.key_nav&&t.isEnabled()){var v=h,g=new e.$keyboardNavigation.Event(v.eventId);if(!g.isValid()){var f=g.start||v.start,u=g.end||v.end,m=g.section||v.section;(g=new e.$keyboardNavigation.TimeSlot(f,u,m)).isValid()||(g=new e.$keyboardNavigation.TimeSlot)}t.setActiveNode(g);var c=t.getActiveNode();c&&c.getNode&&document.activeElement!=c.getNode()&&t.focusNode(t.getActiveNode())}}(l)}return s},e.attachEvent("onEventDeleted",function(r){return e.config.key_nav&&t.isEnabled()&&t.getActiveNode().eventId==r&&t.setActiveNode(new e.$keyboardNavigation.TimeSlot),!0}),e.attachEvent("onClearAll",function(){if(!e.config.key_nav)return!0;t.isEnabled()&&t.getActiveNode()instanceof e.$keyboardNavigation.Event&&t.setActiveNode(new e.$keyboardNavigation.TimeSlot)})}}function An(e,a,t){return this.catches||(this.catches=[]),this}An.prototype.catchError=function(e,a){this.catches[e]=a},An.prototype.throwError=function(e,a,t){return this.catches[e]?this.catches[e](e,a,t):this.catches.ALL?this.catches.ALL(e,a,t):(global.alert("Error type: "+arguments[0]+`
Description: `+arguments[1]),null)};class dl{constructor(a){this.map=null,this._markers=[],this.scheduler=a}onEventClick(a){if(this._markers&&this._markers.length>0){for(let t=0;t<this._markers.length;t++)if(a.id==this._markers[t].event.id){let n=this.settings.zoom_after_resolve||this.settings.initial_zoom;a.lat&&a.lng?(this.map.setCenter({lat:a.lat,lng:a.lng}),this.map.setZoom(n)):(this.map.setCenter({lat:this.settings.error_position.lat,lng:this.settings.error_position.lng}),this.map.setZoom(n)),google.maps.event.trigger(this._markers[t].marker,"click")}}}initialize(a,t){this.settings=t;let n=this.scheduler,o={center:{lat:t.initial_position.lat,lng:t.initial_position.lng},zoom:t.initial_zoom,mapId:a.id,scrollwheel:!0,mapTypeId:t.type};if(this.map===null)this.map=new google.maps.Map(a,o);else{let i=this.map;a.appendChild(this.map.__gm.messageOverlay),a.appendChild(this.map.__gm.outerContainer),setTimeout(function(){i.setOptions({container:a.id})},500)}google.maps.event.addListener(this.map,"dblclick",function(i){const d=new google.maps.Geocoder;if(!n.config.readonly&&n.config.dblclick_create){let _=i.latLng;d.geocode({latLng:_},function(r,s){s==google.maps.GeocoderStatus.OK?(_=r[0].geometry.location,n.addEventNow({lat:_.lat(),lng:_.lng(),event_location:r[0].formatted_address,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})):console.error("Geocode was not successful for the following reason: "+s)})}})}destroy(a){for(google.maps.event.clearInstanceListeners(window),google.maps.event.clearInstanceListeners(document),google.maps.event.clearInstanceListeners(a);a.firstChild;)a.firstChild.remove();a.innerHTML=""}async addEventMarker(a){let t={title:a.text,position:{},map:{}};a.lat&&a.lng?t.position={lat:a.lat,lng:a.lng}:t.position={lat:this.settings.error_position.lat,lng:this.settings.error_position.lng};const{AdvancedMarkerElement:n}=await google.maps.importLibrary("marker");let o;this.scheduler.ext.mapView.createMarker?(t.map=this.map,o=this.scheduler.ext.mapView.createMarker(t)):(o=new n(t),o.map=this.map),o.setMap(this.map),a["!nativeeditor_status"]=="true_deleted"&&o.setMap(null),google.maps.event.addListener(o,"click",()=>{this.infoWindow&&this.infoWindow.close(),this.infoWindow=new google.maps.InfoWindow({maxWidth:this.settings.info_window_max_width}),this.infoWindow.setContent(this.scheduler.templates.map_info_content(a)),this.infoWindow.open({anchor:o,map:this.map})});let i={event:a,...t,marker:o};this._markers.push(i)}removeEventMarker(a){for(let t=0;t<this._markers.length;t++)a==this._markers[t].event.id&&(this._markers[t].marker.setVisible(!1),this._markers[t].marker.setMap(null),this._markers[t].marker.setPosition(null),this._markers[t].marker=null,this._markers.splice(t,1),t--)}updateEventMarker(a){for(let t=0;t<this._markers.length;t++)if(this._markers[t].event.id==a.id){this._markers[t].event=a,this._markers[t].position.lat=a.lat,this._markers[t].position.lng=a.lng,this._markers[t].text=a.text;let n=new google.maps.LatLng(a.lat,a.lng);this._markers[t].marker.setPosition(n)}}clearEventMarkers(){if(this._markers.length>0){for(let a=0;a<this._markers.length;a++)this._markers[a].marker.setMap(null);this._markers=[]}}setView(a,t,n){this.map.setCenter({lat:a,lng:t}),this.map.setZoom(n)}async resolveAddress(a){const t=new google.maps.Geocoder;return await new Promise(n=>{t.geocode({address:a},function(o,i){i==google.maps.GeocoderStatus.OK?n({lat:o[0].geometry.location.lat(),lng:o[0].geometry.location.lng()}):(console.error("Geocode was not successful for the following reason: "+i),n({}))})})}}class _l{constructor(a){this.map=null,this._markers=[],this.scheduler=a}onEventClick(a){if(this._markers&&this._markers.length>0)for(let t=0;t<this._markers.length;t++)a.id==this._markers[t].event.id&&(this._markers[t].marker.openPopup(),this._markers[t].marker.closeTooltip(),a.lat&&a.lng?this.setView(a.lat,a.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom):this.setView(this.settings.error_position.lat,this.settings.error_position.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom))}initialize(a,t){let n=this.scheduler,o=document.createElement("div");o.className="mapWrapper",o.id="mapWrapper",o.style.width=a.style.width,o.style.height=a.style.height,a.appendChild(o);let i=L.map(o,{center:L.latLng(t.initial_position.lat,t.initial_position.lng),zoom:t.initial_zoom,keyboard:!1});L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(i),i.on("dblclick",async function(d){let _=await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${d.latlng.lat}&lon=${d.latlng.lng}&format=json`,{method:"GET",headers:{"Accept-Language":"en"}}).then(r=>r.json());if(_.address){let r=_.address.country;n.addEventNow({lat:d.latlng.lat,lng:d.latlng.lng,event_location:r,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})}else console.error("unable recieve a position of the event",_.error)}),this.map=i,this.settings=t}destroy(a){for(this.map.remove();a.firstChild;)a.firstChild.remove();a.innerHTML=""}addEventMarker(a){const t=L.icon({iconUrl:"https://unpkg.com/leaflet@1.0.3/dist/images/marker-icon.png",iconSize:[25,41],shadowSize:[30,65],iconAnchor:[12,41],shadowAnchor:[7,65]});let n={minWidth:180,maxWidth:this.settings.info_window_max_width};const o=L.popup(n).setContent(this.scheduler.templates.map_info_content(a)),i=L.tooltip().setContent(a.text);let d=[a.lat,a.lng];a.lat&&a.lng||(d=[this.settings.error_position.lat,this.settings.error_position.lng]);const _={event:a,marker:L.marker(d,{icon:t}).bindPopup(o).bindTooltip(i).addTo(this.map)};this._markers.push(_)}removeEventMarker(a){for(let t=0;t<this._markers.length;t++)a==this._markers[t].event.id&&(this.map.removeLayer(this._markers[t].marker),this._markers.splice(t,1),t--)}updateEventMarker(a){for(let t=0;t<this._markers.length;t++)this._markers[t].event.id==a.id&&(this._markers[t].event=a,a.lat&&a.lng?this._markers[t].marker.setLatLng([a.lat,a.lng]):this._markers[t].marker.setLatLng([this.settings.error_position.lat,this.settings.error_position.lng]))}clearEventMarkers(){if(this._markers){for(let a=0;a<this._markers.length;a++)this.map.removeLayer(this._markers[a].marker);this._markers=[]}}setView(a,t,n){this.map.setView([a,t],n)}async resolveAddress(a){let t={},n=await fetch(`https://nominatim.openstreetmap.org/search?q=${a}&format=json`,{method:"GET",headers:{"Accept-Language":"en"}}).then(o=>o.json());return n&&n.length?(t.lat=+n[0].lat,t.lng=+n[0].lon):console.error(`Unable recieve a position of the event's location: ${a}`),t}}class ll{constructor(a){this.map=null,this._markers=[],this.scheduler=a}onEventClick(a){if(this._markers&&this._markers.length>0)for(let t=0;t<this._markers.length;t++){const n=this._markers[t].marker.getPopup();n.isOpen()&&n.remove(),a.id==this._markers[t].event.id&&(this._markers[t].marker.togglePopup(),a.lat&&a.lng?this.setView(a.lat,a.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom):this.setView(this.settings.error_position.lat,this.settings.error_position.lng,this.settings.zoom_after_resolve||this.settings.initial_zoom))}}initialize(a,t){let n=this.scheduler;mapboxgl.accessToken=t.accessToken;const o=new mapboxgl.Map({container:a,center:[t.initial_position.lng,t.initial_position.lat],zoom:t.initial_zoom+1});o.on("dblclick",async function(i){let d=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${i.lngLat.lng},${i.lngLat.lat}.json?access_token=${t.accessToken}`).then(_=>_.json());if(d.features){let _=d.features[0].place_name;n.addEventNow({lat:i.lngLat.lat,lng:i.lngLat.lng,event_location:_,start_date:n.getState().date,end_date:n.date.add(n.getState().date,n.config.time_step,"minute")})}else console.error("unable recieve a position of the event")}),this.map=o,this.settings=t}destroy(a){for(this.map.remove();a.firstChild;)a.firstChild.remove();a.innerHTML=""}addEventMarker(a){let t=[a.lng,a.lat];a.lat&&a.lng||(t=[this.settings.error_position.lng,this.settings.error_position.lat]);const n=new mapboxgl.Popup({offset:25,focusAfterOpen:!1}).setMaxWidth(`${this.settings.info_window_max_width}px`).setHTML(this.scheduler.templates.map_info_content(a)),o={event:a,marker:new mapboxgl.Marker().setLngLat(t).setPopup(n).addTo(this.map)};this._markers.push(o)}removeEventMarker(a){for(let t=0;t<this._markers.length;t++)a==this._markers[t].event.id&&(this._markers[t].marker.remove(),this._markers.splice(t,1),t--)}updateEventMarker(a){for(let t=0;t<this._markers.length;t++)this._markers[t].event.id==a.id&&(this._markers[t].event=a,a.lat&&a.lng?this._markers[t].marker.setLngLat([a.lng,a.lat]):this._markers[t].marker.setLngLat([this.settings.error_position.lng,this.settings.error_position.lat]))}clearEventMarkers(){for(let a=0;a<this._markers.length;a++)this._markers[a].marker.remove();this._markers=[]}setView(a,t,n){this.map.setCenter([t,a]),this.map.setZoom(n)}async resolveAddress(a){let t=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${a}.json?access_token=${this.settings.accessToken}`).then(o=>o.json()),n={};return t&&t.features.length?(n.lng=t.features[0].center[0],n.lat=t.features[0].center[1]):console.error(`Unable recieve a position of the event's location: ${a}`),n}}var On=["MO","TU","WE","TH","FR","SA","SU"],qe=function(){function e(a,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=a,this.n=t}return e.fromStr=function(a){return new e(On.indexOf(a))},e.prototype.nth=function(a){return this.n===a?this:new e(this.weekday,a)},e.prototype.equals=function(a){return this.weekday===a.weekday&&this.n===a.n},e.prototype.toString=function(){var a=On[this.weekday];return this.n&&(a=(this.n>0?"+":"")+String(this.n)+a),a},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}(),Ee=function(e){return e!=null},st=function(e){return typeof e=="number"},Xr=function(e){return typeof e=="string"&&On.includes(e)},Je=Array.isArray,ut=function(e,a){a===void 0&&(a=e),arguments.length===1&&(a=e,e=0);for(var t=[],n=e;n<a;n++)t.push(n);return t},le=function(e,a){var t=0,n=[];if(Je(e))for(;t<a;t++)n[t]=[].concat(e);else for(;t<a;t++)n[t]=e;return n};function qt(e,a,t){t===void 0&&(t=" ");var n=String(e);return a>>=0,n.length>a?String(n):((a-=n.length)>t.length&&(t+=le(t,a/t.length)),t.slice(0,a)+String(n))}var cl=function(e,a,t){var n=e.split(a);return n.slice(0,t).concat([n.slice(t).join(a)])},Xe=function(e,a){var t=e%a;return t*a<0?t+a:t},hn=function(e,a){return{div:Math.floor(e/a),mod:Xe(e,a)}},_t=function(e){return!Ee(e)||e.length===0},Ce=function(e){return!_t(e)},pe=function(e,a){return Ce(e)&&e.indexOf(a)!==-1},$t=function(e,a,t,n,o,i){return n===void 0&&(n=0),o===void 0&&(o=0),i===void 0&&(i=0),new Date(Date.UTC(e,a-1,t,n,o,i))},hl=[31,28,31,30,31,30,31,31,30,31,30,31],vo=864e5,yo=9999,bo=$t(1970,1,1),ul=[6,0,1,2,3,4,5],ta=function(e){return e%4==0&&e%100!=0||e%400==0},xo=function(e){return e instanceof Date},aa=function(e){return xo(e)&&!isNaN(e.getTime())},Ln=function(e){return a=bo,t=e.getTime()-a.getTime(),Math.round(t/vo);var a,t},wo=function(e){return new Date(bo.getTime()+e*vo)},fl=function(e){var a=e.getUTCMonth();return a===1&&ta(e.getUTCFullYear())?29:hl[a]},Bt=function(e){return ul[e.getUTCDay()]},Gr=function(e,a){var t=$t(e,a+1,1);return[Bt(t),fl(t)]},ko=function(e,a){return a=a||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))},Hn=function(e){return new Date(e.getTime())},Zr=function(e){for(var a=[],t=0;t<e.length;t++)a.push(Hn(e[t]));return a},ga=function(e){e.sort(function(a,t){return a.getTime()-t.getTime()})},dr=function(e,a){a===void 0&&(a=!0);var t=new Date(e);return[qt(t.getUTCFullYear().toString(),4,"0"),qt(t.getUTCMonth()+1,2,"0"),qt(t.getUTCDate(),2,"0"),"T",qt(t.getUTCHours(),2,"0"),qt(t.getUTCMinutes(),2,"0"),qt(t.getUTCSeconds(),2,"0"),a?"Z":""].join("")},_r=function(e){var a=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/.exec(e);if(!a)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[5],10)||0,parseInt(a[6],10)||0,parseInt(a[7],10)||0))},Qr=function(e,a){return e.toLocaleString("sv-SE",{timeZone:a}).replace(" ","T")+"Z"},Vt=function(){function e(a,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=a,this.args=t,a==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):a==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):a==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return e.prototype.accept=function(a){++this.total;var t=this.minDate&&a<this.minDate,n=this.maxDate&&a>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return!!t||(this.add(a),!1);return this.add(a)},e.prototype.add=function(a){return this._result.push(a),!0},e.prototype.getValue=function(){var a=this._result;switch(this.method){case"all":case"between":return a;default:return a.length?a[a.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),$n=function(e,a){return $n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},$n(e,a)};function lr(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function t(){this.constructor=e}$n(e,a),e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var o in a=arguments[t])Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e},Ke.apply(this,arguments)};function K(e,a,t){for(var n,o=0,i=a.length;o<i;o++)!n&&o in a||(n||(n=Array.prototype.slice.call(a,0,o)),n[o]=a[o]);return e.concat(n||Array.prototype.slice.call(a))}var ce,ei=function(e){function a(t,n,o){var i=e.call(this,t,n)||this;return i.iterator=o,i}return lr(a,e),a.prototype.add=function(t){return!!this.iterator(t,this._result.length)&&(this._result.push(t),!0)},a}(Vt),za={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},ti=function(e,a){return e.indexOf(a)!==-1},pl=function(e){return e.toString()},gl=function(e,a,t){return"".concat(a," ").concat(t,", ").concat(e)},mt=function(){function e(a,t,n,o){if(t===void 0&&(t=pl),n===void 0&&(n=za),o===void 0&&(o=gl),this.text=[],this.language=n||za,this.gettext=t,this.dateFormatter=o,this.rrule=a,this.options=a.options,this.origOptions=a.origOptions,this.origOptions.bymonthday){var i=[].concat(this.options.bymonthday),d=[].concat(this.options.bynmonthday);i.sort(function(l,h){return l-h}),d.sort(function(l,h){return h-l}),this.bymonthday=i.concat(d),this.bymonthday.length||(this.bymonthday=null)}if(Ee(this.origOptions.byweekday)){var _=Je(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],r=String(_);this.byweekday={allWeeks:_.filter(function(l){return!l.n}),someWeeks:_.filter(function(l){return!!l.n}),isWeekdays:r.indexOf("MO")!==-1&&r.indexOf("TU")!==-1&&r.indexOf("WE")!==-1&&r.indexOf("TH")!==-1&&r.indexOf("FR")!==-1&&r.indexOf("SA")===-1&&r.indexOf("SU")===-1,isEveryDay:r.indexOf("MO")!==-1&&r.indexOf("TU")!==-1&&r.indexOf("WE")!==-1&&r.indexOf("TH")!==-1&&r.indexOf("FR")!==-1&&r.indexOf("SA")!==-1&&r.indexOf("SU")!==-1};var s=function(l,h){return l.weekday-h.weekday};this.byweekday.allWeeks.sort(s),this.byweekday.someWeeks.sort(s),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(a){if(!(a.options.freq in e.IMPLEMENTED)||a.origOptions.until&&a.origOptions.count)return!1;for(var t in a.origOptions){if(ti(["dtstart","tzid","wkst","freq"],t))return!0;if(!ti(e.IMPLEMENTED[a.options.freq],t))return!1}return!0},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var a=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return a("RRule error: Unable to fully convert this rrule to text");if(this.text=[a("every")],this[B.FREQUENCIES[this.options.freq]](),this.options.until){this.add(a("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(a("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?a("times"):a("time"));return this.isFullyConvertible()||this.add(a("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var a=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?a("hours"):a("hour"))},e.prototype.MINUTELY=function(){var a=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?a("minutes"):a("minute"))},e.prototype.DAILY=function(){var a=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?a("weekdays"):a("weekday")):this.add(this.plural(this.options.interval)?a("days"):a("day")),this.origOptions.bymonth&&(this.add(a("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var a=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?a("weeks"):a("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?a("weekdays"):a("weekday")):this.add(a("on")).add(a("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?a("days"):a("day")):(this.options.interval===1&&this.add(a("week")),this.origOptions.bymonth&&(this.add(a("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var a=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(a("months")),this.plural(this.options.interval)&&this.add(a("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?a("months"):a("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(a("on")).add(a("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var a=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(a("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?a("years"):a("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(a("on the")).add(this.list(this.options.byyearday,this.nth,a("and"))).add(a("day")),this.options.byweekno&&this.add(a("in")).add(this.plural(this.options.byweekno.length)?a("weeks"):a("week")).add(this.list(this.options.byweekno,void 0,a("and")))},e.prototype._bymonthday=function(){var a=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(a("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,a("or"))).add(a("the")).add(this.list(this.bymonthday,this.nth,a("or"))):this.add(a("on the")).add(this.list(this.bymonthday,this.nth,a("and")))},e.prototype._byweekday=function(){var a=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(a("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(a("and")),this.add(a("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,a("and"))))},e.prototype._byhour=function(){var a=this.gettext;this.add(a("at")).add(this.list(this.origOptions.byhour,void 0,a("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(a){var t;a=parseInt(a.toString(),10);var n=this.gettext;if(a===-1)return n("last");var o=Math.abs(a);switch(o){case 1:case 21:case 31:t=o+n("st");break;case 2:case 22:t=o+n("nd");break;case 3:case 23:t=o+n("rd");break;default:t=o+n("th")}return a<0?t+" "+n("last"):t},e.prototype.monthtext=function(a){return this.language.monthNames[a-1]},e.prototype.weekdaytext=function(a){var t=st(a)?(a+1)%7:a.getJsWeekday();return(a.n?this.nth(a.n)+" ":"")+this.language.dayNames[t]},e.prototype.plural=function(a){return a%100!=1},e.prototype.add=function(a){return this.text.push(" "),this.text.push(a),this},e.prototype.list=function(a,t,n,o){var i=this;o===void 0&&(o=","),Je(a)||(a=[a]),t=t||function(_){return _.toString()};var d=function(_){return t&&t.call(i,_)};return n?function(_,r,s){for(var l="",h=0;h<_.length;h++)h!==0&&(h===_.length-1?l+=" "+s+" ":l+=r+" "),l+=_[h];return l}(a.map(d),o,n):a.map(d).join(o+" ")},e}(),ml=function(){function e(a){this.done=!0,this.rules=a}return e.prototype.start=function(a){return this.text=a,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var a,t;this.symbol=null,this.value=null;do{if(this.done)return!1;for(var n in a=null,this.rules){var o=this.rules[n].exec(this.text);o&&(a===null||o[0].length>a[0].length)&&(a=o,t=n)}if(a!=null&&(this.text=this.text.substr(a[0].length),this.text===""&&(this.done=!0)),a==null)return this.done=!0,this.symbol=null,void(this.value=null)}while(t==="SKIP");return this.symbol=t,this.value=a,!0},e.prototype.accept=function(a){if(this.symbol===a){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(a){if(this.accept(a))return!0;throw new Error("expected "+a+" but found "+this.symbol)},e}();function Eo(e,a){a===void 0&&(a=za);var t={},n=new ml(a.tokens);return n.start(e)?(function(){n.expect("every");var l=n.acceptNumber();if(l&&(t.interval=parseInt(l[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=B.DAILY,n.nextSymbol()&&(i(),s());break;case"weekday(s)":t.freq=B.WEEKLY,t.byweekday=[B.MO,B.TU,B.WE,B.TH,B.FR],n.nextSymbol(),i(),s();break;case"week(s)":t.freq=B.WEEKLY,n.nextSymbol()&&(o(),i(),s());break;case"hour(s)":t.freq=B.HOURLY,n.nextSymbol()&&(o(),s());break;case"minute(s)":t.freq=B.MINUTELY,n.nextSymbol()&&(o(),s());break;case"month(s)":t.freq=B.MONTHLY,n.nextSymbol()&&(o(),s());break;case"year(s)":t.freq=B.YEARLY,n.nextSymbol()&&(o(),s());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=B.WEEKLY;var h=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[B[h]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var v=_();if(!v)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(B[v]),n.nextSymbol()}i(),function(){n.accept("on"),n.accept("the");var f=r();if(f)for(t.bymonthday=[f],n.nextSymbol();n.accept("comma");){if(!(f=r()))throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(f),n.nextSymbol()}}(),s();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=B.YEARLY,t.bymonth=[d()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var g=d();if(!g)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(g),n.nextSymbol()}o(),s();break;default:throw new Error("Unknown symbol")}}(),t):null;function o(){var l=n.accept("on"),h=n.accept("the");if(l||h)do{var v=r(),g=_(),f=d();if(v)g?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(B[g].nth(v))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(v),n.accept("day(s)"));else if(g)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(B[g]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[B.MO,B.TU,B.WE,B.TH,B.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var u=n.acceptNumber();if(!u)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(u[0],10)];n.accept("comma");){if(!(u=n.acceptNumber()))throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(u[0],10))}}else{if(!f)return;n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(f)}}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function i(){if(n.accept("at"))do{var l=n.acceptNumber();if(!l)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(l[0],10)];n.accept("comma");){if(!(l=n.acceptNumber()))throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(l[0],10))}}while(n.accept("comma")||n.accept("at"))}function d(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function _(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function r(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var l=parseInt(n.value[1],10);if(l<-366||l>366)throw new Error("Nth out of range: "+l);return n.nextSymbol(),n.accept("last")?-l:l;default:return!1}}function s(){if(n.symbol==="until"){var l=Date.parse(n.text);if(!l)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(l)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}function un(e){return e<ce.HOURLY}(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(ce||(ce={}));var vl=function(e,a){return a===void 0&&(a=za),new B(Eo(e,a)||void 0)},jt=["count","until","interval","byweekday","bymonthday","bymonth"];mt.IMPLEMENTED=[],mt.IMPLEMENTED[ce.HOURLY]=jt,mt.IMPLEMENTED[ce.MINUTELY]=jt,mt.IMPLEMENTED[ce.DAILY]=["byhour"].concat(jt),mt.IMPLEMENTED[ce.WEEKLY]=jt,mt.IMPLEMENTED[ce.MONTHLY]=jt,mt.IMPLEMENTED[ce.YEARLY]=["byweekno","byyearday"].concat(jt);var yl=mt.isFullyConvertible,Pa=function(){function e(a,t,n,o){this.hour=a,this.minute=t,this.second=n,this.millisecond=o||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return 1e3*(60*this.hour*60+60*this.minute+this.second)+this.millisecond},e}(),bl=function(e){function a(t,n,o,i,d,_,r){var s=e.call(this,i,d,_,r)||this;return s.year=t,s.month=n,s.day=o,s}return lr(a,e),a.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},a.prototype.getWeekday=function(){return Bt(new Date(this.getTime()))},a.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},a.prototype.getDay=function(){return this.day},a.prototype.getMonth=function(){return this.month},a.prototype.getYear=function(){return this.year},a.prototype.addYears=function(t){this.year+=t},a.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),o=Xe(this.month,12);this.month=o,this.year+=n,this.month===0&&(this.month=12,--this.year)}},a.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+7*t:this.day+=-(this.getWeekday()-n)+7*t,this.fixDay()},a.prototype.addDaily=function(t){this.day+=t,this.fixDay()},a.prototype.addHours=function(t,n,o){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var i=hn(this.hour,24),d=i.div,_=i.mod;if(d&&(this.hour=_,this.addDaily(d)),_t(o)||pe(o,this.hour))break}},a.prototype.addMinutes=function(t,n,o,i){for(n&&(this.minute+=Math.floor((1439-(60*this.hour+this.minute))/t)*t);;){this.minute+=t;var d=hn(this.minute,60),_=d.div,r=d.mod;if(_&&(this.minute=r,this.addHours(_,!1,o)),(_t(o)||pe(o,this.hour))&&(_t(i)||pe(i,this.minute)))break}},a.prototype.addSeconds=function(t,n,o,i,d){for(n&&(this.second+=Math.floor((86399-(3600*this.hour+60*this.minute+this.second))/t)*t);;){this.second+=t;var _=hn(this.second,60),r=_.div,s=_.mod;if(r&&(this.second=s,this.addMinutes(r,!1,o,i)),(_t(o)||pe(o,this.hour))&&(_t(i)||pe(i,this.minute))&&(_t(d)||pe(d,this.second)))break}},a.prototype.fixDay=function(){if(!(this.day<=28)){var t=Gr(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>yo))return;t=Gr(this.year,this.month-1)[1]}}},a.prototype.add=function(t,n){var o=t.freq,i=t.interval,d=t.wkst,_=t.byhour,r=t.byminute,s=t.bysecond;switch(o){case ce.YEARLY:return this.addYears(i);case ce.MONTHLY:return this.addMonths(i);case ce.WEEKLY:return this.addWeekly(i,d);case ce.DAILY:return this.addDaily(i);case ce.HOURLY:return this.addHours(i,n,_);case ce.MINUTELY:return this.addMinutes(i,n,_,r);case ce.SECONDLY:return this.addSeconds(i,n,_,r,s)}},a}(Pa);function So(e){for(var a=[],t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];pe(Fl,o)||a.push(o),xo(e[o])&&!aa(e[o])&&a.push(o)}if(a.length)throw new Error("Invalid options: "+a.join(", "));return Ke({},e)}function xl(e){var a=Ke(Ke({},cr),So(e));if(Ee(a.byeaster)&&(a.freq=B.YEARLY),!Ee(a.freq)||!B.FREQUENCIES[a.freq])throw new Error("Invalid frequency: ".concat(a.freq," ").concat(e.freq));if(a.dtstart||(a.dtstart=new Date(new Date().setMilliseconds(0))),Ee(a.wkst)?st(a.wkst)||(a.wkst=a.wkst.weekday):a.wkst=B.MO.weekday,Ee(a.bysetpos)){st(a.bysetpos)&&(a.bysetpos=[a.bysetpos]);for(var t=0;t<a.bysetpos.length;t++)if((i=a.bysetpos[t])===0||!(i>=-366&&i<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}if(!(a.byweekno||Ce(a.byweekno)||Ce(a.byyearday)||a.bymonthday||Ce(a.bymonthday)||Ee(a.byweekday)||Ee(a.byeaster)))switch(a.freq){case B.YEARLY:a.bymonth||(a.bymonth=a.dtstart.getUTCMonth()+1),a.bymonthday=a.dtstart.getUTCDate();break;case B.MONTHLY:a.bymonthday=a.dtstart.getUTCDate();break;case B.WEEKLY:a.byweekday=[Bt(a.dtstart)]}if(Ee(a.bymonth)&&!Je(a.bymonth)&&(a.bymonth=[a.bymonth]),Ee(a.byyearday)&&!Je(a.byyearday)&&st(a.byyearday)&&(a.byyearday=[a.byyearday]),Ee(a.bymonthday))if(Je(a.bymonthday)){var n=[],o=[];for(t=0;t<a.bymonthday.length;t++){var i;(i=a.bymonthday[t])>0?n.push(i):i<0&&o.push(i)}a.bymonthday=n,a.bynmonthday=o}else a.bymonthday<0?(a.bynmonthday=[a.bymonthday],a.bymonthday=[]):(a.bynmonthday=[],a.bymonthday=[a.bymonthday]);else a.bymonthday=[],a.bynmonthday=[];if(Ee(a.byweekno)&&!Je(a.byweekno)&&(a.byweekno=[a.byweekno]),Ee(a.byweekday))if(st(a.byweekday))a.byweekday=[a.byweekday],a.bynweekday=null;else if(Xr(a.byweekday))a.byweekday=[qe.fromStr(a.byweekday).weekday],a.bynweekday=null;else if(a.byweekday instanceof qe)!a.byweekday.n||a.freq>B.MONTHLY?(a.byweekday=[a.byweekday.weekday],a.bynweekday=null):(a.bynweekday=[[a.byweekday.weekday,a.byweekday.n]],a.byweekday=null);else{var d=[],_=[];for(t=0;t<a.byweekday.length;t++){var r=a.byweekday[t];st(r)?d.push(r):Xr(r)?d.push(qe.fromStr(r).weekday):!r.n||a.freq>B.MONTHLY?d.push(r.weekday):_.push([r.weekday,r.n])}a.byweekday=Ce(d)?d:null,a.bynweekday=Ce(_)?_:null}else a.bynweekday=null;return Ee(a.byhour)?st(a.byhour)&&(a.byhour=[a.byhour]):a.byhour=a.freq<B.HOURLY?[a.dtstart.getUTCHours()]:null,Ee(a.byminute)?st(a.byminute)&&(a.byminute=[a.byminute]):a.byminute=a.freq<B.MINUTELY?[a.dtstart.getUTCMinutes()]:null,Ee(a.bysecond)?st(a.bysecond)&&(a.bysecond=[a.bysecond]):a.bysecond=a.freq<B.SECONDLY?[a.dtstart.getUTCSeconds()]:null,{parsedOptions:a}}function zn(e){var a=e.split(`
`).map(wl).filter(function(t){return t!==null});return Ke(Ke({},a[0]),a[1])}function Ra(e){var a={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!t)return a;var n=t[1],o=t[2];return n&&(a.tzid=n),a.dtstart=_r(o),a}function wl(e){if(!(e=e.replace(/^\s+|\s+$/,"")).length)return null;var a=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!a)return ai(e);var t=a[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return ai(e);case"DTSTART":return Ra(e);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(e))}}function ai(e){var a=Ra(e.replace(/^RRULE:/i,""));return e.replace(/^(?:RRULE|EXRULE):/i,"").split(";").forEach(function(t){var n=t.split("="),o=n[0],i=n[1];switch(o.toUpperCase()){case"FREQ":a.freq=ce[i.toUpperCase()];break;case"WKST":a.wkst=Ze[i.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var d=function(s){return s.indexOf(",")!==-1?s.split(",").map(ni):ni(s)}(i),_=o.toLowerCase();a[_]=d;break;case"BYWEEKDAY":case"BYDAY":a.byweekday=function(s){var l=s.split(",");return l.map(function(h){if(h.length===2)return Ze[h];var v=h.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!v||v.length<3)throw new SyntaxError("Invalid weekday string: ".concat(h));var g=Number(v[1]),f=v[2],u=Ze[f].weekday;return new qe(u,g)})}(i);break;case"DTSTART":case"TZID":var r=Ra(e);a.tzid=r.tzid,a.dtstart=r.dtstart;break;case"UNTIL":a.until=_r(i);break;case"BYEASTER":a.byeaster=Number(i);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),a}function ni(e){return/^[+-]?\d+$/.test(e)?Number(e):e}var qa=function(){function e(a,t){if(isNaN(a.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=a,this.tzid=t}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var a=dr(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(a):";TZID=".concat(this.tzid,":").concat(a)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:(a=this.date,t=this.tzid,n=Intl.DateTimeFormat().resolvedOptions().timeZone,o=new Date(Qr(a,n)),i=new Date(Qr(a,t??"UTC")).getTime()-o.getTime(),new Date(a.getTime()-i));var a,t,n,o,i},e}();function Pn(e){for(var a,t=[],n="",o=Object.keys(e),i=Object.keys(cr),d=0;d<o.length;d++)if(o[d]!=="tzid"&&pe(i,o[d])){var _=o[d].toUpperCase(),r=e[o[d]],s="";if(Ee(r)&&(!Je(r)||r.length)){switch(_){case"FREQ":s=B.FREQUENCIES[e.freq];break;case"WKST":s=st(r)?new qe(r).toString():r.toString();break;case"BYWEEKDAY":_="BYDAY",s=(a=r,Je(a)?a:[a]).map(function(f){return f instanceof qe?f:Je(f)?new qe(f[0],f[1]):new qe(f)}).toString();break;case"DTSTART":n=kl(r,e.tzid);break;case"UNTIL":s=dr(r,!e.tzid);break;default:if(Je(r)){for(var l=[],h=0;h<r.length;h++)l[h]=String(r[h]);s=l.toString()}else s=String(r)}s&&t.push([_,s])}}var v=t.map(function(f){var u=f[0],m=f[1];return"".concat(u,"=").concat(m.toString())}).join(";"),g="";return v!==""&&(g="RRULE:".concat(v)),[n,g].filter(function(f){return!!f}).join(`
`)}function kl(e,a){return e?"DTSTART"+new qa(new Date(e),a).toString():""}function El(e,a){return Array.isArray(e)?!!Array.isArray(a)&&e.length===a.length&&e.every(function(t,n){return t.getTime()===a[n].getTime()}):e instanceof Date?a instanceof Date&&e.getTime()===a.getTime():e===a}var Sl=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(a,t,n){t&&(t=t instanceof Date?Hn(t):Zr(t)),a==="all"?this.all=t:(n._value=t,this[a].push(n))},e.prototype._cacheGet=function(a,t){var n=!1,o=t?Object.keys(t):[],i=function(l){for(var h=0;h<o.length;h++){var v=o[h];if(!El(t[v],l[v]))return!0}return!1},d=this[a];if(a==="all")n=this.all;else if(Je(d))for(var _=0;_<d.length;_++){var r=d[_];if(!o.length||!i(r)){n=r._value;break}}if(!n&&this.all){var s=new Vt(a,t);for(_=0;_<this.all.length&&s.accept(this.all[_]);_++);n=s.getValue(),this._cacheAdd(a,n,t)}return Je(n)?Zr(n):n instanceof Date?Hn(n):n},e}(),Dl=K(K(K(K(K(K(K(K(K(K(K(K(K([],le(1,31),!0),le(2,28),!0),le(3,31),!0),le(4,30),!0),le(5,31),!0),le(6,30),!0),le(7,31),!0),le(8,31),!0),le(9,30),!0),le(10,31),!0),le(11,30),!0),le(12,31),!0),le(1,7)),Ml=K(K(K(K(K(K(K(K(K(K(K(K(K([],le(1,31),!0),le(2,29),!0),le(3,31),!0),le(4,30),!0),le(5,31),!0),le(6,30),!0),le(7,31),!0),le(8,31),!0),le(9,30),!0),le(10,31),!0),le(11,30),!0),le(12,31),!0),le(1,7)),Cl=ut(1,29),Tl=ut(1,30),Mt=ut(1,31),Le=ut(1,32),Nl=K(K(K(K(K(K(K(K(K(K(K(K(K([],Le,!0),Tl,!0),Le,!0),Mt,!0),Le,!0),Mt,!0),Le,!0),Le,!0),Mt,!0),Le,!0),Mt,!0),Le,!0),Le.slice(0,7)),Al=K(K(K(K(K(K(K(K(K(K(K(K(K([],Le,!0),Cl,!0),Le,!0),Mt,!0),Le,!0),Mt,!0),Le,!0),Le,!0),Mt,!0),Le,!0),Mt,!0),Le,!0),Le.slice(0,7)),Ol=ut(-28,0),Ll=ut(-29,0),Ct=ut(-30,0),He=ut(-31,0),Hl=K(K(K(K(K(K(K(K(K(K(K(K(K([],He,!0),Ll,!0),He,!0),Ct,!0),He,!0),Ct,!0),He,!0),He,!0),Ct,!0),He,!0),Ct,!0),He,!0),He.slice(0,7)),$l=K(K(K(K(K(K(K(K(K(K(K(K(K([],He,!0),Ol,!0),He,!0),Ct,!0),He,!0),Ct,!0),He,!0),He,!0),Ct,!0),He,!0),Ct,!0),He,!0),He.slice(0,7)),zl=[0,31,60,91,121,152,182,213,244,274,305,335,366],Pl=[0,31,59,90,120,151,181,212,243,273,304,334,365],ri=function(){for(var e=[],a=0;a<55;a++)e=e.concat(ut(7));return e}();function Rl(e,a){var t,n,o=$t(e,1,1),i=ta(e)?366:365,d=ta(e+1)?366:365,_=Ln(o),r=Bt(o),s=Ke(Ke({yearlen:i,nextyearlen:d,yearordinal:_,yearweekday:r},function(w){var E=ta(w)?366:365,S=$t(w,1,1),D=Bt(S);return E===365?{mmask:Dl,mdaymask:Al,nmdaymask:$l,wdaymask:ri.slice(D),mrange:Pl}:{mmask:Ml,mdaymask:Nl,nmdaymask:Hl,wdaymask:ri.slice(D),mrange:zl}}(e)),{wnomask:null});if(_t(a.byweekno))return s;s.wnomask=le(0,i+7);var l=t=Xe(7-r+a.wkst,7);l>=4?(l=0,n=s.yearlen+Xe(r-a.wkst,7)):n=i-l;for(var h=Math.floor(n/7),v=Xe(n,7),g=Math.floor(h+v/4),f=0;f<a.byweekno.length;f++){var u=a.byweekno[f];if(u<0&&(u+=g+1),u>0&&u<=g){var m=void 0;u>1?(m=l+7*(u-1),l!==t&&(m-=7-t)):m=l;for(var c=0;c<7&&(s.wnomask[m]=1,m++,s.wdaymask[m]!==a.wkst);c++);}}if(pe(a.byweekno,1)&&(m=l+7*g,l!==t&&(m-=7-t),m<i))for(f=0;f<7&&(s.wnomask[m]=1,m+=1,s.wdaymask[m]!==a.wkst);f++);if(l){var p=void 0;if(pe(a.byweekno,-1))p=-1;else{var y=Bt($t(e-1,1,1)),b=Xe(7-y.valueOf()+a.wkst,7),x=ta(e-1)?366:365,k=void 0;b>=4?(b=0,k=x+Xe(y-a.wkst,7)):k=i-l,p=Math.floor(52+Xe(k,7)/4)}if(pe(a.byweekno,p))for(m=0;m<l;m++)s.wnomask[m]=1}return s}var ql=function(){function e(a){this.options=a}return e.prototype.rebuild=function(a,t){var n=this.options;if(a!==this.lastyear&&(this.yearinfo=Rl(a,n)),Ce(n.bynweekday)&&(t!==this.lastmonth||a!==this.lastyear)){var o=this.yearinfo,i=o.yearlen,d=o.mrange,_=o.wdaymask;this.monthinfo=function(r,s,l,h,v,g){var f={lastyear:r,lastmonth:s,nwdaymask:[]},u=[];if(g.freq===B.YEARLY)if(_t(g.bymonth))u=[[0,l]];else for(var m=0;m<g.bymonth.length;m++)s=g.bymonth[m],u.push(h.slice(s-1,s+1));else g.freq===B.MONTHLY&&(u=[h.slice(s-1,s+1)]);if(_t(u))return f;for(f.nwdaymask=le(0,l),m=0;m<u.length;m++)for(var c=u[m],p=c[0],y=c[1]-1,b=0;b<g.bynweekday.length;b++){var x=void 0,k=g.bynweekday[b],w=k[0],E=k[1];E<0?(x=y+7*(E+1),x-=Xe(v[x]-w,7)):(x=p+7*(E-1),x+=Xe(7-v[x]+w,7)),p<=x&&x<=y&&(f.nwdaymask[x]=1)}return f}(a,t,i,d,_,n)}Ee(n.byeaster)&&(this.eastermask=function(r,s){s===void 0&&(s=0);var l=r%19,h=Math.floor(r/100),v=r%100,g=Math.floor(h/4),f=h%4,u=Math.floor((h+8)/25),m=Math.floor((h-u+1)/3),c=Math.floor(19*l+h-g-m+15)%30,p=Math.floor(v/4),y=v%4,b=Math.floor(32+2*f+2*p-c-y)%7,x=Math.floor((l+11*c+22*b)/451),k=Math.floor((c+b-7*x+114)/31),w=(c+b-7*x+114)%31+1,E=Date.UTC(r,k-1,w+s),S=Date.UTC(r,0,1);return[Math.ceil((E-S)/864e5)]}(a,n.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[ut(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(a,t){for(var n=this.mrange[t-1],o=this.mrange[t],i=le(null,this.yearlen),d=n;d<o;d++)i[d]=d;return[i,n,o]},e.prototype.wdayset=function(a,t,n){for(var o=le(null,this.yearlen+7),i=Ln($t(a,t,n))-this.yearordinal,d=i,_=0;_<7&&(o[i]=i,++i,this.wdaymask[i]!==this.options.wkst);_++);return[o,d,i]},e.prototype.ddayset=function(a,t,n){var o=le(null,this.yearlen),i=Ln($t(a,t,n))-this.yearordinal;return o[i]=i,[o,i,i+1]},e.prototype.htimeset=function(a,t,n,o){var i=this,d=[];return this.options.byminute.forEach(function(_){d=d.concat(i.mtimeset(a,_,n,o))}),ga(d),d},e.prototype.mtimeset=function(a,t,n,o){var i=this.options.bysecond.map(function(d){return new Pa(a,t,d,o)});return ga(i),i},e.prototype.stimeset=function(a,t,n,o){return[new Pa(a,t,n,o)]},e.prototype.getdayset=function(a){switch(a){case ce.YEARLY:return this.ydayset.bind(this);case ce.MONTHLY:return this.mdayset.bind(this);case ce.WEEKLY:return this.wdayset.bind(this);case ce.DAILY:default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(a){switch(a){case ce.HOURLY:return this.htimeset.bind(this);case ce.MINUTELY:return this.mtimeset.bind(this);case ce.SECONDLY:return this.stimeset.bind(this)}},e}();function jl(e,a,t,n,o,i){for(var d=[],_=0;_<e.length;_++){var r=void 0,s=void 0,l=e[_];l<0?(r=Math.floor(l/a.length),s=Xe(l,a.length)):(r=Math.floor((l-1)/a.length),s=Xe(l-1,a.length));for(var h=[],v=t;v<n;v++){var g=i[v];Ee(g)&&h.push(g)}var f=void 0;f=r<0?h.slice(r)[0]:h[r];var u=a[s],m=wo(o.yearordinal+f),c=ko(m,u);pe(d,c)||d.push(c)}return ga(d),d}function Do(e,a){var t=a.dtstart,n=a.freq,o=a.interval,i=a.until,d=a.bysetpos,_=a.count;if(_===0||o===0)return Qt(e);var r=bl.fromDate(t),s=new ql(a);s.rebuild(r.year,r.month);for(var l=function(E,S,D){var M=D.freq,T=D.byhour,A=D.byminute,O=D.bysecond;return un(M)?function($){var q=$.dtstart.getTime()%1e3;if(!un($.freq))return[];var z=[];return $.byhour.forEach(function(P){$.byminute.forEach(function(W){$.bysecond.forEach(function(X){z.push(new Pa(P,W,X,q))})})}),z}(D):M>=B.HOURLY&&Ce(T)&&!pe(T,S.hour)||M>=B.MINUTELY&&Ce(A)&&!pe(A,S.minute)||M>=B.SECONDLY&&Ce(O)&&!pe(O,S.second)?[]:E.gettimeset(M)(S.hour,S.minute,S.second,S.millisecond)}(s,r,a);;){var h=s.getdayset(n)(r.year,r.month,r.day),v=h[0],g=h[1],f=h[2],u=Vl(v,g,f,s,a);if(Ce(d))for(var m=jl(d,l,g,f,s,v),c=0;c<m.length;c++){var p=m[c];if(i&&p>i)return Qt(e);if(p>=t){var y=ii(p,a);if(!e.accept(y)||_&&!--_)return Qt(e)}}else for(c=g;c<f;c++){var b=v[c];if(Ee(b))for(var x=wo(s.yearordinal+b),k=0;k<l.length;k++){var w=l[k];if(p=ko(x,w),i&&p>i||p>=t&&(y=ii(p,a),!e.accept(y)||_&&!--_))return Qt(e)}}if(a.interval===0||(r.add(a,u),r.year>yo))return Qt(e);un(n)||(l=s.gettimeset(n)(r.hour,r.minute,r.second,0)),s.rebuild(r.year,r.month)}}function Il(e,a,t){var n=t.bymonth,o=t.byweekno,i=t.byweekday,d=t.byeaster,_=t.bymonthday,r=t.bynmonthday,s=t.byyearday;return Ce(n)&&!pe(n,e.mmask[a])||Ce(o)&&!e.wnomask[a]||Ce(i)&&!pe(i,e.wdaymask[a])||Ce(e.nwdaymask)&&!e.nwdaymask[a]||d!==null&&!pe(e.eastermask,a)||(Ce(_)||Ce(r))&&!pe(_,e.mdaymask[a])&&!pe(r,e.nmdaymask[a])||Ce(s)&&(a<e.yearlen&&!pe(s,a+1)&&!pe(s,-e.yearlen+a)||a>=e.yearlen&&!pe(s,a+1-e.yearlen)&&!pe(s,-e.nextyearlen+a-e.yearlen))}function ii(e,a){return new qa(e,a.tzid).rezonedDate()}function Qt(e){return e.getValue()}function Vl(e,a,t,n,o){for(var i=!1,d=a;d<t;d++){var _=e[d];(i=Il(n,_,o))&&(e[_]=null)}return i}var Ze={MO:new qe(0),TU:new qe(1),WE:new qe(2),TH:new qe(3),FR:new qe(4),SA:new qe(5),SU:new qe(6)},cr={freq:ce.YEARLY,dtstart:null,interval:1,wkst:Ze.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Fl=Object.keys(cr),B=function(){function e(a,t){a===void 0&&(a={}),t===void 0&&(t=!1),this._cache=t?null:new Sl,this.origOptions=So(a);var n=xl(a).parsedOptions;this.options=n}return e.parseText=function(a,t){return Eo(a,t)},e.fromText=function(a,t){return vl(a,t)},e.fromString=function(a){return new e(e.parseString(a)||void 0)},e.prototype._iter=function(a){return Do(a,this.options)},e.prototype._cacheGet=function(a,t){return!!this._cache&&this._cache._cacheGet(a,t)},e.prototype._cacheAdd=function(a,t,n){if(this._cache)return this._cache._cacheAdd(a,t,n)},e.prototype.all=function(a){if(a)return this._iter(new ei("all",{},a));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new Vt("all",{})),this._cacheAdd("all",t)),t},e.prototype.between=function(a,t,n,o){if(n===void 0&&(n=!1),!aa(a)||!aa(t))throw new Error("Invalid date passed in to RRule.between");var i={before:t,after:a,inc:n};if(o)return this._iter(new ei("between",i,o));var d=this._cacheGet("between",i);return d===!1&&(d=this._iter(new Vt("between",i)),this._cacheAdd("between",d,i)),d},e.prototype.before=function(a,t){if(t===void 0&&(t=!1),!aa(a))throw new Error("Invalid date passed in to RRule.before");var n={dt:a,inc:t},o=this._cacheGet("before",n);return o===!1&&(o=this._iter(new Vt("before",n)),this._cacheAdd("before",o,n)),o},e.prototype.after=function(a,t){if(t===void 0&&(t=!1),!aa(a))throw new Error("Invalid date passed in to RRule.after");var n={dt:a,inc:t},o=this._cacheGet("after",n);return o===!1&&(o=this._iter(new Vt("after",n)),this._cacheAdd("after",o,n)),o},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return Pn(this.origOptions)},e.prototype.toText=function(a,t,n){return function(o,i,d,_){return new mt(o,i,d,_).toString()}(this,a,t,n)},e.prototype.isFullyConvertibleToText=function(){return yl(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=ce.YEARLY,e.MONTHLY=ce.MONTHLY,e.WEEKLY=ce.WEEKLY,e.DAILY=ce.DAILY,e.HOURLY=ce.HOURLY,e.MINUTELY=ce.MINUTELY,e.SECONDLY=ce.SECONDLY,e.MO=Ze.MO,e.TU=Ze.TU,e.WE=Ze.WE,e.TH=Ze.TH,e.FR=Ze.FR,e.SA=Ze.SA,e.SU=Ze.SU,e.parseString=zn,e.optionsToString=Pn,e}(),oi={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function Ul(e,a){var t=[],n=[],o=[],i=[],d=Ra(e),_=d.dtstart,r=d.tzid,s=function(l,h){if(h===void 0&&(h=!1),l=l&&l.trim(),!l)throw new Error("Invalid empty string");if(!h)return l.split(/\s/);for(var v=l.split(`
`),g=0;g<v.length;){var f=v[g]=v[g].replace(/\s+$/g,"");f?g>0&&f[0]===" "?(v[g-1]+=f.slice(1),v.splice(g,1)):g+=1:v.splice(g,1)}return v}(e,a.unfold);return s.forEach(function(l){var h;if(l){var v=function(c){var p=function(k){if(k.indexOf(":")===-1)return{name:"RRULE",value:k};var w=cl(k,":",1),E=w[0],S=w[1];return{name:E,value:S}}(c),y=p.name,b=p.value,x=y.split(";");if(!x)throw new Error("empty property name");return{name:x[0].toUpperCase(),parms:x.slice(1),value:b}}(l),g=v.name,f=v.parms,u=v.value;switch(g.toUpperCase()){case"RRULE":if(f.length)throw new Error("unsupported RRULE parm: ".concat(f.join(",")));t.push(zn(l));break;case"RDATE":var m=((h=/RDATE(?:;TZID=([^:=]+))?/i.exec(l))!==null&&h!==void 0?h:[])[1];m&&!r&&(r=m),n=n.concat(si(u,f));break;case"EXRULE":if(f.length)throw new Error("unsupported EXRULE parm: ".concat(f.join(",")));o.push(zn(u));break;case"EXDATE":i=i.concat(si(u,f));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:_,tzid:r,rrulevals:t,rdatevals:n,exrulevals:o,exdatevals:i}}function ja(e,a){return a===void 0&&(a={}),function(t,n){var o=Ul(t,n),i=o.rrulevals,d=o.rdatevals,_=o.exrulevals,r=o.exdatevals,s=o.dtstart,l=o.tzid,h=n.cache===!1;if(n.compatible&&(n.forceset=!0,n.unfold=!0),n.forceset||i.length>1||d.length||_.length||r.length){var v=new Yl(h);return v.dtstart(s),v.tzid(l||void 0),i.forEach(function(f){v.rrule(new B(fn(f,s,l),h))}),d.forEach(function(f){v.rdate(f)}),_.forEach(function(f){v.exrule(new B(fn(f,s,l),h))}),r.forEach(function(f){v.exdate(f)}),n.compatible&&n.dtstart&&v.rdate(s),v}var g=i[0]||{};return new B(fn(g,g.dtstart||n.dtstart||s,g.tzid||n.tzid||l),h)}(e,function(t){var n=[],o=Object.keys(t),i=Object.keys(oi);if(o.forEach(function(d){pe(i,d)||n.push(d)}),n.length)throw new Error("Invalid options: "+n.join(", "));return Ke(Ke({},oi),t)}(a))}function fn(e,a,t){return Ke(Ke({},e),{dtstart:a,tzid:t})}function si(e,a){return function(t){t.forEach(function(n){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(n))throw new Error("unsupported RDATE/EXDATE parm: "+n)})}(a),e.split(",").map(function(t){return _r(t)})}function di(e){var a=this;return function(t){if(t!==void 0&&(a["_".concat(e)]=t),a["_".concat(e)]!==void 0)return a["_".concat(e)];for(var n=0;n<a._rrule.length;n++){var o=a._rrule[n].origOptions[e];if(o)return o}}}var Yl=function(e){function a(t){t===void 0&&(t=!1);var n=e.call(this,{},t)||this;return n.dtstart=di.apply(n,["dtstart"]),n.tzid=di.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return lr(a,e),a.prototype._iter=function(t){return function(n,o,i,d,_,r){var s={},l=n.accept;function h(u,m){i.forEach(function(c){c.between(u,m,!0).forEach(function(p){s[Number(p)]=!0})})}_.forEach(function(u){var m=new qa(u,r).rezonedDate();s[Number(m)]=!0}),n.accept=function(u){var m=Number(u);return isNaN(m)?l.call(this,u):!(!s[m]&&(h(new Date(m-1),new Date(m+1)),!s[m]))||(s[m]=!0,l.call(this,u))},n.method==="between"&&(h(n.args.after,n.args.before),n.accept=function(u){var m=Number(u);return!!s[m]||(s[m]=!0,l.call(this,u))});for(var v=0;v<d.length;v++){var g=new qa(d[v],r).rezonedDate();if(!n.accept(new Date(g.getTime())))break}o.forEach(function(u){Do(n,u.options)});var f=n._result;switch(ga(f),n.method){case"all":case"between":return f;case"before":return f.length&&f[f.length-1]||null;default:return f.length&&f[0]||null}}(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},a.prototype.rrule=function(t){_i(t,this._rrule)},a.prototype.exrule=function(t){_i(t,this._exrule)},a.prototype.rdate=function(t){li(t,this._rdate)},a.prototype.exdate=function(t){li(t,this._exdate)},a.prototype.rrules=function(){return this._rrule.map(function(t){return ja(t.toString())})},a.prototype.exrules=function(){return this._exrule.map(function(t){return ja(t.toString())})},a.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},a.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},a.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Pn({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(o){return o.replace(/^RRULE:/,"EXRULE:")}).filter(function(o){return!/^DTSTART/.test(o)}))}),this._rdate.length&&t.push(ci("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(ci("EXDATE",this._exdate,this.tzid())),t},a.prototype.toString=function(){return this.valueOf().join(`
`)},a.prototype.clone=function(){var t=new a(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},a}(B);function _i(e,a){if(!(e instanceof B))throw new TypeError(String(e)+" is not RRule instance");pe(a.map(String),String(e))||a.push(e)}function li(e,a){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");pe(a.map(Number),Number(e))||(a.push(e),ga(a))}function ci(e,a,t){var n=!t||t.toUpperCase()==="UTC",o=n?"".concat(e,":"):"".concat(e,";TZID=").concat(t,":"),i=a.map(function(d){return dr(d.valueOf(),n)}).join(",");return"".concat(o).concat(i)}function Bl(e){let a=null,t=null;function n(d){a&&clearInterval(a);const _=e.matrix[e._mode];if(!_)return;e._schedulerOuter=e.$container.querySelector(".dhx_timeline_data_wrapper"),_.scrollable||(e._schedulerOuter=e.$container.querySelector(".dhx_cal_data"));const r={pageX:d.touches?d.touches[0].pageX:d.pageX,pageY:d.touches?d.touches[0].pageY:d.pageY};a=setInterval(function(){(function(s){if(!e.getState().drag_id)return clearInterval(a),void(t=null);const l=e.matrix[e._mode];if(!l)return;const h=e._schedulerOuter,v=function(b,x){const k=e.matrix[e._mode],w={},E={};let S=x;for(w.x=b.touches?b.touches[0].pageX:b.pageX,w.y=b.touches?b.touches[0].pageY:b.pageY,E.left=S.offsetLeft+k.dx,E.top=S.offsetTop;S;)E.left+=S.offsetLeft,E.top+=S.offsetTop,S=S.offsetParent;return{x:w.x-E.left,y:w.y-E.top}}(s,h),g=h.offsetWidth-l.dx,f=h.offsetHeight,u=v.x,m=v.y;let c=l.autoscroll||{};c===!0&&(c={}),e._merge(c,{range_x:200,range_y:100,speed_x:20,speed_y:10});let p=o(u,g,t?t.x:0,c.range_x);l.scrollable||(p=0);let y=o(m,f,t?t.y:0,c.range_y);!y&&!p||t||(t={x:u,y:m},p=0,y=0),p*=c.speed_x,y*=c.speed_y,p&&y&&(Math.abs(p/5)>Math.abs(y)?y=0:Math.abs(y/5)>Math.abs(p)&&(p=0)),p||y?(t.started=!0,function(b,x){const k=e._schedulerOuter;x&&(k.scrollTop+=x),b&&(k.scrollLeft+=b)}(p,y)):clearInterval(a)})(r)},10)}function o(d,_,r,s){return d<s&&(!t||t.started||d<r)?-1:_-d<s&&(!t||t.started||d>r)?1:0}e.attachEvent("onDestroy",function(){clearInterval(a)});var i=e.attachEvent("onSchedulerReady",function(){e.matrix&&(e.event(document.body,"mousemove",n),e.detachEvent(i))})}const Wl=function(){var e,a={minMax:"[0;max]",maxMin:"[max;0]",nMaxMin:"[-max;0]"};function t(){var i=a.minMax,d=function(){var _=document.createElement("div");_.style.cssText="direction: rtl;overflow: auto;width:100px;height: 100px;position:absolute;top: -100500px;left: -100500px;";var r=document.createElement("div");return r.style.cssText="width: 100500px;height: 1px;",_.appendChild(r),_}();return document.body.appendChild(d),d.scrollLeft>0?i=a.minMax:(d.scrollLeft=-50,i=d.scrollLeft===-50?a.nMaxMin:a.maxMin),document.body.removeChild(d),i}function n(i,d){var _=o();return _===a.nMaxMin?i?-i:0:_===a.minMax?d-i:i}function o(){return e||(e=t()),e}return{modes:a,getMode:o,normalizeValue:n,getScrollValue:function(i){var d=getComputedStyle(i).direction;if(d&&d!=="ltr"){var _=i.scrollWidth-i.offsetWidth;return n(i.scrollLeft,_)}return i.scrollLeft},setScrollValue:function(i,d){var _=getComputedStyle(i).direction;if(_&&_!=="ltr"){var r=n(d,i.scrollWidth-i.offsetWidth);i.scrollLeft=r}else i.scrollLeft=d}}};class Jl{constructor(a){this._scheduler=a}getNode(){const a=this._scheduler;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="dhtmlXTooltip scheduler_tooltip tooltip",a._waiAria.tooltipAttr(this._tooltipNode)),a.config.rtl?this._tooltipNode.classList.add("dhtmlXTooltip_rtl"):this._tooltipNode.classList.remove("dhtmlXTooltip_rtl"),this._tooltipNode}setViewport(a){return this._root=a,this}show(a,t){const n=this._scheduler,o=n.$domHelpers,i=document.body,d=this.getNode();if(o.isChildOf(d,i)||(this.hide(),i.appendChild(d)),this._isLikeMouseEvent(a)){const _=this._calculateTooltipPosition(a);t=_.top,a=_.left}return d.style.top=t+"px",d.style.left=a+"px",n._waiAria.tooltipVisibleAttr(d),this}hide(){const a=this._scheduler,t=this.getNode();return t&&t.parentNode&&t.parentNode.removeChild(t),a._waiAria.tooltipHiddenAttr(t),this}setContent(a){return this.getNode().innerHTML=a,this}_isLikeMouseEvent(a){return!(!a||typeof a!="object")&&"clientX"in a&&"clientY"in a}_getViewPort(){return this._root||document.body}_calculateTooltipPosition(a){const t=this._scheduler,n=t.$domHelpers,o=this._getViewPortSize(),i=this.getNode(),d={top:0,left:0,width:i.offsetWidth,height:i.offsetHeight,bottom:0,right:0},_=t.config.tooltip_offset_x,r=t.config.tooltip_offset_y,s=document.body,l=n.getRelativeEventPosition(a,s),h=n.getNodePosition(s);l.y+=h.y,d.top=l.y,d.left=l.x,d.top+=r,d.left+=_,d.bottom=d.top+d.height,d.right=d.left+d.width;const v=window.scrollY+s.scrollTop;return d.top<o.top-v?(d.top=o.top,d.bottom=d.top+d.height):d.bottom>o.bottom&&(d.bottom=o.bottom,d.top=d.bottom-d.height),d.left<o.left?(d.left=o.left,d.right=o.left+d.width):d.right>o.right&&(d.right=o.right,d.left=d.right-d.width),l.x>=d.left&&l.x<=d.right&&(d.left=l.x-d.width-_,d.right=d.left+d.width),l.y>=d.top&&l.y<=d.bottom&&(d.top=l.y-d.height-r,d.bottom=d.top+d.height),d}_getViewPortSize(){const a=this._scheduler,t=a.$domHelpers,n=this._getViewPort();let o,i=n,d=window.scrollY+document.body.scrollTop,_=window.scrollX+document.body.scrollLeft;return n===a.$event_data?(i=a.$event,d=0,_=0,o=t.getNodePosition(a.$event)):o=t.getNodePosition(i),{left:o.x+_,top:o.y+d,width:o.width,height:o.height,bottom:o.y+o.height+d,right:o.x+o.width+_}}}class Kl{constructor(a){this._listeners={},this.tooltip=new Jl(a),this._scheduler=a,this._domEvents=a._createDomEventScope(),this._initDelayedFunctions()}destructor(){this.tooltip.hide(),this._domEvents.detachAll()}hideTooltip(){this.delayHide()}attach(a){let t=document.body;const n=this._scheduler,o=n.$domHelpers;a.global||(t=n.$root);let i=null;const d=_=>{const r=o.getTargetNode(_),s=o.closest(r,a.selector);if(o.isChildOf(r,this.tooltip.getNode()))return;const l=()=>{i=s,a.onmouseenter(_,s)};n._mobile&&n.config.touch_tooltip&&(s?l():a.onmouseleave(_,s)),i?s&&s===i?a.onmousemove(_,s):(a.onmouseleave(_,i),i=null,s&&s!==i&&l()):s&&l()};this.detach(a.selector),this._domEvents.attach(t,"mousemove",d),this._listeners[a.selector]={node:t,handler:d}}detach(a){const t=this._listeners[a];t&&this._domEvents.detach(t.node,"mousemove",t.handler)}tooltipFor(a){const t=n=>{let o=n;return document.createEventObject&&!document.createEvent&&(o=document.createEventObject(n)),o};this._initDelayedFunctions(),this.attach({selector:a.selector,global:a.global,onmouseenter:(n,o)=>{const i=a.html(n,o);i&&this.delayShow(t(n),i)},onmousemove:(n,o)=>{const i=a.html(n,o);i?this.delayShow(t(n),i):(this.delayShow.$cancelTimeout(),this.delayHide())},onmouseleave:()=>{this.delayShow.$cancelTimeout(),this.delayHide()}})}_initDelayedFunctions(){const a=this._scheduler;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=Qe.delay((t,n)=>{a.callEvent("onBeforeTooltip",[t])===!1?this.tooltip.hide():(this.tooltip.setContent(n),this.tooltip.show(t))},a.config.tooltip_timeout||1),this.delayHide=Qe.delay(()=>{this.delayShow.$cancelTimeout(),this.tooltip.hide()},a.config.tooltip_hide_timeout||1)}}const Xl={active_links:function(e){e.config.active_link_view="day",e._active_link_click=function(a){var t=a.target.getAttribute("data-link-date"),n=e.date.str_to_date(e.config.api_date,!1,!0);if(t)return e.setCurrentView(n(t),e.config.active_link_view),a&&a.preventDefault&&a.preventDefault(),!1},e.attachEvent("onTemplatesReady",function(){var a=function(n,o){o=o||n+"_scale_date",e.templates["_active_links_old_"+o]||(e.templates["_active_links_old_"+o]=e.templates[o]);var i=e.templates["_active_links_old_"+o],d=e.date.date_to_str(e.config.api_date);e.templates[o]=function(_){return"<a data-link-date='"+d(_)+"' href='#'>"+i(_)+"</a>"}};if(a("week"),a("","month_day"),this.matrix)for(var t in this.matrix)a(t);this._detachDomEvent(this._obj,"click",e._active_link_click),e.event(this._obj,"click",e._active_link_click)})},agenda_legacy:function(e){e.date.add_agenda_legacy=function(a){return e.date.add(a,1,"year")},e.templates.agenda_legacy_time=function(a,t,n){return n._timed?this.day_date(n.start_date,n.end_date,n)+" "+this.event_date(a):e.templates.day_date(a)+" &ndash; "+e.templates.day_date(t)},e.templates.agenda_legacy_text=function(a,t,n){return n.text},e.templates.agenda_legacy_date=function(){return""},e.date.agenda_legacy_start=function(){return e.date.date_part(e._currentDate())},e.attachEvent("onTemplatesReady",function(){var a=e.dblclick_dhx_cal_data;e.dblclick_dhx_cal_data=function(){if(this._mode=="agenda_legacy")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(a)return a.apply(this,arguments)};var t=e.render_data;e.render_data=function(i){if(this._mode!="agenda_legacy")return t.apply(this,arguments);o()};var n=e.render_view_data;function o(){var i=e.get_visible_events();i.sort(function(c,p){return c.start_date>p.start_date?1:-1});for(var d,_="<div class='dhx_agenda_area' "+e._waiAria.agendaDataAttrString()+">",r=0;r<i.length;r++){var s=i[r],l=s.color?"--dhx-scheduler-event-background:"+s.color+";":"",h=s.textColor?"--dhx-scheduler-event-color:"+s.textColor+";":"",v=e.templates.event_class(s.start_date,s.end_date,s);d=e._waiAria.agendaEventAttrString(s);var g=e._waiAria.agendaDetailsBtnString();_+="<div "+d+" class='dhx_agenda_line"+(v?" "+v:"")+"' event_id='"+s.id+"' "+e.config.event_attribute+"='"+s.id+"' style='"+h+l+(s._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(e.config.rtl?e.templates.agenda_time(s.end_date,s.start_date,s):e.templates.agenda_time(s.start_date,s.end_date,s))+"</div>",_+=`<div ${g} class='dhx_event_icon icon_details'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z" fill="#A1A4A6"/>
			</svg></div>`,_+="<span>"+e.templates.agenda_text(s.start_date,s.end_date,s)+"</span></div>"}_+="<div class='dhx_v_border'></div></div>",e._els.dhx_cal_data[0].innerHTML=_,e._els.dhx_cal_data[0].childNodes[0].scrollTop=e._agendaScrollTop||0;var f=e._els.dhx_cal_data[0].childNodes[0];f.childNodes[f.childNodes.length-1].style.height=f.offsetHeight<e._els.dhx_cal_data[0].offsetHeight?"100%":f.offsetHeight+"px";var u=e._els.dhx_cal_data[0].firstChild.childNodes,m=e._getNavDateElement();for(m&&(m.innerHTML=e.templates.agenda_date(e._min_date,e._max_date,e._mode)),e._rendered=[],r=0;r<u.length-1;r++)e._rendered[r]=u[r]}e.render_view_data=function(){return this._mode=="agenda_legacy"&&(e._agendaScrollTop=e._els.dhx_cal_data[0].childNodes[0].scrollTop,e._els.dhx_cal_data[0].childNodes[0].scrollTop=0),n.apply(this,arguments)},e.agenda_legacy_view=function(i){e._min_date=e.config.agenda_start||e.date.agenda_legacy_start(e._date),e._max_date=e.config.agenda_end||e.date.add_agenda_legacy(e._min_date,1),function(d){if(d){var _=e.locale.labels,r=e._waiAria.agendaHeadAttrString(),s=e._waiAria.agendaHeadDateString(_.date),l=e._waiAria.agendaHeadDescriptionString(_.description);e._els.dhx_cal_header[0].innerHTML="<div "+r+" class='dhx_agenda_line dhx_agenda_line_header'><div "+s+">"+_.date+"</div><span class = 'description_header' style='padding-left:25px' "+l+">"+_.description+"</span></div>",e._table_view=!0,e.set_sizes()}}(i),i?(e._cols=null,e._colsS=null,e._table_view=!0,o()):e._table_view=!1}})},agenda_view:function(e){e.date.add_agenda=function(o,i){return e.date.add(o,1*i,"month")},e.templates.agenda_time=function(o,i,d){return d._timed?`${this.event_date(o)} - ${this.event_date(i)}`:e.locale.labels.full_day},e.templates.agenda_text=function(o,i,d){return d.text};const a=e.date.date_to_str("%F %j"),t=e.date.date_to_str("%l");e.templates.agenda_day=function(o){return`<div class="dhx_agenda_day_date">${a(o)}</div>
		<div class="dhx_agenda_day_dow">${t(o)}</div>`},e.templates.agenda_date=function(o,i){return e.templates.month_date(e.getState().date)},e.date.agenda_start=function(o){return e.date.month_start(new Date(o))};let n=0;e.attachEvent("onTemplatesReady",function(){var o=e.dblclick_dhx_cal_data;e.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(o)return o.apply(this,arguments)};var i=e.render_data;e.render_data=function(s){if(this._mode!="agenda")return i.apply(this,arguments);_()};var d=e.render_view_data;function _(){const s=e.get_visible_events();s.sort(function(m,c){return m.start_date>c.start_date?1:-1});const l={};let h=e.getState().min_date;const v=e.getState().max_date;for(;h.valueOf()<v.valueOf();)l[h.valueOf()]=[],h=e.date.add(h,1,"day");let g=!1;if(s.forEach(m=>{let c=e.date.day_start(new Date(m.start_date));for(;c.valueOf()<m.end_date.valueOf();)l[c.valueOf()]&&(l[c.valueOf()].push(m),g=!0),c=e.date.day_start(e.date.add(c,1,"day"))}),g){let m="";for(let c in l)m+=r(new Date(1*c),l[c]);e._els.dhx_cal_data[0].innerHTML=m}else e._els.dhx_cal_data[0].innerHTML=`<div class="dhx_cal_agenda_no_events">${e.locale.labels.agenda_tab}</div>`;e._els.dhx_cal_data[0].scrollTop=n;let f=e._els.dhx_cal_data[0].querySelectorAll(".dhx_cal_agenda_event_line");e._rendered=[];for(var u=0;u<f.length-1;u++)e._rendered[u]=f[u]}function r(s,l){if(!l.length)return"";let h=`
<div class="dhx_cal_agenda_day">
	<div class="dhx_cal_agenda_day_header">${e.templates.agenda_day(s)}</div>
	<div class="dhx_cal_agenda_day_events">
`;return l.forEach(v=>{h+=function(g,f){const u=e.templates.agenda_time(f.start_date,f.end_date,f),m=e.getState().select_id,c=e.templates.event_class(f.start_date,f.end_date,f),p=e.templates.agenda_text(f.start_date,f.end_date,f);let y="";return(f.color||f.textColor)&&(y=` style="${f.color?"--dhx-scheduler-event-background:"+f.color+";":""}${f.textColor?"--dhx-scheduler-event-color:"+f.textColor+";":""}" `),`<div class="dhx_cal_agenda_event_line ${c||""} ${f.id==m?"dhx_cal_agenda_event_line_selected":""}" ${y} ${e.config.event_attribute}="${f.id}">
	<div class="dhx_cal_agenda_event_line_marker"></div>
	<div class="dhx_cal_agenda_event_line_time">${u}</div>
	<div class="dhx_cal_agenda_event_line_text">${p}</div>
</div>`}(0,v)}),h+="</div></div>",h}e.render_view_data=function(){return this._mode=="agenda"&&(n=e._els.dhx_cal_data[0].scrollTop,e._els.dhx_cal_data[0].scrollTop=0),d.apply(this,arguments)},e.agenda_view=function(s){s?(e._min_date=e.config.agenda_start||e.date.agenda_start(e._date),e._max_date=e.config.agenda_end||e.date.add_agenda(e._min_date,1),e._cols=null,e._colsS=null,e._table_view=!0,e._getNavDateElement().innerHTML=e.templates.agenda_date(e._date),_()):e._table_view=!1}})},all_timed:function(e){e.config.all_timed="short",e.config.all_timed_month=!1;var a=function(_){return!((_.end_date-_.start_date)/36e5>=24)||e._drag_mode=="resize"&&e._drag_id==_.id};e._safe_copy=function(_){var r=null,s=e._copy_event(_);return _.event_pid&&(r=e.getEvent(_.event_pid)),r&&r.isPrototypeOf(_)&&(delete s.event_length,delete s.event_pid,delete s.rec_pattern,delete s.rec_type),s};var t=e._pre_render_events_line,n=e._pre_render_events_table,o=function(_,r){return this._table_view?n.call(this,_,r):t.call(this,_,r)};e._pre_render_events_line=e._pre_render_events_table=function(_,r){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return o.call(this,_,r);for(var s=0;s<_.length;s++){var l=_[s];if(!l._timed)if(this.config.all_timed!="short"||a(l)){var h=this._safe_copy(l);l._virtual?h._first_chunk=!1:h._first_chunk=!0,h._drag_resize=!1,h._virtual=!0,h.start_date=new Date(h.start_date),u(l)?(h.end_date=m(h.start_date),this.config.last_hour!=24&&(h.end_date=c(h.start_date,this.config.last_hour))):h.end_date=new Date(l.end_date);var v=!1;h.start_date<this._max_date&&h.end_date>this._min_date&&h.start_date<h.end_date&&(_[s]=h,v=!0);var g=this._safe_copy(l);if(g._virtual=!0,g.end_date=new Date(g.end_date),g.start_date<this._min_date?g.start_date=c(this._min_date,this.config.first_hour):g.start_date=c(m(l.start_date),this.config.first_hour),g.start_date<this._max_date&&g.start_date<g.end_date){if(!v){_[s--]=g;continue}_.splice(s+1,0,g),g._last_chunk=!1}else h._last_chunk=!0,h._drag_resize=!0}else this._mode!="month"&&_.splice(s--,1)}var f=this._drag_mode!="move"&&r;return o.call(this,_,f);function u(p){var y=m(p.start_date);return+p.end_date>+y}function m(p){var y=e.date.add(p,1,"day");return y=e.date.date_part(y)}function c(p,y){var b=e.date.date_part(new Date(p));return b.setHours(y),b}};var i=e.get_visible_events;e.get_visible_events=function(_){return this.config.all_timed&&this.config.multi_day?i.call(this,!1):i.call(this,_)},e.attachEvent("onBeforeViewChange",function(_,r,s,l){return e._allow_dnd=s=="day"||s=="week"||e.getView(s),!0}),e._is_main_area_event=function(_){return!!(_._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&a(_))};var d=e.updateEvent;e.updateEvent=function(_){var r,s,l=e.getEvent(_);l&&(r=e.config.all_timed&&!(e.isOneDayEvent(e._events[_])||e.getState().drag_id))&&(s=e.config.update_render,e.config.update_render=!0),d.apply(e,arguments),l&&r&&(e.config.update_render=s)}},collision:function(e){var a,t;function n(o){e._get_section_view()&&o&&(a=e.getEvent(o)[e._get_section_property()])}e.config.collision_limit=1,e.attachEvent("onBeforeDrag",function(o){return n(o),!0}),e.attachEvent("onBeforeLightbox",function(o){var i=e.getEvent(o);return t=[i.start_date,i.end_date],n(o),!0}),e.attachEvent("onEventChanged",function(o){if(!o||!e.getEvent(o))return!0;var i=e.getEvent(o);if(!e.checkCollision(i)){if(!t)return!1;i.start_date=t[0],i.end_date=t[1],i._timed=this.isOneDayEvent(i)}return!0}),e.attachEvent("onBeforeEventChanged",function(o,i,d){return e.checkCollision(o)}),e.attachEvent("onEventAdded",function(o,i){e.checkCollision(i)||e.deleteEvent(o)}),e.attachEvent("onEventSave",function(o,i,d){if((i=e._lame_clone(i)).id=o,!i.start_date||!i.end_date){var _=e.getEvent(o);i.start_date=new Date(_.start_date),i.end_date=new Date(_.end_date)}return i.rec_type&&e._roll_back_dates(i),e.checkCollision(i)}),e._check_sections_collision=function(o,i){var d=e._get_section_property();return o[d]==i[d]&&o.id!=i.id},e.checkCollision=function(o){var i=[],d=e.config.collision_limit;if(o.rec_type)for(var _=e.getRecDates(o),r=0;r<_.length;r++)for(var s=e.getEvents(_[r].start_date,_[r].end_date),l=0;l<s.length;l++)(s[l].event_pid||s[l].id)!=o.id&&i.push(s[l]);else{i=e.getEvents(o.start_date,o.end_date);for(var h=0;h<i.length;h++){var v=i[h];if(v.id==o.id||v.event_length&&[v.event_pid,v.event_length].join("#")==o.id){i.splice(h,1);break}}}var g=e._get_section_view(),f=e._get_section_property(),u=!0;if(g){var m=0;for(h=0;h<i.length;h++)i[h].id!=o.id&&this._check_sections_collision(i[h],o)&&m++;m>=d&&(u=!1)}else i.length>=d&&(u=!1);if(!u){var c=!e.callEvent("onEventCollision",[o,i]);return c||(o[f]=a||o[f]),c}return u}},container_autoresize:function(e){e.config.container_autoresize=!0,e.config.month_day_min_height=90,e.config.min_grid_size=25,e.config.min_map_size=400;var a=e._pre_render_events,t=!0,n=0,o=0;e._pre_render_events=function(l,h){if(!e.config.container_autoresize||!t)return a.apply(this,arguments);var v=this.xy.bar_height,g=this._colsS.heights,f=this._colsS.heights=[0,0,0,0,0,0,0],u=this._els.dhx_cal_data[0];if(l=this._table_view?this._pre_render_events_table(l,h):this._pre_render_events_line(l,h),this._table_view)if(h)this._colsS.heights=g;else{var m=u.firstChild;const w=m.querySelectorAll(".dhx_cal_month_row");if(w&&w.length){for(var c=0;c<w.length;c++){if(f[c]++,f[c]*v>this._colsS.height-this.xy.month_head_height){var p=w[c].querySelectorAll(".dhx_cal_month_cell"),y=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||f[c]<=this.config.max_month_events?y=f[c]*v:(this.config.max_month_events+1)*v>this._colsS.height-this.xy.month_head_height&&(y=(this.config.max_month_events+1)*v),w[c].style.height=y+this.xy.month_head_height+"px";for(var b=0;b<p.length;b++)p[b].childNodes[1].style.height=y+"px";f[c]=(f[c-1]||0)+p[0].offsetHeight}f[c]=(f[c-1]||0)+w[c].querySelectorAll(".dhx_cal_month_cell")[0].offsetHeight}f.unshift(0),m.parentNode.offsetHeight<m.parentNode.scrollHeight&&m._h_fix}else if(l.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(f[0]=-1),l.length||f[0]==-1){var x=(f[0]+1)*v+1;o!=x+1&&(this._obj.style.height=n-o+x-1+"px"),x+="px";const E=this._els.dhx_cal_navline[0].offsetHeight,S=this._els.dhx_cal_header[0].offsetHeight;u.style.height=this._obj.offsetHeight-E-S-(this.xy.margin_top||0)+"px";var k=this._els.dhx_multi_day[0];k.style.height=x,k.style.visibility=f[0]==-1?"hidden":"visible",k.style.display=f[0]==-1?"none":"",(k=this._els.dhx_multi_day[1]).style.height=x,k.style.visibility=f[0]==-1?"hidden":"visible",k.style.display=f[0]==-1?"none":"",k.className=f[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(f[0]+1)*v,f[0]=0}}return l};var i=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],d=function(l){n=0;for(var h=0;h<i.length;h++){var v=i[h],g=e._els[v]?e._els[v][0]:null,f=0;switch(v){case"dhx_cal_navline":case"dhx_cal_header":f=g.offsetHeight;break;case"dhx_multi_day":f=g?g.offsetHeight-1:0,o=f;break;case"dhx_cal_data":var u=e.getState().mode;if(g.childNodes[1]&&u!="month"){let T=0;for(let A=0;A<g.childNodes.length;A++)g.childNodes[A].offsetHeight>T&&(T=g.childNodes[A].offsetHeight);f=T}else f=Math.max(g.offsetHeight-1,g.scrollHeight);if(u=="month")e.config.month_day_min_height&&!l&&(f=g.querySelectorAll(".dhx_cal_month_row").length*e.config.month_day_min_height),l&&(g.style.height=f+"px");else if(u=="year")f=190*e.config.year_y;else if(u=="agenda"){if(f=0,g.childNodes&&g.childNodes.length)for(var m=0;m<g.childNodes.length;m++)f+=g.childNodes[m].offsetHeight;f+2<e.config.min_grid_size?f=e.config.min_grid_size:f+=2}else if(u=="week_agenda"){for(var c,p,y=e.xy.week_agenda_scale_height+e.config.min_grid_size,b=0;b<g.childNodes.length;b++)for(p=g.childNodes[b],m=0;m<p.childNodes.length;m++){for(var x=0,k=p.childNodes[m].childNodes[1],w=0;w<k.childNodes.length;w++)x+=k.childNodes[w].offsetHeight;c=x+e.xy.week_agenda_scale_height,(c=b!=1||m!=2&&m!=3?c:2*c)>y&&(y=c)}f=3*y}else if(u=="map"){f=0;var E=g.querySelectorAll(".dhx_map_line");for(m=0;m<E.length;m++)f+=E[m].offsetHeight;f+2<e.config.min_map_size?f=e.config.min_map_size:f+=2}else if(e._gridView)if(f=0,g.childNodes[1].childNodes[0].childNodes&&g.childNodes[1].childNodes[0].childNodes.length){for(E=g.childNodes[1].childNodes[0].childNodes[0].childNodes,m=0;m<E.length;m++)f+=E[m].offsetHeight;(f+=2)<e.config.min_grid_size&&(f=e.config.min_grid_size)}else f=e.config.min_grid_size;if(e.matrix&&e.matrix[u]){if(l)f+=0,g.style.height=f+"px";else{f=0;for(var S=e.matrix[u],D=S.y_unit,M=0;M<D.length;M++)f+=S.getSectionHeight(D[M].key);e.$container.clientWidth!=e.$container.scrollWidth&&(f+=s())}f-=1}(u=="day"||u=="week"||e._props&&e._props[u])&&(f+=2)}n+=f+=1}e._obj.style.height=n+"px",l||e.updateView()};function _(){t=!1,e.callEvent("onAfterSchedulerResize",[]),t=!0}var r=function(){if(!e.config.container_autoresize||!t)return!0;var l=e.getState().mode;if(!l)return!0;var h=window.requestAnimationFrame||window.setTimeout,v=document.documentElement.scrollTop;h(function(){!e.$destroyed&&e.$initialized&&d()}),e.matrix&&e.matrix[l]||l=="month"?h(function(){!e.$destroyed&&e.$initialized&&(d(!0),document.documentElement.scrollTop=v,_())},1):_()};function s(){var l=document.createElement("div");l.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(l);var h=l.offsetWidth-l.clientWidth;return document.body.removeChild(l),h}e.attachEvent("onBeforeViewChange",function(){var l=e.config.container_autoresize;if(e.xy.$original_scroll_width||(e.xy.$original_scroll_width=e.xy.scroll_width),e.xy.scroll_width=l?0:e.xy.$original_scroll_width,e.matrix)for(var h in e.matrix){var v=e.matrix[h];v.$original_section_autoheight||(v.$original_section_autoheight=v.section_autoheight),v.section_autoheight=!l&&v.$original_section_autoheight}return!0}),e.attachEvent("onViewChange",r),e.attachEvent("onXLE",r),e.attachEvent("onEventChanged",r),e.attachEvent("onEventCreated",r),e.attachEvent("onEventAdded",r),e.attachEvent("onEventDeleted",r),e.attachEvent("onAfterSchedulerResize",r),e.attachEvent("onClearAll",r),e.attachEvent("onBeforeExpand",function(){return t=!1,!0}),e.attachEvent("onBeforeCollapse",function(){return t=!0,!0})},cookie:function(e){function a(o){return(o._obj.id||"scheduler")+"_settings"}var t=!0;e.attachEvent("onBeforeViewChange",function(o,i,d,_){if(t&&e._get_url_nav){var r=e._get_url_nav();(r.date||r.mode||r.event)&&(t=!1)}var s=a(e);if(t){t=!1;var l=function(v){var g=v+"=";if(document.cookie.length>0){var f=document.cookie.indexOf(g);if(f!=-1){f+=g.length;var u=document.cookie.indexOf(";",f);return u==-1&&(u=document.cookie.length),document.cookie.substring(f,u)}}return""}(s);if(l){e._min_date||(e._min_date=_),(l=unescape(l).split("@"))[0]=this._helpers.parseDate(l[0]);var h=this.isViewExists(l[1])?l[1]:d;return _=isNaN(+l[0])?_:l[0],window.setTimeout(function(){e.$destroyed||e.setCurrentView(_,h)},1),!1}}return!0}),e.attachEvent("onViewChange",function(o,i){var d,_,r=a(e),s=escape(this._helpers.formatDate(i)+"@"+o);_=r+"="+s+((d="expires=Sun, 31 Jan 9999 22:00:00 GMT")?"; "+d:""),document.cookie=_});var n=e._load;e._load=function(){var o=arguments;if(e._date)n.apply(this,o);else{var i=this;window.setTimeout(function(){n.apply(i,o)},1)}}},daytimeline:function(e){Kr(e);var a=e.createTimelineView;e.createTimelineView=function(t){if(t.render=="days"){var n=t.name,o=t.y_property="timeline-week"+n;t.y_unit=[],t.render="bar",t.days=t.days||7,a.call(this,t),e.templates[n+"_scalex_class"]=function(){},e.templates[n+"_scaley_class"]=function(){},e.templates[n+"_scale_label"]=function(b,x,k){return e.templates.day_date(x)},e.date[n+"_start"]=function(b){return b=e.date.week_start(b),b=e.date.add(b,t.x_step*t.x_start,t.x_unit)},e.date["add_"+n]=function(b,x){return e.date.add(b,x*t.days,"day")};var i=e._renderMatrix;e._renderMatrix=function(b,x){b&&function(){var k=new Date(e.getState().date),w=e.date[n+"_start"](k);w=e.date.date_part(w);var E=[],S=e.matrix[n];S.y_unit=E,S.order={};for(var D=0;D<t.days;D++)E.push({key:+w,label:w}),S.order[S.y_unit[D].key]=D,w=e.date.add(w,1,"day")}(),i.apply(this,arguments)};var d=e.checkCollision;e.checkCollision=function(b){return b[o]&&delete(b=function(x){var k={};for(var w in x)k[w]=x[w];return k}(b))[o],d.apply(e,[b])},e.attachEvent("onBeforeDrag",function(b,x,k){var w=k.target||k.srcElement,E=e._getClassName(w);if(x=="resize")E.indexOf("dhx_event_resize_end")<0?e._w_line_drag_from_start=!0:e._w_line_drag_from_start=!1;else if(x=="move"&&E.indexOf("no_drag_move")>=0)return!1;return!0});var _=e["mouse_"+n];e["mouse_"+n]=function(b){var x;this._drag_event&&(x=this._drag_event._move_delta);var k=e.matrix[this._mode];if(k.scrollable&&!b.converted&&(b.converted=1,b.x-=-k._x_scroll,b.y+=k._y_scroll),x===void 0&&e._drag_mode=="move"){var w={y:b.y};e._resolve_timeline_section(k,w);var E=b.x-k.dx,S=new Date(w.section);p(e._timeline_drag_date(k,E),S);var D=e._drag_event,M=this.getEvent(this._drag_id);M&&(D._move_delta=(M.start_date-S)/6e4,this.config.preserve_length&&b._ignores&&(D._move_delta=this._get_real_event_length(M.start_date,S,k),D._event_length=this._get_real_event_length(M.start_date,M.end_date,k)))}if(b=_.apply(e,arguments),e._drag_mode&&e._drag_mode!="move"){var T=null;T=e._drag_event&&e._drag_event["timeline-week"+n]?new Date(e._drag_event["timeline-week"+n]):new Date(b.section),b.y+=Math.round((T-e.date.date_part(new Date(e._min_date)))/(6e4*this.config.time_step)),e._drag_mode=="resize"&&(b.resize_from_start=e._w_line_drag_from_start)}else if(e._drag_event){var A=Math.floor(Math.abs(b.y/(1440/e.config.time_step)));A*=b.y>0?1:-1,b.y=b.y%(1440/e.config.time_step);var O=e.date.date_part(new Date(e._min_date));O.valueOf()!=new Date(b.section).valueOf()&&(b.x=Math.floor((b.section-O)/864e5),b.x+=A)}return b},e.attachEvent("onEventCreated",function(b,x){return e._events[b]&&delete e._events[b][o],!0}),e.attachEvent("onBeforeEventChanged",function(b,x,k,w){return e._events[b.id]&&delete e._events[b.id][o],!0});var r=e._update_timeline_section;e._update_timeline_section=function(b){var x,k;this._mode==n&&(x=b.event)&&(k=e._get_copied_event(x.id,e.date.day_start(new Date(x.start_date.valueOf()))))&&(b.event._sorder=k._sorder,b.event._count=k._count),r.apply(this,arguments),x&&k&&(k._count=x._count,k._sorder=x._sorder)};var s=e.render_view_data;e.render_view_data=function(b,x){return this._mode==n&&b&&(b=f(b),e._restore_render_flags(b)),s.apply(e,[b,x])};var l=e.get_visible_events;e.get_visible_events=function(){if(this._mode==n){this._clear_copied_events(),e._max_date=e.date.date_part(e.date.add(e._min_date,t.days,"day"));var b=l.apply(e,arguments);return b=f(b),e._register_copies_array(b),b}return l.apply(e,arguments)};var h=e.addEventNow;e.addEventNow=function(b){if(e.getState().mode==n)if(b[o]){var x=new Date(b[o]);g(x,b.start_date),g(x,b.end_date)}else{var k=new Date(b.start_date);b[o]=+e.date.date_part(k)}return h.apply(e,arguments)};var v=e._render_marked_timespan;e._render_marked_timespan=function(){if(e._mode!=n)return v.apply(this,arguments)}}else a.apply(this,arguments);function g(b,x){x.setDate(1),x.setFullYear(b.getFullYear()),x.setMonth(b.getMonth()),x.setDate(b.getDate())}function f(b){for(var x=[],k=0;k<b.length;k++){var w=m(b[k]);if(e.isOneDayEvent(w))c(w),x.push(w);else{for(var E=new Date(Math.min(+w.end_date,+e._max_date)),S=new Date(Math.max(+w.start_date,+e._min_date)),D=[];+S<+E;){var M=m(w);M.start_date=S,M.end_date=new Date(Math.min(+y(M.start_date),+E)),S=y(S),c(M),x.push(M),D.push(M)}u(D,w)}}return x}function u(b,x){for(var k=!1,w=!1,E=0,S=b.length;E<S;E++){var D=b[E];k=+D._w_start_date==+x.start_date,w=+D._w_end_date==+x.end_date,D._no_resize_start=D._no_resize_end=!0,k&&(D._no_resize_start=!1),w&&(D._no_resize_end=!1)}}function m(b){var x=e.getEvent(b.event_pid);return x&&x.isPrototypeOf(b)?(delete(b=e._copy_event(b)).event_length,delete b.event_pid,delete b.rec_pattern,delete b.rec_type):b=e._lame_clone(b),b}function c(b){if(!b._w_start_date||!b._w_end_date){var x=e.date,k=b._w_start_date=new Date(b.start_date),w=b._w_end_date=new Date(b.end_date);b[o]=+x.date_part(b.start_date),b._count||(b._count=1),b._sorder||(b._sorder=0);var E=w-k;b.start_date=new Date(e._min_date),p(k,b.start_date),b.end_date=new Date(+b.start_date+E),k.getTimezoneOffset()!=w.getTimezoneOffset()&&(b.end_date=new Date(b.end_date.valueOf()+6e4*(k.getTimezoneOffset()-w.getTimezoneOffset())))}}function p(b,x){x.setMinutes(b.getMinutes()),x.setHours(b.getHours())}function y(b){var x=e.date.add(b,1,"day");return x=e.date.date_part(x)}}},drag_between:function(e){window.Scheduler&&window.Scheduler.plugin&&(window.Scheduler._outer_drag=$a),go.push(e),Nn||mo(e),e.config.drag_in=!0,e.config.drag_out=!0,e.templates.event_outside=function(t,n,o){};var a=$a;e.attachEvent("onTemplatesReady",function(){e.event(e._obj,"mousemove",function(t){a.target_scheduler=e}),e.event(e._obj,"mouseup",function(t){a.target_scheduler=e})})},editors:function(e){e.form_blocks.combo={render:function(a){a.cached_options||(a.cached_options={});var t="";return t+="<div class='"+a.type+"' ></div>"},set_value:function(a,t,n,o){(function(){g();var v=e.attachEvent("onAfterLightbox",function(){g(),e.detachEvent(v)});function g(){if(a._combo&&a._combo.DOMParent){var f=a._combo;f.unload?f.unload():f.destructor&&f.destructor(),f.DOMParent=f.DOMelem=null}}})(),window.dhx_globalImgPath=o.image_path||"/",a._combo=new dhtmlXCombo(a,o.name,a.offsetWidth-8),o.onchange&&a._combo.attachEvent("onChange",o.onchange),o.options_height&&a._combo.setOptionHeight(o.options_height);var i=a._combo;if(i.enableFilteringMode(o.filtering,o.script_path||null,!!o.cache),o.script_path){var d=n[o.map_to];d?o.cached_options[d]?(i.addOption(d,o.cached_options[d]),i.disable(1),i.selectOption(0),i.disable(0)):e.ajax.get(o.script_path+"?id="+d+"&uid="+e.uid(),function(v){var g,f=v.xmlDoc.responseText;try{g=JSON.parse(f).options[0].text}catch{g=e.ajax.xpath("//option",v.xmlDoc)[0].childNodes[0].nodeValue}o.cached_options[d]=g,i.addOption(d,g),i.disable(1),i.selectOption(0),i.disable(0)}):i.setComboValue("")}else{for(var _=[],r=0;r<o.options.length;r++){var s=o.options[r],l=[s.key,s.label,s.css];_.push(l)}if(i.addOption(_),n[o.map_to]){var h=i.getIndexByValue(n[o.map_to]);i.selectOption(h)}}},get_value:function(a,t,n){var o=a._combo.getSelectedValue();return n.script_path&&(n.cached_options[o]=a._combo.getSelectedText()),o},focus:function(a){}},e.form_blocks.radio={render:function(a){var t="";t+=`<div class='dhx_cal_ltext dhx_cal_radio ${a.vertical?"dhx_cal_radio_vertical":""}' style='max-height:${a.height}px;'>`;for(var n=0;n<a.options.length;n++){var o=e.uid();t+="<label class='dhx_cal_radio_item' for='"+o+"'><input id='"+o+"' type='radio' name='"+a.name+"' value='"+a.options[n].key+"'><span> "+a.options[n].label+"</span></label>"}return t+="</div>"},set_value:function(a,t,n,o){for(var i=a.getElementsByTagName("input"),d=0;d<i.length;d++){i[d].checked=!1;var _=n[o.map_to]||t;i[d].value==_&&(i[d].checked=!0)}},get_value:function(a,t,n){for(var o=a.getElementsByTagName("input"),i=0;i<o.length;i++)if(o[i].checked)return o[i].value},focus:function(a){}},e.form_blocks.checkbox={render:function(a){return e.config.wide_form?'<div class="dhx_cal_wide_checkbox"></div>':""},set_value:function(a,t,n,o){a=e._lightbox.querySelector(`#${o.id}`);var i=e.uid(),d=o.checked_value!==void 0?t==o.checked_value:!!t;a.className+=" dhx_cal_checkbox";var _="<input id='"+i+"' type='checkbox' value='true' name='"+o.name+"'"+(d?"checked='true'":"")+"'>",r="<label for='"+i+"'>"+(e.locale.labels["section_"+o.name]||o.name)+"</label>";if(e.config.wide_form?(a.innerHTML=r,a.nextSibling.innerHTML=_):a.innerHTML=_+r,o.handler){var s=a.getElementsByTagName("input")[0];if(s.$_eventAttached)return;s.$_eventAttached=!0,e.event(s,"click",o.handler)}},get_value:function(a,t,n){var o=(a=e._lightbox.querySelector(`#${n.id}`)).getElementsByTagName("input")[0];return o||(o=a.nextSibling.getElementsByTagName("input")[0]),o.checked?n.checked_value||!0:n.unchecked_value||!1},focus:function(a){}}},expand:function(e){e.ext.fullscreen={toggleIcon:null},e.expand=function(){if(e.callEvent("onBeforeExpand",[])){var a=e._obj;do a._position=a.style.position||"",a.style.position="static";while((a=a.parentNode)&&a.style);(a=e._obj).style.position="absolute",a._width=a.style.width,a._height=a.style.height,a.style.width=a.style.height="100%",a.style.top=a.style.left="0px";var t=document.body;t.scrollTop=0,(t=t.parentNode)&&(t.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",e._maximize(),e.callEvent("onExpand",[])}},e.collapse=function(){if(e.callEvent("onBeforeCollapse",[])){var a=e._obj;do a.style.position=a._position;while((a=a.parentNode)&&a.style);(a=e._obj).style.width=a._width,a.style.height=a._height,document.body.style.overflow=document.body._overflow,e._maximize(),e.callEvent("onCollapse",[])}},e.attachEvent("onTemplatesReady",function(){var a=document.createElement("div");a.className="dhx_expand_icon",e.ext.fullscreen.toggleIcon=a,a.innerHTML=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
	<g>
	<line x1="0.5" y1="5" x2="0.5" y2="3.0598e-08" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line y1="0.5" x2="5" y2="0.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line x1="0.5" y1="11" x2="0.5" y2="16" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line y1="15.5" x2="5" y2="15.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line x1="11" y1="0.5" x2="16" y2="0.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line x1="15.5" y1="2.18557e-08" x2="15.5" y2="5" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line x1="11" y1="15.5" x2="16" y2="15.5" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	<line x1="15.5" y1="16" x2="15.5" y2="11" stroke="var(--dhx-scheduler-base-colors-icons)"/>
	</g>
	</svg>
	`,e._obj.appendChild(a),e.event(a,"click",function(){e.expanded?e.collapse():e.expand()})}),e._maximize=function(){this.expanded=!this.expanded,this.expanded?this.ext.fullscreen.toggleIcon.classList.add("dhx_expand_icon--expanded"):this.ext.fullscreen.toggleIcon.classList.remove("dhx_expand_icon--expanded");for(var a=["left","top"],t=0;t<a.length;t++){var n=e["_prev_margin_"+a[t]];e.xy["margin_"+a[t]]?(e["_prev_margin_"+a[t]]=e.xy["margin_"+a[t]],e.xy["margin_"+a[t]]=0):n&&(e.xy["margin_"+a[t]]=e["_prev_margin_"+a[t]],delete e["_prev_margin_"+a[t]])}e.setCurrentView()}},export_api:function(e){(function(){function a(n,o){for(var i in o)n[i]||(n[i]=o[i]);return n}function t(n,o){var i={};return(n=o._els[n])&&n[0]?(i.x=n[0].scrollWidth,i.y=n[0].scrollHeight):(i.x=0,i.y=0),i}window.dhtmlxAjax||(window.dhtmlxAjax={post:function(n,o,i){return window.dhx4.ajax.post(n,o,i)},get:function(n,o){return window.ajax.get(n,o)}}),function(n){function o(){var i=n.getState().mode;return n.matrix&&n.matrix[i]?n.matrix[i]:null}n.exportToPDF=function(i){(i=a(i||{},{name:"calendar.pdf",format:"A4",orientation:"landscape",dpi:96,zoom:1,rtl:n.config.rtl})).html=this._export_html(i),i.mode=this.getState().mode,this._send_to_export(i,"pdf")},n.exportToPNG=function(i){(i=a(i||{},{name:"calendar.png",format:"A4",orientation:"landscape",dpi:96,zoom:1,rtl:n.config.rtl})).html=this._export_html(i),i.mode=this.getState().mode,this._send_to_export(i,"png")},n.exportToICal=function(i){i=a(i||{},{name:"calendar.ical",data:this._serialize_plain(null,i)}),this._send_to_export(i,"ical")},n.exportToExcel=function(i){i=a(i||{},{name:"calendar.xlsx",title:"Events",data:this._serialize_plain(this.templates.xml_format,i),columns:this._serialize_columns()}),this._send_to_export(i,"excel")},n._ajax_to_export=function(i,d,_){delete i.callback;var r=i.server||"https://export.dhtmlx.com/scheduler";window.dhtmlxAjax.post(r,"type="+d+"&store=1&data="+encodeURIComponent(JSON.stringify(i)),function(s){var l=null;if(!(s.xmlDoc.status>400))try{l=JSON.parse(s.xmlDoc.responseText)}catch{}_(l)})},n._plain_export_copy=function(i,d){var _={};for(var r in i)_[r]=i[r];return _.start_date=d(_.start_date),_.end_date=d(_.end_date),_.$text=this.templates.event_text(i.start_date,i.end_date,i),_},n._serialize_plain=function(i,d){var _;i=i||n.date.date_to_str("%Y%m%dT%H%i%s",!0),_=d&&d.start&&d.end?n.getEvents(d.start,d.end):n.getEvents();for(var r=[],s=0;s<_.length;s++)r[s]=this._plain_export_copy(_[s],i);return r},n._serialize_columns=function(){return[{id:"start_date",header:"Start Date",width:30},{id:"end_date",header:"End Date",width:30},{id:"$text",header:"Text",width:100}]},n._send_to_export=function(i,d){if(i.version||(i.version=n.version),i.skin||(i.skin=n.skin),i.callback)return n._ajax_to_export(i,d,i.callback);var _=this._create_hidden_form();_.firstChild.action=i.server||"https://export.dhtmlx.com/scheduler",_.firstChild.childNodes[0].value=JSON.stringify(i),_.firstChild.childNodes[1].value=d,_.firstChild.submit()},n._create_hidden_form=function(){if(!this._hidden_export_form){var i=this._hidden_export_form=document.createElement("div");i.style.display="none",i.innerHTML="<form method='POST' target='_blank'><input type='text' name='data'><input type='hidden' name='type' value=''></form>",document.body.appendChild(i)}return this._hidden_export_form},n._get_export_size=function(i,d,_,r,s,l,h){r=parseInt(r)/25.4||4;var v={A5:{x:148,y:210},A4:{x:210,y:297},A3:{x:297,y:420},A2:{x:420,y:594},A1:{x:594,y:841},A0:{x:841,y:1189}},g=t("dhx_cal_data",this).x,f={y:t("dhx_cal_data",this).y+t("dhx_cal_header",this).y+t("dhx_multi_day",this).y};return f.x=i==="full"?g:Math.floor((d==="landscape"?v[i].y:v[i].x)*r),h&&(f.x*=parseFloat(h.x)||1,f.y*=parseFloat(h.y)||1),f},n._export_html=function(i){var d=function(){var s=void 0,l=void 0,h=o();return h&&(l=h.scrollable,s=h.smart_rendering),{nav_height:n.xy.nav_height,scroll_width:n.xy.scroll_width,style_width:n._obj.style.width,style_height:n._obj.style.height,timeline_scrollable:l,timeline_smart_rendering:s}}(),_=n._get_export_size(i.format,i.orientation,i.zoom,i.dpi,i.header,i.footer,i.scales),r="";try{(function(s,l){n._obj.style.width=s.x+"px",n._obj.style.height=s.y+"px",n.xy.nav_height=0,n.xy.scroll_width=0;var h=o();(l.timeline_scrollable||l.timeline_smart_rendering)&&(h.scrollable=!1,h.smart_rendering=!1)})(_,d),n.setCurrentView(),r=n._obj.innerHTML}catch(s){console.error(s)}finally{(function(s){n.xy.scroll_width=s.scroll_width,n.xy.nav_height=s.nav_height,n._obj.style.width=s.style_width,n._obj.style.height=s.style_height;var l=o();(s.timeline_scrollable||s.timeline_smart_rendering)&&(l.scrollable=s.timeline_scrollable,l.smart_rendering=s.timeline_smart_rendering)})(d),n.setCurrentView()}return r}}(e)})()},grid_view:function(e){e._grid={names:{},sort_rules:{int:function(a,t,n){return 1*n(a)<1*n(t)?1:-1},str:function(a,t,n){return n(a)<n(t)?1:-1},date:function(a,t,n){return new Date(n(a))<new Date(n(t))?1:-1}},_getObjName:function(a){return"grid_"+a},_getViewName:function(a){return a.replace(/^grid_/,"")}},e.createGridView=function(a){var t=a.name||"grid",n=e._grid._getObjName(t);function o(_){return!(_!==void 0&&(1*_!=_||_<0))}e._grid.names[t]=t,e.config[t+"_start"]=a.from||new Date(0),e.config[t+"_end"]=a.to||new Date(9999,1,1),e[n]=a,e[n].defPadding=8,e[n].columns=e[n].fields,e[n].unit=a.unit||"month",e[n].step=a.step||1,delete e[n].fields;for(var i=e[n].columns,d=0;d<i.length;d++)o(i[d].width)&&(i[d].initialWidth=i[d].width),o(i[d].paddingLeft)||delete i[d].paddingLeft,o(i[d].paddingRight)||delete i[d].paddingRight;e[n].select=a.select===void 0||a.select,e.locale.labels[t+"_tab"]===void 0&&(e.locale.labels[t+"_tab"]=e[n].label||e.locale.labels.grid_tab),e[n]._selected_divs=[],e.date[t+"_start"]=function(_){return e.date[a.unit+"_start"]?e.date[a.unit+"_start"](_):_},e.date["add_"+t]=function(_,r){return e.date.add(_,r*e[n].step,e[n].unit)},e.templates[t+"_date"]=function(_,r){return e.config.rtl?e.templates.day_date(r)+" - "+e.templates.day_date(_):e.templates.day_date(_)+" - "+e.templates.day_date(r)},e.templates[t+"_full_date"]=function(_,r,s){return e.isOneDayEvent(s)?this[t+"_single_date"](_):e.config.rtl?e.templates.day_date(r)+" &ndash; "+e.templates.day_date(_):e.templates.day_date(_)+" &ndash; "+e.templates.day_date(r)},e.templates[t+"_single_date"]=function(_){return e.templates.day_date(_)+" "+this.event_date(_)},e.templates[t+"_field"]=function(_,r){return r[_]},e.attachEvent("onTemplatesReady",function(){e.attachEvent("onEventSelected",function(s){if(this._mode==t&&e[n].select)return e._grid.selectEvent(s,t),!1}),e.attachEvent("onEventUnselected",function(s){this._mode==t&&e[n].select&&e._grid.unselectEvent("",t)});var _=e.render_data;e.render_data=function(s){if(this._mode!=t)return _.apply(this,arguments);e._grid._fill_grid_tab(n)};var r=e.render_view_data;e.render_view_data=function(){var s=e._els.dhx_cal_data[0].lastChild;return this._mode==t&&s&&(e._grid._gridScrollTop=s.scrollTop),r.apply(this,arguments)}}),e[t+"_view"]=function(_){if(e._grid._sort_marker=null,delete e._gridView,e._grid._gridScrollTop=0,e._rendered=[],e[n]._selected_divs=[],_){var r=null,s=null;e[n].paging?(r=e.date[t+"_start"](new Date(e._date)),s=e.date["add_"+t](r,1)):(r=e.config[t+"_start"],s=e.config[t+"_end"]),e._min_date=r,e._max_date=s,e._grid.set_full_view(n);var l="";+r>+new Date(0)&&+s<+new Date(9999,1,1)&&(l=e.templates[t+"_date"](r,s));var h=e._getNavDateElement();h&&(h.innerHTML=l),e._gridView=n}}},e.dblclick_dhx_grid_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow()},e._click.dhx_cal_header&&(e._old_header_click=e._click.dhx_cal_header),e._click.dhx_cal_header=function(a){if(e._gridView){var t=a||window.event,n=e._grid._get_target_column(t,e._gridView);e._grid._toggle_sort_state(e._gridView,n.id),e.clear_view(),e._grid._fill_grid_tab(e._gridView)}else if(e._old_header_click)return e._old_header_click.apply(this,arguments)},e._grid.selectEvent=function(a,t){if(e.callEvent("onBeforeRowSelect",[a])){var n=e._grid._getObjName(t);e.for_rendered(a,function(o){o.classList.add("dhx_grid_event_selected"),e[n]._selected_divs.push(o)})}},e._grid._unselectDiv=function(a){a.className=a.classList.remove("dhx_grid_event_selected")},e._grid.unselectEvent=function(a,t){var n=e._grid._getObjName(t);if(n&&e[n]._selected_divs)if(a){for(o=0;o<e[n]._selected_divs.length;o++)if(e[n]._selected_divs[o].getAttribute(e.config.event_attribute)==a){e._grid._unselectDiv(e[n]._selected_divs[o]),e[n]._selected_divs.slice(o,1);break}}else{for(var o=0;o<e[n]._selected_divs.length;o++)e._grid._unselectDiv(e[n]._selected_divs[o]);e[n]._selected_divs=[]}},e._grid._get_target_column=function(a,t){var n=a.originalTarget||a.srcElement;e._getClassName(n)=="dhx_grid_view_sort"&&(n=n.parentNode);for(var o=0,i=0;i<n.parentNode.childNodes.length;i++)if(n.parentNode.childNodes[i]==n){o=i;break}return e[t].columns[o]},e._grid._get_sort_state=function(a){return e[a].sort},e._grid._toggle_sort_state=function(a,t){var n=this._get_sort_state(a),o=e[a];n&&n.column==t?n.direction=n.direction=="asc"?"desc":"asc":o.sort={column:t,direction:"desc"}},e._grid._get_sort_value_for_column=function(a){var t=null;if(a.template){var n=a.template;t=function(i){return n(i.start_date,i.end_date,i)}}else{var o=a.id;o=="date"&&(o="start_date"),t=function(i){return i[o]}}return t},e._grid.draw_sort_marker=function(a,t){if(e._grid._sort_marker&&(e._grid._sort_marker.className=e._grid._sort_marker.className.replace(/( )?dhx_grid_sort_(asc|desc)/,""),e._grid._sort_marker.removeChild(e._grid._sort_marker.lastChild)),t){var n=e._grid._get_column_node(a,t.column);n.className+=" dhx_grid_sort_"+t.direction,e._grid._sort_marker=n;var o="<div class='dhx_grid_view_sort' style='left:"+(+n.style.width.replace("px","")-15+n.offsetLeft)+"px'>&nbsp;</div>";n.innerHTML+=o}},e._grid.sort_grid=function(a){a=a||{direction:"desc",value:function(n){return n.start_date},rule:e._grid.sort_rules.date};var t=e.get_visible_events();return t.sort(function(n,o){return a.rule(n,o,a.value)}),a.direction=="asc"&&(t=t.reverse()),t},e._grid.set_full_view=function(a){if(a){var t=e._grid._print_grid_header(a);e._els.dhx_cal_header[0].innerHTML=t,e._table_view=!0,e.set_sizes()}},e._grid._calcPadding=function(a,t){return(a.paddingLeft!==void 0?1*a.paddingLeft:e[t].defPadding)+(a.paddingRight!==void 0?1*a.paddingRight:e[t].defPadding)},e._grid._getStyles=function(a,t){for(var n=[],o="",i=0;t[i];i++)switch(o=t[i]+":",t[i]){case"text-align":a.align&&n.push(o+a.align);break;case"vertical-align":a.valign&&n.push(o+a.valign);break;case"padding-left":a.paddingLeft!==void 0&&n.push(o+(a.paddingLeft||"0")+"px");break;case"padding-right":a.paddingRight!==void 0&&n.push(o+(a.paddingRight||"0")+"px")}return n},e._grid._get_column_node=function(a,t){for(var n=-1,o=0;o<a.length;o++)if(a[o].id==t){n=o;break}return n<0?null:e._obj.querySelectorAll(".dhx_grid_line > div")[n]},e._grid._get_sort_rule=function(a){var t,n=e[a],o=this._get_sort_state(a);if(o){for(var i,d=0;d<n.columns.length;d++)if(n.columns[d].id==o.column){i=n.columns[d];break}if(i){var _=e._grid._get_sort_value_for_column(i),r=i.sort;typeof r!="function"&&(r=e._grid.sort_rules[r]||e._grid.sort_rules.str),t={direction:o.direction,rule:r,value:_}}}return t},e._grid._fill_grid_tab=function(a){var t=e[a],n=this._get_sort_state(a),o=this._get_sort_rule(a);o&&e._grid.draw_sort_marker(t.columns,n);for(var i=e._grid.sort_grid(o),d=e[a].columns,_="<div>",r=-1,s=0;s<d.length;s++)r+=d[s].width,s<d.length-1&&(_+="<div class='dhx_grid_v_border' style='"+(e.config.rtl?"right":"left")+":"+r+"px'></div>");for(_+="</div>",_+="<div class='dhx_grid_area'><table "+e._waiAria.gridAttrString()+">",s=0;s<i.length;s++)_+=e._grid._print_event_row(i[s],a);_+="</table></div>",e._els.dhx_cal_data[0].innerHTML=_,e._els.dhx_cal_data[0].lastChild.scrollTop=e._grid._gridScrollTop||0;var l=e._els.dhx_cal_data[0].getElementsByTagName("tr");for(e._rendered=[],s=0;s<l.length;s++)e._rendered[s]=l[s]},e._grid._getCellContent=function(a,t){var n=e.getState().mode;return t.template?t.template(a.start_date,a.end_date,a):t.id=="date"?e.templates[n+"_full_date"](a.start_date,a.end_date,a):t.id=="start_date"||t.id=="end_date"?e.templates[n+"_single_date"](a[t.id]):e.templates[n+"_field"](t.id,a)},e._grid._print_event_row=function(a,t){var n=[];a.color&&n.push("--dhx-scheduler-event-background:"+a.color),a.textColor&&n.push("--dhx-scheduler-event-color:"+a.textColor),a._text_style&&n.push(a._text_style),e[t].rowHeight&&n.push("height:"+e[t].rowHeight+"px");var o="";n.length&&(o="style='"+n.join(";")+"'");var i=e[t].columns,d=e.templates.event_class(a.start_date,a.end_date,a);e.getState().select_id==a.id&&(d+=" dhx_grid_event_selected");for(var _="<tr "+e._waiAria.gridRowAttrString(a)+" class='dhx_grid_event"+(d?" "+d:"")+"' event_id='"+a.id+"' "+e.config.event_attribute+"='"+a.id+"' "+o+">",r=["text-align","vertical-align","padding-left","padding-right"],s=0;s<i.length;s++){var l=e._grid._getCellContent(a,i[s]),h=e._waiAria.gridCellAttrString(a,i[s],l),v=e._grid._getStyles(i[s],r),g=i[s].css?' class="'+i[s].css+'"':"";_+="<td "+h+" style='width:"+i[s].width+"px;"+v.join(";")+"' "+g+">"+l+"</td>"}return _+="<td class='dhx_grid_dummy'></td></tr>"},e._grid._print_grid_header=function(a){for(var t="<div class='dhx_grid_line'>",n=e[a].columns,o=[],i=n.length,d=e._obj.clientWidth-2*n.length-20,_=0;_<n.length;_++){var r=1*n[_].initialWidth;isNaN(r)||n[_].initialWidth===""||n[_].initialWidth===null||typeof n[_].initialWidth=="boolean"?o[_]=null:(i--,d-=r,o[_]=r)}for(var s=Math.floor(d/i),l=["text-align","padding-left","padding-right"],h=0;h<n.length;h++){var v=o[h]?o[h]:s;n[h].width=v;var g=e._grid._getStyles(n[h],l);t+="<div class='dhx_grid_column_label' style='line-height: "+e.xy.scale_height+"px;width:"+n[h].width+"px;"+g.join(";")+"'>"+(n[h].label===void 0?n[h].id:n[h].label)+"</div>"}return t+="</div>"}},html_templates:function(e){e.attachEvent("onTemplatesReady",function(){for(var a=document.body.getElementsByTagName("DIV"),t=0;t<a.length;t++){var n=a[t].className||"";if((n=n.split(":")).length==2&&n[0]=="template"){var o='return "'+(a[t].innerHTML||"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';o=unescape(o).replace(/\{event\.([a-z]+)\}/g,function(i,d){return'"+ev.'+d+'+"'}),e.templates[n[1]]=Function("start","end","ev",o),a[t].style.display="none"}}})},key_nav:function(e){function a(t){var n={minicalButton:e.$keyboardNavigation.MinicalButton,minicalDate:e.$keyboardNavigation.MinicalCell,scheduler:e.$keyboardNavigation.SchedulerNode,dataArea:e.$keyboardNavigation.DataArea,timeSlot:e.$keyboardNavigation.TimeSlot,event:e.$keyboardNavigation.Event},o={};for(var i in n)o[i.toLowerCase()]=n[i];return o[t=(t+"").toLowerCase()]||n.scheduler}e.config.key_nav=!0,e.config.key_nav_step=30,e.addShortcut=function(t,n,o){var i=a(o);i&&i.prototype.bind(t,n)},e.getShortcutHandler=function(t,n){var o=a(n);if(o){var i=e.$keyboardNavigation.shortcuts.parse(t);if(i.length)return o.prototype.findHandler(i[0])}},e.removeShortcut=function(t,n){var o=a(n);o&&o.prototype.unbind(t)},e.focus=function(){if(e.config.key_nav){var t=e.$keyboardNavigation.dispatcher;t.enable();var n=t.getActiveNode();!n||n instanceof e.$keyboardNavigation.MinicalButton||n instanceof e.$keyboardNavigation.MinicalCell?t.setDefaultNode():t.focusNode(t.getActiveNode())}},e.$keyboardNavigation={},e._compose=function(){for(var t=Array.prototype.slice.call(arguments,0),n={},o=0;o<t.length;o++){var i=t[o];for(var d in typeof i=="function"&&(i=new i),i)n[d]=i[d]}return n},function(t){t.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(n){for(var o=[],i=this.getExpressions(this.trim(n)),d=0;d<i.length;d++){for(var _=this.getWords(i[d]),r=this.createCommand(),s=0;s<_.length;s++)this.commandKeys[_[s]]?r.modifiers[_[s]]=!0:this.specialKeys[_[s]]?r.keyCode=this.specialKeys[_[s]]:r.keyCode=_[s].charCodeAt(0);o.push(r)}return o},getCommandFromEvent:function(n){var o=this.createCommand();o.modifiers.shift=!!n.shiftKey,o.modifiers.alt=!!n.altKey,o.modifiers.ctrl=!!n.ctrlKey,o.modifiers.meta=!!n.metaKey,o.keyCode=n.which||n.keyCode,o.keyCode>=96&&o.keyCode<=105&&(o.keyCode-=48);var i=String.fromCharCode(o.keyCode);return i&&(o.keyCode=i.toLowerCase().charCodeAt(0)),o},getHashFromEvent:function(n){return this.getHash(this.getCommandFromEvent(n))},getHash:function(n){var o=[];for(var i in n.modifiers)n.modifiers[i]&&o.push(i);return o.push(n.keyCode),o.join(this.junctionChar)},getExpressions:function(n){return n.split(this.junctionChar)},getWords:function(n){return n.split(this.combinationChar)},trim:function(n){return n.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(e),function(t){t.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(n){this._handlers||(this._handlers={});var o=t.$keyboardNavigation.shortcuts.getHash(n);return this._handlers[o]},doAction:function(n,o){var i=this.findHandler(n);i&&(i.call(this,o),o.preventDefault?o.preventDefault():o.returnValue=!1)},bind:function(n,o){this._handlers||(this._handlers={});for(var i=t.$keyboardNavigation.shortcuts,d=i.parse(n),_=0;_<d.length;_++)this._handlers[i.getHash(d[_])]=o},unbind:function(n){for(var o=t.$keyboardNavigation.shortcuts,i=o.parse(n),d=0;d<i.length;d++)this._handlers[o.getHash(i[d])]&&delete this._handlers[o.getHash(i[d])]},bindAll:function(n){for(var o in n)this.bind(o,n[o])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(e),function(t){t.$keyboardNavigation.getFocusableNodes=t._getFocusableNodes,t.$keyboardNavigation.trapFocus=function(n,o){if(o.keyCode!=9)return!1;for(var i,d=t.$keyboardNavigation.getFocusableNodes(n),_=document.activeElement,r=-1,s=0;s<d.length;s++)if(d[s]==_){r=s;break}if(o.shiftKey){if(i=d[r<=0?d.length-1:r-1])return i.focus(),o.preventDefault(),!0}else if(i=d[r>=d.length-1?0:r+1])return i.focus(),o.preventDefault(),!0;return!1}}(e),function(t){t.$keyboardNavigation.marker={clear:function(){for(var n=t.$container.querySelectorAll(".dhx_focus_slot"),o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o])},createElement:function(){var n=document.createElement("div");return n.setAttribute("tabindex",-1),n.className="dhx_focus_slot",n},renderMultiple:function(n,o,i){for(var d=[],_=new Date(n),r=new Date(Math.min(o.valueOf(),t.date.add(t.date.day_start(new Date(n)),1,"day").valueOf()));_.valueOf()<o.valueOf();)d=d.concat(i.call(this,_,new Date(Math.min(r.valueOf(),o.valueOf())))),_=t.date.day_start(t.date.add(_,1,"day")),r=t.date.day_start(t.date.add(_,1,"day")),r=new Date(Math.min(r.valueOf(),o.valueOf()));return d},render:function(n,o,i){this.clear();var d=[],_=t.$keyboardNavigation.TimeSlot.prototype._modes;switch(t.$keyboardNavigation.TimeSlot.prototype._getMode()){case _.units:d=this.renderVerticalMarker(n,o,i);break;case _.timeline:d=this.renderTimelineMarker(n,o,i);break;case _.year:d=d.concat(this.renderMultiple(n,o,this.renderYearMarker));break;case _.month:d=this.renderMonthMarker(n,o);break;case _.weekAgenda:d=d.concat(this.renderMultiple(n,o,this.renderWeekAgendaMarker));break;case _.list:d=this.renderAgendaMarker(n,o);break;case _.dayColumns:d=d.concat(this.renderMultiple(n,o,this.renderVerticalMarker))}this.addWaiAriaLabel(d,n,o,i),this.addDataAttributes(d,n,o,i);for(var r=d.length-1;r>=0;r--)if(d[r].offsetWidth)return d[r];return null},addDataAttributes:function(n,o,i,d){for(var _=t.date.date_to_str(t.config.api_date),r=_(o),s=_(i),l=0;l<n.length;l++)n[l].setAttribute("data-start-date",r),n[l].setAttribute("data-end-date",s),d&&n[l].setAttribute("data-section",d)},addWaiAriaLabel:function(n,o,i,d){var _="",r=t.getState().mode,s=!1;if(_+=t.templates.day_date(o),t.date.day_start(new Date(o)).valueOf()!=o.valueOf()&&(_+=" "+t.templates.hour_scale(o),s=!0),t.date.day_start(new Date(o)).valueOf()!=t.date.day_start(new Date(i)).valueOf()&&(_+=" - "+t.templates.day_date(i),(s||t.date.day_start(new Date(i)).valueOf()!=i.valueOf())&&(_+=" "+t.templates.hour_scale(i))),d){if(t.matrix&&t.matrix[r]){const h=t.matrix[r],v=h.y_unit[h.order[d]];_+=", "+t.templates[r+"_scale_label"](v.key,v.label,v)}else if(t._props&&t._props[r]){const h=t._props[r],v=h.options[h.order[d]];_+=", "+t.templates[r+"_scale_text"](v.key,v.label,v)}}for(var l=0;l<n.length;l++)t._waiAria.setAttributes(n[l],{"aria-label":_,"aria-live":"polite"})},renderWeekAgendaMarker:function(n,o){for(var i=t.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),d=t.date.week_start(new Date(t.getState().min_date)),_=-1,r=t.date.day_start(new Date(n)),s=0;s<i.length&&(_++,t.date.day_start(new Date(d)).valueOf()!=r.valueOf());s++)d=t.date.add(d,1,"day");return _!=-1?this._wrapDiv(i[_]):[]},_wrapDiv:function(n){var o=this.createElement();return o.style.top=n.offsetTop+"px",o.style.left=n.offsetLeft+"px",o.style.width=n.offsetWidth+"px",o.style.height=n.offsetHeight+"px",n.appendChild(o),[o]},renderYearMarker:function(n,o){var i=t._get_year_cell(n);i.style.position="relative";var d=this.createElement();return d.style.top="0px",d.style.left="0px",d.style.width="100%",d.style.height="100%",i.appendChild(d),[d]},renderAgendaMarker:function(n,o){var i=this.createElement();return i.style.height="1px",i.style.width="100%",i.style.opacity=1,i.style.top="0px",i.style.left="0px",t.$container.querySelector(".dhx_cal_data").appendChild(i),[i]},renderTimelineMarker:function(n,o,i){var d=t._lame_copy({},t.matrix[t._mode]),_=d._scales;d.round_position=!1;var r=[],s=n?new Date(n):t._min_date,l=o?new Date(o):t._max_date;if(s.valueOf()<t._min_date.valueOf()&&(s=new Date(t._min_date)),l.valueOf()>t._max_date.valueOf()&&(l=new Date(t._max_date)),!d._trace_x)return r;for(var h=0;h<d._trace_x.length&&!t._is_column_visible(d._trace_x[h]);h++);if(h==d._trace_x.length)return r;var v=_[i];if(!(s<o&&l>n))return r;var g=this.createElement();let f,u;function m(x,k){k.setDate(1),k.setFullYear(x.getFullYear()),k.setMonth(x.getMonth()),k.setDate(x.getDate())}if(t.getView().days){const x=new Date(n);m(t._min_date,x);const k=new Date(o);m(t._min_date,k),f=t._timeline_getX({start_date:x},!1,d),u=t._timeline_getX({start_date:k},!1,d)}else f=t._timeline_getX({start_date:n},!1,d),u=t._timeline_getX({start_date:o},!1,d);var c=d._section_height[i]-1||d.dy-1,p=0;t._isRender("cell")&&(p=v.offsetTop,f+=d.dx,u+=d.dx,v=t.$container.querySelector(".dhx_cal_data"));var y=Math.max(1,u-f-1);let b="left";return t.config.rtl&&(b="right"),g.style.cssText=`height:${c}px; ${b}:${f}px; width:${y}px; top:${p}px;`,v&&(v.appendChild(g),r.push(g)),r},renderMonthCell:function(n){for(var o=t.$container.querySelectorAll(".dhx_month_head"),i=[],d=0;d<o.length;d++)i.push(o[d].parentNode);var _=-1,r=0,s=-1,l=t.date.week_start(new Date(t.getState().min_date)),h=t.date.day_start(new Date(n));for(d=0;d<i.length&&(_++,s==6?(r++,s=0):s++,t.date.day_start(new Date(l)).valueOf()!=h.valueOf());d++)l=t.date.add(l,1,"day");if(_==-1)return[];var v=t._colsS[s],g=t._colsS.heights[r],f=this.createElement();f.style.top=g+"px",f.style.left=v+"px",f.style.width=t._cols[s]+"px",f.style.height=(t._colsS.heights[r+1]-g||t._colsS.height)+"px";var u=t.$container.querySelector(".dhx_cal_data"),m=u.querySelector(".dhx_cal_month_table");return m.nextSibling?u.insertBefore(f,m.nextSibling):u.appendChild(f),f},renderMonthMarker:function(n,o){for(var i=[],d=n;d.valueOf()<o.valueOf();)i.push(this.renderMonthCell(d)),d=t.date.add(d,1,"day");return i},renderVerticalMarker:function(n,o,i){var d=t.locate_holder_day(n),_=[],r=null,s=t.config;if(t._ignores[d])return _;if(t._props&&t._props[t._mode]&&i){var l=t._props[t._mode];d=l.order[i];var h=l.order[i];l.days>1?d=t.locate_holder_day(n)+h:(d=h,l.size&&d>l.position+l.size&&(d=0))}if(!(r=t.locate_holder(d))||r.querySelector(".dhx_scale_hour"))return document.createElement("div");var v=Math.max(60*n.getHours()+n.getMinutes(),60*s.first_hour),g=Math.min(60*o.getHours()+o.getMinutes(),60*s.last_hour);if(!g&&t.date.day_start(new Date(o)).valueOf()>t.date.day_start(new Date(n)).valueOf()&&(g=60*s.last_hour),g<=v)return[];var f=this.createElement(),u=t.config.hour_size_px*s.last_hour+1,m=36e5;return f.style.top=Math.round((60*v*1e3-t.config.first_hour*m)*t.config.hour_size_px/m)%u+"px",f.style.lineHeight=f.style.height=Math.max(Math.round(60*(g-v)*1e3*t.config.hour_size_px/m)%u,1)+"px",f.style.width="100%",r.appendChild(f),_.push(f),_[0]}}}(e),function(t){t.$keyboardNavigation.SchedulerNode=function(){},t.$keyboardNavigation.SchedulerNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var n=new t.$keyboardNavigation.TimeSlot;return n.isValid()||(n=n.fallback()),n},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var n=t.getState().mode;return t.matrix&&t.matrix[n]?this._modes.timeline:t._props&&t._props[n]?this._modes.units:n=="month"?this._modes.month:n=="year"?this._modes.year:n=="week_agenda"?this._modes.weekAgenda:n=="map"||n=="agenda"||t._grid&&t["grid_"+n]?this._modes.list:this._modes.dayColumns},focus:function(){t.focus()},blur:function(){},disable:function(){t.$container.setAttribute("tabindex","0")},enable:function(){t.$container&&t.$container.removeAttribute("tabindex")},isEnabled:function(){return t.$container.hasAttribute("tabindex")},_compareEvents:function(n,o){return n.start_date.valueOf()==o.start_date.valueOf()?n.id>o.id?1:-1:n.start_date.valueOf()>o.start_date.valueOf()?1:-1},_pickEvent:function(n,o,i,d){var _=t.getState();n=new Date(Math.max(_.min_date.valueOf(),n.valueOf())),o=new Date(Math.min(_.max_date.valueOf(),o.valueOf()));var r=t.getEvents(n,o);r.sort(this._compareEvents),d&&(r=r.reverse());for(var s=!!i,l=0;l<r.length&&s;l++)r[l].id==i&&(s=!1),r.splice(l,1),l--;for(l=0;l<r.length;l++)if(new t.$keyboardNavigation.Event(r[l].id).getNode())return r[l];return null},nextEventHandler:function(n){var o=t.$keyboardNavigation.dispatcher.activeNode,i=n||o&&o.eventId,d=null;if(i&&t.getEvent(i)){var _=t.getEvent(i);d=t.$keyboardNavigation.SchedulerNode.prototype._pickEvent(_.start_date,t.date.add(_.start_date,1,"year"),_.id,!1)}if(!d&&!n){var r=t.getState();d=t.$keyboardNavigation.SchedulerNode.prototype._pickEvent(r.min_date,t.date.add(r.min_date,1,"year"),null,!1)}if(d){var s=new t.$keyboardNavigation.Event(d.id);s.isValid()?(o&&o.blur(),t.$keyboardNavigation.dispatcher.setActiveNode(s)):this.nextEventHandler(d.id)}},prevEventHandler:function(n){var o=t.$keyboardNavigation.dispatcher.activeNode,i=n||o&&o.eventId,d=null;if(i&&t.getEvent(i)){var _=t.getEvent(i);d=t.$keyboardNavigation.SchedulerNode.prototype._pickEvent(t.date.add(_.end_date,-1,"year"),_.end_date,_.id,!0)}if(!d&&!n){var r=t.getState();d=t.$keyboardNavigation.SchedulerNode.prototype._pickEvent(t.date.add(r.max_date,-1,"year"),r.max_date,null,!0)}if(d){var s=new t.$keyboardNavigation.Event(d.id);s.isValid()?(o&&o.blur(),t.$keyboardNavigation.dispatcher.setActiveNode(s)):this.prevEventHandler(d.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(n){var o=t.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),i=n.key;i===void 0&&(i=n.keyCode-48),o[1*i-1]&&o[1*i-1].click()},"ctrl+left,meta+left":function(n){t._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(n){t._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(n){t.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(n){t.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){t.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){t.addEventNow({start_date:new Date(t.getState().date)})},"ctrl+c,meta+c":function(n){t._key_nav_copy_paste(n)},"ctrl+v,meta+v":function(n){t._key_nav_copy_paste(n)},"ctrl+x,meta+x":function(n){t._key_nav_copy_paste(n)}}}),t.$keyboardNavigation.SchedulerNode.prototype.bindAll(t.$keyboardNavigation.SchedulerNode.prototype.keys)}(e),function(t){t.$keyboardNavigation.KeyNavNode=function(){},t.$keyboardNavigation.KeyNavNode.prototype=t._compose(t.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(n){t.$keyboardNavigation.dispatcher.setActiveNode(n)},compareTo:function(n){if(!n)return!1;for(var o in this){if(!!this[o]!=!!n[o])return!1;var i=!(!this[o]||!this[o].toString),d=!(!n[o]||!n[o].toString);if(d!=i)return!1;if(d&&i){if(n[o].toString()!=this[o].toString())return!1}else if(n[o]!=this[o])return!1}return!0},getNode:function(){},focus:function(){var n=this.getNode();n&&(n.setAttribute("tabindex","-1"),n.focus&&n.focus())},blur:function(){var n=this.getNode();n&&n.setAttribute("tabindex","-1")}})}(e),function(t){t.$keyboardNavigation.HeaderCell=function(n){this.index=n||0},t.$keyboardNavigation.HeaderCell.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{getNode:function(n){n=n||this.index||0;var o=this.getNodes();if(o[n])return o[n]},getNodes:function(n){n=n||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var o=Array.prototype.slice.call(t.$container.querySelectorAll(n));return o.sort(function(i,d){return i.offsetLeft-d.offsetLeft}),o},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var n=this.getNode(0);return n||(n=new t.$keyboardNavigation.TimeSlot),n},keys:{left:function(){var n=this.index-1;n<0&&(n=this.getNodes().length-1),this.moveTo(new t.$keyboardNavigation.HeaderCell(n))},right:function(){var n=this.index+1;n>=this.getNodes().length&&(n=0),this.moveTo(new t.$keyboardNavigation.HeaderCell(n))},down:function(){this.moveTo(new t.$keyboardNavigation.TimeSlot)},enter:function(){var n=this.getNode();n&&n.click()}}}),t.$keyboardNavigation.HeaderCell.prototype.bindAll(t.$keyboardNavigation.HeaderCell.prototype.keys)}(e),function(t){t.$keyboardNavigation.Event=function(n){if(this.eventId=null,t.getEvent(n)){var o=t.getEvent(n);this.start=new Date(o.start_date),this.end=new Date(o.end_date),this.section=this._getSection(o),this.eventId=n}},t.$keyboardNavigation.Event.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(t.$container.querySelectorAll("["+t.config.event_attribute+"]"))},_modes:t.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:t.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!t.getEvent(this.eventId)||!this.getNode())},fallback:function(){var n=this._getNodes()[0],o=null;if(n&&t._locate_event(n)){var i=t._locate_event(n);o=new t.$keyboardNavigation.Event(i)}else o=new t.$keyboardNavigation.TimeSlot;return o},isScrolledIntoView:function(n){var o=n.getBoundingClientRect(),i=t.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(o.bottom<i.top||o.top>i.bottom)},getNode:function(){var n="["+t.config.event_attribute+"='"+this.eventId+"']",o=t.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(o)return o;if(t.isMultisectionEvent&&t.isMultisectionEvent(t.getEvent(this.eventId))){for(var i=t.$container.querySelectorAll(n),d=0;d<i.length;d++)if(this.isScrolledIntoView(i[d]))return i[d];return i[0]}return t.$container.querySelector(n)},focus:function(){var n=t.getEvent(this.eventId),o=t.getState();(n.start_date.valueOf()>o.max_date.valueOf()||n.end_date.valueOf()<=o.min_date.valueOf())&&t.setCurrentView(n.start_date);var i=this.getNode();this.isScrolledIntoView(i)?t.$keyboardNavigation.dispatcher.keepScrollPosition((function(){t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}).bind(this)):t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){t.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(n){var o=null,i=t.getState().mode;return t.matrix&&t.matrix[i]?o=n[t.matrix[t.getState().mode].y_property]:t._props&&t._props[i]&&(o=n[t._props[i].map_to]),o},_moveToSlot:function(n){var o=t.getEvent(this.eventId);if(o){var i=this._getSection(o),d=new t.$keyboardNavigation.TimeSlot(o.start_date,null,i);this.moveTo(d.nextSlot(d,n))}else this.moveTo(new t.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?t.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var n=this.getNode();n&&n.click?n.click():this.moveTo(new t.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?t.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){t.getEvent(this.eventId)?t._click.buttons.delete(this.eventId):this.moveTo(new t.$keyboardNavigation.TimeSlot)},enter:function(){t.getEvent(this.eventId)?t.showLightbox(this.eventId):this.moveTo(new t.$keyboardNavigation.TimeSlot)}}}),t.$keyboardNavigation.Event.prototype.bindAll(t.$keyboardNavigation.Event.prototype.keys)}(e),function(t){t.$keyboardNavigation.TimeSlot=function(n,o,i,d){var _=t.getState(),r=t.matrix&&t.matrix[_.mode];n||(n=this.getDefaultDate()),o||(o=r?t.date.add(n,r.x_step,r.x_unit):t.date.add(n,t.config.key_nav_step,"minute")),this.section=i||this._getDefaultSection(),this.start_date=new Date(n),this.end_date=new Date(o),this.movingDate=d||null},t.$keyboardNavigation.TimeSlot.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var n,o=t.getState(),i=new Date(o.date);i.setSeconds(0),i.setMilliseconds(0);var d=new Date;d.setSeconds(0),d.setMilliseconds(0);var _=t.matrix&&t.matrix[o.mode],r=!1;if(i.valueOf()===d.valueOf()&&(r=!0),_)r?(_.x_unit==="day"?(d.setHours(0),d.setMinutes(0)):_.x_unit==="hour"&&d.setMinutes(0),n=d):n=t.date[_.name+"_start"](new Date(o.date)),n=this.findVisibleColumn(n);else if(n=new Date(t.getState().min_date),r&&(n=d),n=this.findVisibleColumn(n),r||n.setHours(t.config.first_hour),!t._table_view){var s=t.$container.querySelector(".dhx_cal_data");s.scrollTop&&n.setHours(t.config.first_hour+Math.ceil(s.scrollTop/t.config.hour_size_px))}return n},clone:function(n){return new t.$keyboardNavigation.TimeSlot(n.start_date,n.end_date,n.section,n.movingDate)},_getMultisectionView:function(){var n,o=t.getState();return t._props&&t._props[o.mode]?n=t._props[o.mode]:t.matrix&&t.matrix[o.mode]&&(n=t.matrix[o.mode]),n},_getDefaultSection:function(){var n=null;return this._getMultisectionView()&&!n&&(n=this._getNextSection()),n},_getNextSection:function(n,o){var i=this._getMultisectionView(),d=i.order[n],_=d;(_=d!==void 0?d+o:i.size&&i.position?i.position:0)<0&&(_=0);var r=i.options||i.y_unit;return _>=r.length&&(_=r.length-1),r[_]?r[_].key:null},isValid:function(){var n=t.getState();if(this.start_date.valueOf()<n.min_date.valueOf()||this.start_date.valueOf()>=n.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var o=this._getMultisectionView();return!o||o.order[this.section]!==void 0},fallback:function(){var n=new t.$keyboardNavigation.TimeSlot;return n.isValid()?n:new t.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(t.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){this.section&&t.getView()&&t.getView().smart_rendering&&t.getView().scrollTo&&!t.$container.querySelector(`[data-section-id="${this.section}"]`)&&t.getView().scrollTo({section:this.section}),t.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),t.$keyboardNavigation._pasteDate=this.start_date,t.$keyboardNavigation._pasteSection=this.section},blur:function(){t.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),t.$keyboardNavigation.marker.clear()},_modes:t.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:t.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(n,o,i){var d;switch(o){case"up":d=t.date.add(n,-1,"week");break;case"down":d=t.date.add(n,1,"week");break;case"left":d=t.date.day_start(t.date.add(n,-1,"day")),d=this.findVisibleColumn(d,-1);break;case"right":d=t.date.day_start(t.date.add(n,1,"day")),d=this.findVisibleColumn(d,1);break;default:d=t.date.day_start(new Date(n))}var _=t.getState();return(n.valueOf()<_.min_date.valueOf()||!i&&n.valueOf()>=_.max_date.valueOf())&&(d=new Date(_.min_date)),d},nextMonthSlot:function(n,o,i){var d,_;return(d=this.addMonthDate(n.start_date,o,i)).setHours(t.config.first_hour),(_=new Date(d)).setHours(t.config.last_hour),{start_date:d,end_date:_}},_alignTimeSlot:function(n,o,i,d){for(var _=new Date(o);_.valueOf()<n.valueOf();)_=t.date.add(_,d,i);return _.valueOf()>n.valueOf()&&(_=t.date.add(_,-d,i)),_},nextTimelineSlot:function(n,o,i){var d=t.getState(),_=t.matrix[d.mode],r=this._alignTimeSlot(n.start_date,t.date[_.name+"_start"](new Date(n.start_date)),_.x_unit,_.x_step),s=this._alignTimeSlot(n.end_date,t.date[_.name+"_start"](new Date(n.end_date)),_.x_unit,_.x_step);s.valueOf()<=r.valueOf()&&(s=t.date.add(r,_.x_step,_.x_unit));var l=this.clone(n);switch(l.start_date=r,l.end_date=s,l.section=n.section||this._getNextSection(),o){case"up":l.section=this._getNextSection(n.section,-1);break;case"down":l.section=this._getNextSection(n.section,1);break;case"left":l.start_date=this.findVisibleColumn(t.date.add(l.start_date,-_.x_step,_.x_unit),-1),l.end_date=t.date.add(l.start_date,_.x_step,_.x_unit);break;case"right":l.start_date=this.findVisibleColumn(t.date.add(l.start_date,_.x_step,_.x_unit),1),l.end_date=t.date.add(l.start_date,_.x_step,_.x_unit)}return(l.start_date.valueOf()<d.min_date.valueOf()||l.start_date.valueOf()>=d.max_date.valueOf())&&(i&&l.start_date.valueOf()>=d.max_date.valueOf()?l.start_date=new Date(d.max_date):(l.start_date=t.date[d.mode+"_start"](t.date.add(d.date,o=="left"?-1:1,d.mode)),l.end_date=t.date.add(l.start_date,_.x_step,_.x_unit))),l},nextUnitsSlot:function(n,o,i){var d=this.clone(n);d.section=n.section||this._getNextSection();var _=n.section||this._getNextSection(),r=t.getState(),s=t._props[r.mode];switch(o){case"left":_=this._getNextSection(n.section,-1);var l=s.size?s.size-1:s.options.length;s.days>1&&s.order[_]==l-1&&t.date.add(n.start_date,-1,"day").valueOf()>=r.min_date.valueOf()&&(d=this.nextDaySlot(n,o,i));break;case"right":_=this._getNextSection(n.section,1),s.days>1&&!s.order[_]&&t.date.add(n.start_date,1,"day").valueOf()<r.max_date.valueOf()&&(d=this.nextDaySlot(n,o,i));break;default:d=this.nextDaySlot(n,o,i),_=n.section}return d.section=_,d},_moveDate:function(n,o){var i=this.findVisibleColumn(t.date.add(n,o,"day"),o);return i.setHours(n.getHours()),i.setMinutes(n.getMinutes()),i},isBeforeLastHour:function(n,o){var i=n.getMinutes(),d=n.getHours(),_=t.config.last_hour;return d<_||!o&&(_==24||d==_)&&!i},isAfterFirstHour:function(n,o){var i=n.getMinutes(),d=n.getHours(),_=t.config.first_hour,r=t.config.last_hour;return d>=_||!o&&!i&&(!d&&r==24||d==r)},isInVisibleDayTime:function(n,o){return this.isBeforeLastHour(n,o)&&this.isAfterFirstHour(n,o)},nextDaySlot:function(n,o,i){var d,_,r=t.config.key_nav_step,s=this._alignTimeSlot(n.start_date,t.date.day_start(new Date(n.start_date)),"minute",r),l=n.start_date;switch(o){case"up":if(d=t.date.add(s,-r,"minute"),!this.isInVisibleDayTime(d,!0)&&(!i||this.isInVisibleDayTime(l,!0))){var h=!0;i&&t.date.date_part(new Date(d)).valueOf()!=t.date.date_part(new Date(l)).valueOf()&&(h=!1),h&&(d=this.findVisibleColumn(t.date.add(n.start_date,-1,"day"),-1)),d.setHours(t.config.last_hour),d.setMinutes(0),d=t.date.add(d,-r,"minute")}_=t.date.add(d,r,"minute");break;case"down":d=t.date.add(s,r,"minute");var v=i?d:t.date.add(d,r,"minute");this.isInVisibleDayTime(v,!1)||i&&!this.isInVisibleDayTime(l,!1)||(i?(h=!0,t.date.date_part(new Date(l)).valueOf()==l.valueOf()&&(h=!1),h&&(d=this.findVisibleColumn(t.date.add(n.start_date,1,"day"),1)),d.setHours(t.config.first_hour),d.setMinutes(0),d=t.date.add(d,r,"minute")):((d=this.findVisibleColumn(t.date.add(n.start_date,1,"day"),1)).setHours(t.config.first_hour),d.setMinutes(0))),_=t.date.add(d,r,"minute");break;case"left":d=this._moveDate(n.start_date,-1),_=this._moveDate(n.end_date,-1);break;case"right":d=this._moveDate(n.start_date,1),_=this._moveDate(n.end_date,1);break;default:d=s,_=t.date.add(d,r,"minute")}return{start_date:d,end_date:_}},nextWeekAgendaSlot:function(n,o){var i,d,_=t.getState();switch(o){case"down":case"left":i=t.date.day_start(t.date.add(n.start_date,-1,"day")),i=this.findVisibleColumn(i,-1);break;case"up":case"right":i=t.date.day_start(t.date.add(n.start_date,1,"day")),i=this.findVisibleColumn(i,1);break;default:i=t.date.day_start(n.start_date)}return(n.start_date.valueOf()<_.min_date.valueOf()||n.start_date.valueOf()>=_.max_date.valueOf())&&(i=new Date(_.min_date)),(d=new Date(i)).setHours(t.config.last_hour),{start_date:i,end_date:d}},nextAgendaSlot:function(n,o){return{start_date:n.start_date,end_date:n.end_date}},isDateVisible:function(n){if(!t._ignores_detected)return!0;var o,i=t.matrix&&t.matrix[t.getState().mode];return o=i?t._get_date_index(i,n):t.locate_holder_day(n),!t._ignores[o]},findVisibleColumn:function(n,o){var i=n;o=o||1;for(var d=t.getState();!this.isDateVisible(i)&&(o>0&&i.valueOf()<=d.max_date.valueOf()||o<0&&i.valueOf()>=d.min_date.valueOf());)i=this.nextDateColumn(i,o);return i},nextDateColumn:function(n,o){o=o||1;var i=t.matrix&&t.matrix[t.getState().mode];return i?t.date.add(n,o*i.x_step,i.x_unit):t.date.day_start(t.date.add(n,o,"day"))},isVisible:function(n,o){if(!t._ignores_detected)return!0;for(var i=new Date(n);i.valueOf()<o.valueOf();){if(this.isDateVisible(i))return!0;i=this.nextDateColumn(i)}return!1},nextSlot:function(n,o,i,d){var _;i=i||this._getMode();var r=t.$keyboardNavigation.TimeSlot.prototype.clone(n);switch(i){case this._modes.units:_=this.nextUnitsSlot(r,o,d);break;case this._modes.timeline:_=this.nextTimelineSlot(r,o,d);break;case this._modes.year:case this._modes.month:_=this.nextMonthSlot(r,o,d);break;case this._modes.weekAgenda:_=this.nextWeekAgendaSlot(r,o,d);break;case this._modes.list:_=this.nextAgendaSlot(r,o,d);break;case this._modes.dayColumns:_=this.nextDaySlot(r,o,d)}return _.start_date.valueOf()>=_.end_date.valueOf()&&(_=this.nextSlot(_,o,i)),t.$keyboardNavigation.TimeSlot.prototype.clone(_)},extendSlot:function(n,o){var i;switch(this._getMode()){case this._modes.units:i=o=="left"||o=="right"?this.nextUnitsSlot(n,o):this.extendUnitsSlot(n,o);break;case this._modes.timeline:i=o=="down"||o=="up"?this.nextTimelineSlot(n,o):this.extendTimelineSlot(n,o);break;case this._modes.year:case this._modes.month:i=this.extendMonthSlot(n,o);break;case this._modes.dayColumns:i=this.extendDaySlot(n,o);break;case this._modes.weekAgenda:i=this.extendWeekAgendaSlot(n,o);break;default:i=n}var d=t.getState();return i.start_date.valueOf()<d.min_date.valueOf()&&(i.start_date=this.findVisibleColumn(d.min_date),i.start_date.setHours(t.config.first_hour)),i.end_date.valueOf()>d.max_date.valueOf()&&(i.end_date=this.findVisibleColumn(d.max_date,-1)),t.$keyboardNavigation.TimeSlot.prototype.clone(i)},extendTimelineSlot:function(n,o){return this.extendGenericSlot({left:"start_date",right:"end_date"},n,o,"timeline")},extendWeekAgendaSlot:function(n,o){return this.extendGenericSlot({left:"start_date",right:"end_date"},n,o,"weekAgenda")},extendGenericSlot:function(n,o,i,d){var _,r=o.movingDate;if(r||(r=n[i]),!r||!n[i])return o;if(!i)return t.$keyboardNavigation.TimeSlot.prototype.clone(o);(_=this.nextSlot({start_date:o[r],section:o.section},i,d,!0)).start_date.valueOf()==o.start_date.valueOf()&&(_=this.nextSlot({start_date:_.start_date,section:_.section},i,d,!0)),_.movingDate=r;var s=this.extendSlotDates(o,_,_.movingDate);return s.end_date.valueOf()<=s.start_date.valueOf()&&(_.movingDate=_.movingDate=="end_date"?"start_date":"end_date"),s=this.extendSlotDates(o,_,_.movingDate),_.start_date=s.start_date,_.end_date=s.end_date,_},extendSlotDates:function(n,o,i){var d={start_date:null,end_date:null};return i=="start_date"?(d.start_date=o.start_date,d.end_date=n.end_date):(d.start_date=n.start_date,d.end_date=o.start_date),d},extendMonthSlot:function(n,o){return(n=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},n,o,"month")).start_date.setHours(t.config.first_hour),n.end_date=t.date.add(n.end_date,-1,"day"),n.end_date.setHours(t.config.last_hour),n},extendUnitsSlot:function(n,o){var i;switch(o){case"down":case"up":i=this.extendDaySlot(n,o);break;default:i=n}return i.section=n.section,i},extendDaySlot:function(n,o){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},n,o,"dayColumns")},scrollSlot:function(n){var o=t.getState(),i=this.nextSlot(this,n);(i.start_date.valueOf()<o.min_date.valueOf()||i.start_date.valueOf()>=o.max_date.valueOf())&&t.setCurrentView(new Date(i.start_date)),this.moveTo(i)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?t.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?t.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var n={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},o=t.getState().mode;t.matrix&&t.matrix[o]?n[t.matrix[t.getState().mode].y_property]=this.section:t._props&&t._props[o]&&(n[t._props[o].map_to]=this.section),t.addEventNow(n)}}}),t.$keyboardNavigation.TimeSlot.prototype.bindAll(t.$keyboardNavigation.TimeSlot.prototype.keys)}(e),function(t){t.$keyboardNavigation.MinicalButton=function(n,o){this.container=n,this.index=o||0},t.$keyboardNavigation.MinicalButton.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var n=new t.$keyboardNavigation.TimeSlot;return n.isValid()?n:new t.$keyboardNavigation.DataArea},focus:function(){t.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),t.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(n){this.moveTo(new t.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(n){this.moveTo(new t.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var n=new t.$keyboardNavigation.MinicalCell(this.container,0,0);n&&!n.isValid()&&(n=n.fallback()),this.moveTo(n)},enter:function(n){this.getNode().click()}}}),t.$keyboardNavigation.MinicalButton.prototype.bindAll(t.$keyboardNavigation.MinicalButton.prototype.keys)}(e),function(t){t.$keyboardNavigation.MinicalCell=function(n,o,i){this.container=n,this.row=o||0,this.col=i||0},t.$keyboardNavigation.MinicalCell.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{isValid:function(){var n=this._getGrid();return!(!n[this.row]||!n[this.row][this.col])},fallback:function(){var n=this.row,o=this.col,i=this._getGrid();i[n]||(n=0);var d=!0;if(n>i.length/2&&(d=!1),!i[n]){var _=new t.$keyboardNavigation.TimeSlot;return _.isValid()?_:new t.$keyboardNavigation.DataArea}if(d){for(var r=o;i[n]&&r<i[n].length;r++)if(i[n][r]||r!=i[n].length-1||(n++,o=0),i[n][r])return new t.$keyboardNavigation.MinicalCell(this.container,n,r)}else for(r=o;i[n]&&r<i[n].length;r--)if(i[n][r]||r||(o=i[--n].length-1),i[n][r])return new t.$keyboardNavigation.MinicalCell(this.container,n,r);return new t.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){t.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),t.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),t.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(n,o){return this.container.querySelector(".dhx_year_body tr:nth-child("+(n+1)+") td:nth-child("+(o+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var n=this.container.querySelectorAll(".dhx_year_body tr"),o=[],i=0;i<n.length;i++){o[i]=[];for(var d=n[i].querySelectorAll("td"),_=0;_<d.length;_++){var r=d[_],s=!0,l=t._getClassName(r);(l.indexOf("dhx_after")>-1||l.indexOf("dhx_before")>-1||l.indexOf("dhx_scale_ignore")>-1)&&(s=!1),o[i][_]=s}}return o},keys:{right:function(n){var o=this._getGrid(),i=this.row,d=this.col+1;o[i]&&o[i][d]||(o[i+1]?(i+=1,d=0):d=this.col);var _=new t.$keyboardNavigation.MinicalCell(this.container,i,d);_.isValid()||(_=_.fallback()),this.moveTo(_)},left:function(n){var o=this._getGrid(),i=this.row,d=this.col-1;o[i]&&o[i][d]||(d=o[i-1]?o[i-=1].length-1:this.col);var _=new t.$keyboardNavigation.MinicalCell(this.container,i,d);_.isValid()||(_=_.fallback()),this.moveTo(_)},down:function(){var n=this._getGrid(),o=this.row+1,i=this.col;n[o]&&n[o][i]||(o=this.row);var d=new t.$keyboardNavigation.MinicalCell(this.container,o,i);d.isValid()||(d=d.fallback()),this.moveTo(d)},up:function(){var n=this._getGrid(),o=this.row-1,i=this.col;if(n[o]&&n[o][i]){var d=new t.$keyboardNavigation.MinicalCell(this.container,o,i);d.isValid()||(d=d.fallback()),this.moveTo(d)}else{var _=0;this.col>n[this.row].length/2&&(_=1),this.moveTo(new t.$keyboardNavigation.MinicalButton(this.container,_))}},enter:function(n){this.getNode().querySelector(".dhx_month_head").click()}}}),t.$keyboardNavigation.MinicalCell.prototype.bindAll(t.$keyboardNavigation.MinicalCell.prototype.keys)}(e),function(t){t.$keyboardNavigation.DataArea=function(n){this.index=n||0},t.$keyboardNavigation.DataArea.prototype=t._compose(t.$keyboardNavigation.KeyNavNode,{getNode:function(n){return t.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new t.$keyboardNavigation.TimeSlot)}}}),t.$keyboardNavigation.DataArea.prototype.bindAll(t.$keyboardNavigation.DataArea.prototype.keys)}(e),il(e),function(t){t.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new t.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(n){var o,i,d=t.$container.querySelector(".dhx_timeline_scrollable_data");d||(d=t.$container.querySelector(".dhx_cal_data")),d&&(o=d.scrollTop,i=d.scrollLeft),n(),d&&(d.scrollTop=o,d.scrollLeft=i)},enable:function(){if(t.$container){this.isActive=!0;var n=this;this.keepScrollPosition(function(){n.globalNode.enable(),n.setActiveNode(n.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var n=this.activeNode;return n&&!n.isValid()&&(n=n.fallback()),n},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(n){n&&n.isValid()&&(this.activeNode&&this.activeNode.compareTo(n)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=n,this.focusNode(this.activeNode)))},focusNode:function(n){n&&n.focus&&(n.focus(),n.getNode&&document.activeElement!=n.getNode()&&this.setActiveNode(new t.$keyboardNavigation.DataArea))},blurNode:function(n){n&&n.blur&&n.blur()},getInlineEditor:function(n){var o=t.$container.querySelector(".dhx_cal_editor["+t.config.event_attribute+"='"+n+"'] textarea");return o&&o.offsetWidth?o:null},keyDownHandler:function(n){if(!n.defaultPrevented){var o=this.getActiveNode();if((!t.$keyboardNavigation.isModal()||o&&o.container&&t.utils.dom.locateCss({target:o.container},"dhx_minical_popup",!1))&&(!t.getState().editor_id||!this.getInlineEditor(t.getState().editor_id))&&this.isEnabled()){n=n||window.event;var i=this.globalNode,d=t.$keyboardNavigation.shortcuts.getCommandFromEvent(n);o?o.findHandler(d)?o.doAction(d,n):i.findHandler(d)&&i.doAction(d,n):this.setDefaultNode()}}},_timeout:null,delay:function(n,o){clearTimeout(this._timeout),this._timeout=setTimeout(n,o||1)}}}(e),ol(e),function(){sl(e),function(_){_.$keyboardNavigation._minicalendars=[],_.$keyboardNavigation.isMinical=function(r){for(var s=_.$keyboardNavigation._minicalendars,l=0;l<s.length;l++)if(this.isChildOf(r,s[l]))return!0;return!1},_.$keyboardNavigation.isChildOf=function(r,s){for(;r&&r!==s;)r=r.parentNode;return r===s},_.$keyboardNavigation.patchMinicalendar=function(){var r=_.$keyboardNavigation.dispatcher;function s(g){var f=g.target;r.enable(),r.setActiveNode(new _.$keyboardNavigation.MinicalButton(f,0))}function l(g){var f=g.target||g.srcElement,u=_.utils.dom.locateCss(g,"dhx_cal_prev_button",!1),m=_.utils.dom.locateCss(g,"dhx_cal_next_button",!1),c=_.utils.dom.locateCss(g,"dhx_year_body",!1),p=0,y=0;if(c){for(var b,x,k=f;k&&k.tagName.toLowerCase()!="td";)k=k.parentNode;if(k&&(b=(x=k).parentNode),b&&x){for(var w=b.parentNode.querySelectorAll("tr"),E=0;E<w.length;E++)if(w[E]==b){p=E;break}var S=b.querySelectorAll("td");for(E=0;E<S.length;E++)if(S[E]==x){y=E;break}}}var D=g.currentTarget;r.delay(function(){var M;(u||m||c)&&(u?(M=new _.$keyboardNavigation.MinicalButton(D,0),r.setActiveNode(new _.$keyboardNavigation.MinicalButton(D,0))):m?M=new _.$keyboardNavigation.MinicalButton(D,1):c&&(M=new _.$keyboardNavigation.MinicalCell(D,p,y)),M&&(r.enable(),M.isValid()&&(r.activeNode=null,r.setActiveNode(M))))})}if(_.renderCalendar){var h=_.renderCalendar;_.renderCalendar=function(){var g=h.apply(this,arguments),f=_.$keyboardNavigation._minicalendars;_.eventRemove(g,"click",l),_.event(g,"click",l),_.eventRemove(g,"focus",s),_.event(g,"focus",s);for(var u=!1,m=0;m<f.length;m++)if(f[m]==g){u=!0;break}if(u||f.push(g),r.isEnabled()){var c=r.getActiveNode();c&&c.container==g?r.focusNode(c):g.setAttribute("tabindex","0")}else g.setAttribute("tabindex","0");return g}}if(_.destroyCalendar){var v=_.destroyCalendar;_.destroyCalendar=function(g,f){g=g||(_._def_count?_._def_count.firstChild:null);var u=v.apply(this,arguments);if(!g||!g.parentNode)for(var m=_.$keyboardNavigation._minicalendars,c=0;c<m.length;c++)m[c]==g&&(_.eventRemove(m[c],"focus",s),m.splice(c,1),c--);return u}}}}(e);var t=e.$keyboardNavigation.dispatcher;if(e.$keyboardNavigation.attachSchedulerHandlers(),e.renderCalendar)e.$keyboardNavigation.patchMinicalendar();else var n=e.attachEvent("onSchedulerReady",function(){e.detachEvent(n),e.$keyboardNavigation.patchMinicalendar()});function o(){if(e.config.key_nav){var _=document.activeElement;return!(!_||e.utils.dom.locateCss(_,"dhx_cal_quick_info",!1))&&(e.$keyboardNavigation.isChildOf(_,e.$container)||e.$keyboardNavigation.isMinical(_))}}function i(_){_&&!t.isEnabled()?t.enable():!_&&t.isEnabled()&&t.disable()}const d=setInterval(function(){if(e.$container&&e.$keyboardNavigation.isChildOf(e.$container,document.body)){var _=o();_?i(_):!_&&t.isEnabled()&&setTimeout(function(){e.$destroyed||(e.config.key_nav?i(o()):e.$container.removeAttribute("tabindex"))},100)}},500);e.attachEvent("onDestroy",function(){clearInterval(d)})}()},layer:function(e){e.attachEvent("onTemplatesReady",function(){this.layers.sort(function(t,n){return t.zIndex-n.zIndex}),e._dp_init=function(t){t._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(n){!this._loading&&this.validId(n)&&this.getEvent(n)&&this.getEvent(n).layer==t.layer&&t.setUpdated(n,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(n){if(this.getEvent(n)&&this.getEvent(n).layer==t.layer){if(!this.validId(n))return;var o=t.getState(n);return o=="inserted"||this._new_event?(t.setUpdated(n,!1),!0):o!="deleted"&&(o=="true_deleted"||(t.setUpdated(n,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(n){!this._loading&&this.validId(n)&&this.getEvent(n)&&this.getEvent(n).layer==t.layer&&t.setUpdated(n,!0,"updated")}),t._getRowData=function(n,o){var i=this.obj.getEvent(n),d={};for(var _ in i)_.indexOf("_")!==0&&(i[_]&&i[_].getUTCFullYear?d[_]=this.obj._helpers.formatDate(i[_]):d[_]=i[_]);return d},t._clearUpdateFlag=function(){},t.attachEvent("insertCallback",e._update_callback),t.attachEvent("updateCallback",e._update_callback),t.attachEvent("deleteCallback",function(n,o){this.obj.setUserData(o,this.action_param,"true_deleted"),this.obj.deleteEvent(o)})},function(){var t=function(i){if(i===null||typeof i!="object")return i;var d=new i.constructor;for(var _ in i)d[_]=t(i[_]);return d};e._dataprocessors=[],e._layers_zindex={};for(var n=0;n<e.layers.length;n++){if(e.config["lightbox_"+e.layers[n].name]={},e.config["lightbox_"+e.layers[n].name].sections=t(e.config.lightbox.sections),e._layers_zindex[e.layers[n].name]=e.config.initial_layer_zindex||5+3*n,e.layers[n].url){var o=e.createDataProcessor({url:e.layers[n].url});o.layer=e.layers[n].name,e._dataprocessors.push(o),e._dataprocessors[n].init(e)}e.layers[n].isDefault&&(e.defaultLayer=e.layers[n].name)}}(),e.showLayer=function(t){this.toggleLayer(t,!0)},e.hideLayer=function(t){this.toggleLayer(t,!1)},e.toggleLayer=function(t,n){var o=this.getLayer(t);o.visible=n!==void 0?!!n:!o.visible,this.setCurrentView(this._date,this._mode)},e.getLayer=function(t){var n,o;typeof t=="string"&&(o=t),typeof t=="object"&&(o=t.layer);for(var i=0;i<e.layers.length;i++)e.layers[i].name==o&&(n=e.layers[i]);return n},e.attachEvent("onBeforeLightbox",function(t){var n=this.getEvent(t);return this.config.lightbox.sections=this.config["lightbox_"+n.layer].sections,e.resetLightbox(),!0}),e.attachEvent("onClick",function(t,n){var o=e.getEvent(t);return!e.getLayer(o.layer).noMenu}),e.attachEvent("onEventCollision",function(t,n){var o=this.getLayer(t);if(!o.checkCollision)return!1;for(var i=0,d=0;d<n.length;d++)n[d].layer==o.name&&n[d].id!=t.id&&i++;return i>=e.config.collision_limit}),e.addEvent=function(t,n,o,i,d){var _=t;arguments.length!=1&&((_=d||{}).start_date=t,_.end_date=n,_.text=o,_.id=i,_.layer=this.defaultLayer),_.id=_.id||e.uid(),_.text=_.text||"",typeof _.start_date=="string"&&(_.start_date=this.templates.api_date(_.start_date)),typeof _.end_date=="string"&&(_.end_date=this.templates.api_date(_.end_date)),_._timed=this.isOneDayEvent(_);var r=!this._events[_.id];this._events[_.id]=_,this.event_updated(_),this._loading||this.callEvent(r?"onEventAdded":"onEventChanged",[_.id,_])},this._evs_layer={};for(var a=0;a<this.layers.length;a++)this._evs_layer[this.layers[a].name]=[];e.addEventNow=function(t,n,o){var i={};typeof t=="object"&&(i=t,t=null);var d=6e4*(this.config.event_duration||this.config.time_step);t||(t=Math.round(e._currentDate().valueOf()/d)*d);var _=new Date(t);if(!n){var r=this.config.first_hour;r>_.getHours()&&(_.setHours(r),t=_.valueOf()),n=t+d}i.start_date=i.start_date||_,i.end_date=i.end_date||new Date(n),i.text=i.text||this.locale.labels.new_event,i.id=this._drag_id=this.uid(),i.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(i),this.callEvent("onEventCreated",[this._drag_id,o]),this._loading=!1,this._drag_event={},this._on_mouse_up(o)},e._t_render_view_data=function(t){if(this.config.multi_day&&!this._table_view){for(var n=[],o=[],i=0;i<t.length;i++)t[i]._timed?n.push(t[i]):o.push(t[i]);this._table_view=!0,this.render_data(o),this._table_view=!1,this.render_data(n)}else this.render_data(t)},e.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var t=0;t<this.layers.length;t++)this._evs_layer[this.layers[t].name]=[];var n=this.get_visible_events();for(t=0;t<n.length;t++)this._evs_layer[n[t].layer]&&this._evs_layer[n[t].layer].push(n[t]);if(this._mode=="month"){var o=[];for(t=0;t<this.layers.length;t++)this.layers[t].visible&&(o=o.concat(this._evs_layer[this.layers[t].name]));this._t_render_view_data(o)}else for(t=0;t<this.layers.length;t++)if(this.layers[t].visible){var i=this._evs_layer[this.layers[t].name];this._t_render_view_data(i)}}},e._render_v_bar=function(t,n,o,i,d,_,r,s,l){var h=t.id;r.indexOf("<div class=")==-1&&(r=e.templates["event_header_"+t.layer]?e.templates["event_header_"+t.layer](t.start_date,t.end_date,t):r),s.indexOf("<div class=")==-1&&(s=e.templates["event_text_"+t.layer]?e.templates["event_text_"+t.layer](t.start_date,t.end_date,t):s);var v=document.createElement("div"),g="dhx_cal_event",f=e.templates["event_class_"+t.layer]?e.templates["event_class_"+t.layer](t.start_date,t.end_date,t):e.templates.event_class(t.start_date,t.end_date,t);f&&(g=g+" "+f);var u=e._border_box_events(),m=i-2,c=u?m:i-4,p=u?m:i-6,y=u?m:i-14,b=u?m-2:i-8,x=u?d-this.xy.event_header_height:d-30+1,k='<div event_id="'+h+'" '+e.config.event_attribute+'="'+h+'" class="'+g+'" style="position:absolute; top:'+o+"px; left:"+n+"px; width:"+c+"px; height:"+d+"px;"+(_||"")+'">';return k+='<div class="dhx_header" style=" width:'+p+'px;" >&nbsp;</div>',k+='<div class="dhx_title">'+r+"</div>",k+='<div class="dhx_body" style=" width:'+y+"px; height:"+x+'px;">'+s+"</div>",k+='<div class="dhx_footer" style=" width:'+b+"px;"+(l?" margin-top:-1px;":"")+'" ></div></div>',v.innerHTML=k,v.style.zIndex=100,v.firstChild},e.render_event_bar=function(t){var n=this._els.dhx_cal_data[0],o=this._colsS[t._sday],i=this._colsS[t._eday];i==o&&(i=this._colsS[t._eday+1]);var d=this.xy.bar_height,_=this._colsS.heights[t._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+t._sorder*d,r=document.createElement("div"),s=t._timed?"dhx_cal_event_clear":"dhx_cal_event_line",l=e.templates["event_class_"+t.layer]?e.templates["event_class_"+t.layer](t.start_date,t.end_date,t):e.templates.event_class(t.start_date,t.end_date,t);l&&(s=s+" "+l);var h='<div event_id="'+t.id+'" '+this.config.event_attribute+'="'+t.id+'" class="'+s+'" style="position:absolute; top:'+_+"px; left:"+o+"px; width:"+(i-o-15)+"px;"+(t._text_style||"")+'">';t._timed&&(h+=e.templates["event_bar_date_"+t.layer]?e.templates["event_bar_date_"+t.layer](t.start_date,t.end_date,t):e.templates.event_bar_date(t.start_date,t.end_date,t)),h+=e.templates["event_bar_text_"+t.layer]?e.templates["event_bar_text_"+t.layer](t.start_date,t.end_date,t):e.templates.event_bar_text(t.start_date,t.end_date,t)+"</div>)",h+="</div>",r.innerHTML=h,this._rendered.push(r.firstChild),n.appendChild(r.firstChild)},e.render_event=function(t){var n=e.xy.menu_width;if(e.getLayer(t.layer).noMenu&&(n=0),!(t._sday<0)){var o=e.locate_holder(t._sday);if(o){var i=60*t.start_date.getHours()+t.start_date.getMinutes(),d=60*t.end_date.getHours()+t.end_date.getMinutes()||60*e.config.last_hour,_=Math.round((60*i*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,r=Math.max(e.xy.min_event_height,(d-i)*this.config.hour_size_px/60)+1,s=Math.floor((o.clientWidth-n)/t._count),l=t._sorder*s+1;t._inner||(s*=t._count-t._sorder);var h=this._render_v_bar(t.id,n+l,_,s,r,t._text_style,e.templates.event_header(t.start_date,t.end_date,t),e.templates.event_text(t.start_date,t.end_date,t));if(this._rendered.push(h),o.appendChild(h),l=l+parseInt(o.style.left,10)+n,_+=this._dy_shift,h.style.zIndex=this._layers_zindex[t.layer],this._edit_id==t.id){h.style.zIndex=parseInt(h.style.zIndex)+1;var v=h.style.zIndex;s=Math.max(s-4,e.xy.editor_width),(h=document.createElement("div")).setAttribute("event_id",t.id),h.setAttribute(this.config.event_attribute,t.id),this.set_xy(h,s,r-20,l,_+14),h.className="dhx_cal_editor",h.style.zIndex=v;var g=document.createElement("div");this.set_xy(g,s-6,r-26),g.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",g.style.zIndex=v,h.appendChild(g),this._els.dhx_cal_data[0].appendChild(h),this._rendered.push(h),g.innerHTML="<textarea class='dhx_cal_editor'>"+t.text+"</textarea>",this._editor=g.firstChild,this._editor.addEventListener("keypress",function(p){if(p.shiftKey)return!0;var y=p.keyCode;y==e.keys.edit_save&&e.editStop(!0),y==e.keys.edit_cancel&&e.editStop(!1)}),this._editor.addEventListener("selectstart",function(p){return p.cancelBubble=!0,!0}),g.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,g.firstChild.select()}if(this._select_id==t.id){h.style.zIndex=parseInt(h.style.zIndex)+1;for(var f=this.config["icons_"+(this._edit_id==t.id?"edit":"select")],u="",m=0;m<f.length;m++)u+="<div class='dhx_menu_icon "+f[m]+"' title='"+this.locale.labels[f[m]]+"'></div>";var c=this._render_v_bar(t.id,l-n+1,_,n,20*f.length+26,"","<div class='dhx_menu_head'></div>",u,!0);c.style.left=l-n+1,c.style.zIndex=h.style.zIndex,this._els.dhx_cal_data[0].appendChild(c),this._rendered.push(c)}}}},e.filter_agenda=function(t,n){var o=e.getLayer(n.layer);return o&&o.visible}})},legacy:function(e){(function(){G.dhtmlx||(G.dhtmlx=function(r){for(var s in r)a[s]=r[s];return a});let a=G.dhtmlx;function t(r,s,l,h){return this.xmlDoc="",this.async=l===void 0||l,this.onloadAction=r||null,this.mainObject=s||null,this.waitCall=null,this.rSeed=h||!1,this}function n(){return G.dhtmlDragAndDrop?G.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,G.dhtmlDragAndDrop=this,this)}a.extend_api=function(r,s,l){var h=G[r];h&&(G[r]=function(v){var g;if(v&&typeof v=="object"&&!v.tagName){for(var f in g=h.apply(this,s._init?s._init(v):arguments),a)s[f]&&this[s[f]](a[f]);for(var f in v)s[f]?this[s[f]](v[f]):f.indexOf("on")===0&&this.attachEvent(f,v[f])}else g=h.apply(this,arguments);return s._patch&&s._patch(this),g||this},G[r].prototype=h.prototype,l&&function(v,g){for(var f in g)typeof g[f]=="function"&&(v[f]=g[f])}(G[r].prototype,l))},G.dhtmlxAjax={get:function(r,s){var l=new t(!0);return l.async=arguments.length<3,l.waitCall=s,l.loadXML(r),l},post:function(r,s,l){var h=new t(!0);return h.async=arguments.length<4,h.waitCall=l,h.loadXML(r,!0,s),h},getSync:function(r){return this.get(r,null,!0)},postSync:function(r,s){return this.post(r,s,null,!0)}},G.dtmlXMLLoaderObject=t,t.count=0,t.prototype.waitLoadFunction=function(r){var s=!0;return this.check=function(){if(r&&r.onloadAction&&(!r.xmlDoc.readyState||r.xmlDoc.readyState==4)){if(!s)return;s=!1,t.count++,typeof r.onloadAction=="function"&&r.onloadAction(r.mainObject,null,null,null,r),r.waitCall&&(r.waitCall.call(this,r),r.waitCall=null)}},this.check},t.prototype.getXMLTopNode=function(r,s){var l;if(this.xmlDoc.responseXML){if((h=this.xmlDoc.responseXML.getElementsByTagName(r)).length===0&&r.indexOf(":")!=-1)var h=this.xmlDoc.responseXML.getElementsByTagName(r.split(":")[1]);l=h[0]}else l=this.xmlDoc.documentElement;return l?(this._retry=!1,l):!this._retry&&i?(this._retry=!0,s=this.xmlDoc,this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(r,s)):(dhtmlxError.throwError("LoadXML","Incorrect XML",[s||this.xmlDoc,this.mainObject]),document.createElement("div"))},t.prototype.loadXMLString=function(r,s){if(i)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(r);else{var l=new DOMParser;this.xmlDoc=l.parseFromString(r,"text/xml")}s||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},t.prototype.loadXML=function(r,s,l,h){this.rSeed&&(r+=(r.indexOf("?")!=-1?"&":"?")+"a_dhx_rSeed="+new Date().valueOf()),this.filePath=r,!i&&G.XMLHttpRequest?this.xmlDoc=new XMLHttpRequest:this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),typeof s=="string"?this.xmlDoc.open(s,r,this.async):this.xmlDoc.open(s?"POST":"GET",r,this.async),h?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):s&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(l),this.async||new this.waitLoadFunction(this)()},t.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null,null},t.prototype.xmlNodeToJSON=function(r){for(var s={},l=0;l<r.attributes.length;l++)s[r.attributes[l].name]=r.attributes[l].value;for(s._tagvalue=r.firstChild?r.firstChild.nodeValue:"",l=0;l<r.childNodes.length;l++){var h=r.childNodes[l].tagName;h&&(s[h]||(s[h]=[]),s[h].push(this.xmlNodeToJSON(r.childNodes[l])))}return s},G.dhtmlDragAndDropObject=n,n.prototype.removeDraggableItem=function(r){r.onmousedown=null,r.dragStarter=null,r.dragLanding=null},n.prototype.addDraggableItem=function(r,s){r.onmousedown=this.preCreateDragCopy,r.dragStarter=s,this.addDragLanding(r,s)},n.prototype.addDragLanding=function(r,s){r.dragLanding=s},n.prototype.preCreateDragCopy=function(r){if(!r&&!G.event||(r||event).button!=2)return G.dhtmlDragAndDrop.waitDrag?(G.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=G.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=G.dhtmlDragAndDrop.tempDOMM,!1):(G.dhtmlDragAndDrop.dragNode&&G.dhtmlDragAndDrop.stopDrag(r),G.dhtmlDragAndDrop.waitDrag=1,G.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,G.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,G.dhtmlDragAndDrop.dragStartNode=this,G.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=G.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=G.dhtmlDragAndDrop.callDrag,G.dhtmlDragAndDrop.downtime=new Date().valueOf(),!(!r||!r.preventDefault||(r.preventDefault(),1)))},n.prototype.callDrag=function(r){r||(r=G.event);var s=G.dhtmlDragAndDrop;if(!(new Date().valueOf()-s.downtime<100)){if(!s.dragNode){if(!s.waitDrag)return s.stopDrag(r,!0);if(s.dragNode=s.dragStartObject._createDragNode(s.dragStartNode,r),!s.dragNode)return s.stopDrag();s.dragNode.onselectstart=function(){return!1},s.gldragNode=s.dragNode,document.body.appendChild(s.dragNode),document.body.onmouseup=s.stopDrag,s.waitDrag=0,s.dragNode.pWindow=G,s.initFrameRoute()}if(s.dragNode.parentNode!=G.document.body&&s.gldragNode){var l=s.gldragNode;s.gldragNode.old&&(l=s.gldragNode.old),l.parentNode.removeChild(l);var h=s.dragNode.pWindow;if(l.pWindow&&l.pWindow.dhtmlDragAndDrop.lastLanding&&l.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(l.pWindow.dhtmlDragAndDrop.lastLanding),i){var v=document.createElement("div");v.innerHTML=s.dragNode.outerHTML,s.dragNode=v.childNodes[0]}else s.dragNode=s.dragNode.cloneNode(!0);s.dragNode.pWindow=G,s.gldragNode.old=s.dragNode,document.body.appendChild(s.dragNode),h.dhtmlDragAndDrop.dragNode=s.dragNode}var g;s.dragNode.style.left=r.clientX+15+(s.fx?-1*s.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",s.dragNode.style.top=r.clientY+3+(s.fy?-1*s.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",g=r.srcElement?r.srcElement:r.target,s.checkLanding(g,r)}},n.prototype.calculateFramePosition=function(r){if(G.name){for(var s=parent.frames[G.name].frameElement.offsetParent,l=0,h=0;s;)l+=s.offsetLeft,h+=s.offsetTop,s=s.offsetParent;if(parent.dhtmlDragAndDrop){var v=parent.dhtmlDragAndDrop.calculateFramePosition(1);l+=1*v.split("_")[0],h+=1*v.split("_")[1]}if(r)return l+"_"+h;this.fx=l,this.fy=h}return"0_0"},n.prototype.checkLanding=function(r,s){r&&r.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=r,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,s.clientX,s.clientY,s),this.lastLanding_scr=i?s.srcElement:s.target):r&&r.tagName!="BODY"?this.checkLanding(r.parentNode,s):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,s.clientX,s.clientY,s),this.lastLanding=0,this._onNotFound&&this._onNotFound())},n.prototype.stopDrag=function(r,s){var l=G.dhtmlDragAndDrop;if(!s){l.stopFrameRoute();var h=l.lastLanding;l.lastLanding=null,h&&h.dragLanding._drag(l.dragStartNode,l.dragStartObject,h,i?event.srcElement:r.target)}l.lastLanding=null,l.dragNode&&l.dragNode.parentNode==document.body&&l.dragNode.parentNode.removeChild(l.dragNode),l.dragNode=0,l.gldragNode=0,l.fx=0,l.fy=0,l.dragStartNode=0,l.dragStartObject=0,document.body.onmouseup=l.tempDOMU,document.body.onmousemove=l.tempDOMM,l.tempDOMU=null,l.tempDOMM=null,l.waitDrag=0},n.prototype.stopFrameRoute=function(r){r&&G.dhtmlDragAndDrop.stopDrag(1,1);for(var s=0;s<G.frames.length;s++)try{G.frames[s]!=r&&G.frames[s].dhtmlDragAndDrop&&G.frames[s].dhtmlDragAndDrop.stopFrameRoute(G)}catch{}try{parent.dhtmlDragAndDrop&&parent!=G&&parent!=r&&parent.dhtmlDragAndDrop.stopFrameRoute(G)}catch{}},n.prototype.initFrameRoute=function(r,s){r&&(G.dhtmlDragAndDrop.preCreateDragCopy(),G.dhtmlDragAndDrop.dragStartNode=r.dhtmlDragAndDrop.dragStartNode,G.dhtmlDragAndDrop.dragStartObject=r.dhtmlDragAndDrop.dragStartObject,G.dhtmlDragAndDrop.dragNode=r.dhtmlDragAndDrop.dragNode,G.dhtmlDragAndDrop.gldragNode=r.dhtmlDragAndDrop.dragNode,G.document.body.onmouseup=G.dhtmlDragAndDrop.stopDrag,G.waitDrag=0,!i&&s&&(!o||_<1.8)&&G.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=G&&parent!=r&&parent.dhtmlDragAndDrop.initFrameRoute(G)}catch{}for(var l=0;l<G.frames.length;l++)try{G.frames[l]!=r&&G.frames[l].dhtmlDragAndDrop&&G.frames[l].dhtmlDragAndDrop.initFrameRoute(G,!r||s?1:0)}catch{}};var o=!1,i=!1,d=!1,_=!1;navigator.userAgent.indexOf("Macintosh"),navigator.userAgent.toLowerCase().indexOf("chrome"),navigator.userAgent.indexOf("Safari")!=-1||navigator.userAgent.indexOf("Konqueror")!=-1?parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5))>525?(o=!0,_=1.9):d=!0:navigator.userAgent.indexOf("Opera")!=-1?parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3)):navigator.appName.indexOf("Microsoft")!=-1?(i=!0,navigator.appVersion.indexOf("MSIE 8.0")==-1&&navigator.appVersion.indexOf("MSIE 9.0")==-1&&navigator.appVersion.indexOf("MSIE 10.0")==-1||document.compatMode=="BackCompat"||(i=8)):navigator.appName=="Netscape"&&navigator.userAgent.indexOf("Trident")!=-1?i=8:(o=!0,_=parseFloat(navigator.userAgent.split("rv:")[1])),t.prototype.doXPath=function(r,s,l,h){if(d||!i&&!G.XPathResult)return this.doXPathOpera(r,s);if(i)return s||(s=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),s||dhtmlxError.throwError("LoadXML","Incorrect XML",[s||this.xmlDoc,this.mainObject]),l&&s.setProperty("SelectionNamespaces","xmlns:xsl='"+l+"'"),h=="single"?s.selectSingleNode(r):s.selectNodes(r)||new Array(0);var v=s;s||(s=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),s||dhtmlxError.throwError("LoadXML","Incorrect XML",[s||this.xmlDoc,this.mainObject]),s.nodeName.indexOf("document")!=-1?v=s:(v=s,s=s.ownerDocument);var g=XPathResult.ANY_TYPE;h=="single"&&(g=XPathResult.FIRST_ORDERED_NODE_TYPE);var f=[],u=s.evaluate(r,v,function(c){return l},g,null);if(g==XPathResult.FIRST_ORDERED_NODE_TYPE)return u.singleNodeValue;for(var m=u.iterateNext();m;)f[f.length]=m,m=u.iterateNext();return f},G.dhtmlxError=new An,t.prototype.doXPathOpera=function(r,s){var l=r.replace(/[\/]+/gi,"/").split("/"),h=null,v=1;if(!l.length)return[];if(l[0]==".")h=[s];else{if(l[0]!=="")return[];h=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(l[v].replace(/\[[^\]]*\]/g,"")),v++}for(;v<l.length;v++)h=this._getAllNamedChilds(h,l[v]);return l[v-1].indexOf("[")!=-1&&(h=this._filterXPath(h,l[v-1])),h},t.prototype._filterXPath=function(r,s){for(var l=[],h=(s=s.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),0);h<r.length;h++)r[h].getAttribute(s)&&(l[l.length]=r[h]);return l},t.prototype._getAllNamedChilds=function(r,s){var l=[];d&&(s=s.toUpperCase());for(var h=0;h<r.length;h++)for(var v=0;v<r[h].childNodes.length;v++)d?r[h].childNodes[v].tagName&&r[h].childNodes[v].tagName.toUpperCase()==s&&(l[l.length]=r[h].childNodes[v]):r[h].childNodes[v].tagName==s&&(l[l.length]=r[h].childNodes[v]);return l},G.dhtmlxEvent===void 0&&(G.dhtmlxEvent=function(r,s,l){r.addEventListener?r.addEventListener(s,l,!1):r.attachEvent&&r.attachEvent("on"+s,l)}),t.prototype.xslDoc=null,t.prototype.setXSLParamValue=function(r,s,l){l||(l=this.xslDoc),l.responseXML&&(l=l.responseXML);var h=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+r+"']",l,"http://www.w3.org/1999/XSL/Transform","single");h&&(h.firstChild.nodeValue=s)},t.prototype.doXSLTransToObject=function(r,s){var l;if(r||(r=this.xslDoc),r.responseXML&&(r=r.responseXML),s||(s=this.xmlDoc),s.responseXML&&(s=s.responseXML),i){l=new ActiveXObject("Msxml2.DOMDocument.3.0");try{s.transformNodeToObject(r,l)}catch{l=s.transformNode(r)}}else this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(r)),l=this.XSLProcessor.transformToDocument(s);return l},t.prototype.doXSLTransToString=function(r,s){var l=this.doXSLTransToObject(r,s);return typeof l=="string"?l:this.doSerialization(l)},t.prototype.doSerialization=function(r){return r||(r=this.xmlDoc),r.responseXML&&(r=r.responseXML),i?r.xml:new XMLSerializer().serializeToString(r)},G.dhtmlxEventable=function(r){r.attachEvent=function(s,l,h){return this[s="ev_"+s.toLowerCase()]||(this[s]=new this.eventCatcher(h||this)),s+":"+this[s].addEvent(l)},r.callEvent=function(s,l){return!this[s="ev_"+s.toLowerCase()]||this[s].apply(this,l)},r.checkEvent=function(s){return!!this["ev_"+s.toLowerCase()]},r.eventCatcher=function(s){var l=[],h=function(){for(var v=!0,g=0;g<l.length;g++)if(l[g]){var f=l[g].apply(s,arguments);v=v&&f}return v};return h.addEvent=function(v){if(typeof v!="function")throw new Error(`Invalid argument addEvent(${v})`);return!!v&&l.push(v)-1},h.removeEvent=function(v){l[v]=null},h},r.detachEvent=function(s){if(s){var l=s.split(":");this[l[0]].removeEvent(l[1])}},r.detachAllEvents=function(){for(var s in this)s.indexOf("ev_")===0&&(this.detachEvent(s),this[s]=null)},r=null}})()},limit:function(e){e.config.limit_start=null,e.config.limit_end=null,e.config.limit_view=!1,e.config.check_limits=!0,e._temp_limit_scope=function(){var a=null;e.attachEvent("onBeforeViewChange",function(t,n,o,i){function d(_,r){var s=e.config.limit_start,l=e.config.limit_end,h=e.date.add(_,1,r);return _.valueOf()>l.valueOf()||h<=s.valueOf()}return!e.config.limit_view||!d(i=i||n,o=o||t)||n.valueOf()==i.valueOf()||(setTimeout(function(){if(e.$destroyed)return!0;var _=d(n,o)?e.config.limit_start:n;e.setCurrentView(d(_,o)?null:_,o)},1),!1)}),e.attachEvent("onMouseDown",function(t){return t!="dhx_time_block"}),e.attachEvent("onBeforeDrag",function(t){return!t||e.checkLimitViolation(e.getEvent(t))}),e.attachEvent("onClick",function(t,n){return e.checkLimitViolation(e.getEvent(t))}),e.attachEvent("onBeforeLightbox",function(t){var n=e.getEvent(t);return a=[n.start_date,n.end_date],e.checkLimitViolation(n)}),e.attachEvent("onEventSave",function(t,n,o){if(!n.start_date||!n.end_date){var i=e.getEvent(t);n.start_date=new Date(i.start_date),n.end_date=new Date(i.end_date)}if(n.rec_type){var d=e._lame_clone(n);return e._roll_back_dates(d),e.checkLimitViolation(d)}return e.checkLimitViolation(n)}),e.attachEvent("onEventAdded",function(t){if(!t)return!0;var n=e.getEvent(t);return!e.checkLimitViolation(n)&&e.config.limit_start&&e.config.limit_end&&(n.start_date<e.config.limit_start&&(n.start_date=new Date(e.config.limit_start)),n.start_date.valueOf()>=e.config.limit_end.valueOf()&&(n.start_date=this.date.add(e.config.limit_end,-1,"day")),n.end_date<e.config.limit_start&&(n.end_date=new Date(e.config.limit_start)),n.end_date.valueOf()>=e.config.limit_end.valueOf()&&(n.end_date=this.date.add(e.config.limit_end,-1,"day")),n.start_date.valueOf()>=n.end_date.valueOf()&&(n.end_date=this.date.add(n.start_date,this.config.event_duration||this.config.time_step,"minute")),n._timed=this.isOneDayEvent(n)),!0}),e.attachEvent("onEventChanged",function(t){if(!t)return!0;var n=e.getEvent(t);if(!e.checkLimitViolation(n)){if(!a)return!1;n.start_date=a[0],n.end_date=a[1],n._timed=this.isOneDayEvent(n)}return!0}),e.attachEvent("onBeforeEventChanged",function(t,n,o){return e.checkLimitViolation(t)}),e.attachEvent("onBeforeEventCreated",function(t){var n=e.getActionData(t).date,o={_timed:!0,start_date:n,end_date:e.date.add(n,e.config.time_step,"minute")};return e.checkLimitViolation(o)}),e.attachEvent("onViewChange",function(){e._mark_now()}),e.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){if(e.$destroyed)return!0;e._mark_now()},1),!0}),e.attachEvent("onTemplatesReady",function(){e._mark_now_timer=window.setInterval(function(){e._is_initialized()&&e._mark_now()},6e4)}),e.attachEvent("onDestroy",function(){clearInterval(e._mark_now_timer)})},e._temp_limit_scope()},map_view:function(e){let a=null,t=[];const n={googleMap:new dl(e),openStreetMaps:new _l(e),mapbox:new ll(e)};function o(d){a=d.ext.mapView.createAdapter(),t.push(e.attachEvent("onEventSave",function(_,r,s){let l=e.getEvent(_);return l&&l.event_location!=r.event_location&&(e._eventLocationChanged=!0),!0}),e.attachEvent("onEventChanged",(_,r)=>{const{start_date:s,end_date:l}=r,{min_date:h,max_date:v}=e.getState();return s.valueOf()<v.valueOf()&&l.valueOf()>h.valueOf()&&a&&(e.config.map_settings.resolve_event_location&&r.event_location&&!e._latLngUpdate?i(r,a):a.updateEventMarker(r)),e._latLngUpdate=!1,!0}),e.attachEvent("onEventIdChange",function(_,r){let s=e.getEvent(r);a==null||a.removeEventMarker(_),a==null||a.addEventMarker(s)}),e.attachEvent("onEventAdded",(_,r)=>{const{start_date:s,end_date:l}=r,{min_date:h,max_date:v}=e.getState();s.valueOf()<v.valueOf()&&l.valueOf()>h.valueOf()&&a&&(e.config.map_settings.resolve_event_location&&r.event_location&&e._eventLocationChanged?(i(r,a),e._eventLocationChanged=!1):(a.addEventMarker(r),a.onEventClick(r)))}),e.attachEvent("onClick",function(_,r){const s=e.getEvent(_);return a&&s&&a.onEventClick(s),!1}),e.attachEvent("onBeforeEventDelete",(_,r)=>(a&&a.removeEventMarker(_),!0)))}async function i(d,_){let r=await _.resolveAddress(d.event_location);return d.lat=r.lat,d.lng=r.lng,_.removeEventMarker(String(d.id)),_.addEventMarker(d),d}e.ext||(e.ext={}),e.ext.mapView={createAdapter:function(){return n[e.config.map_view_provider]},createMarker:function(d){return new google.maps.Marker(d)},currentAdapter:null,adapters:n},e._latLngUpdate=!1,e._eventLocationChanged=!1,e.config.map_view_provider="googleMap",e.config.map_settings={initial_position:{lat:48.724,lng:8.215},error_position:{lat:15,lng:15},initial_zoom:1,zoom_after_resolve:15,info_window_max_width:300,resolve_user_location:!0,resolve_event_location:!0,view_provider:"googleMap"},e.config.map_initial_position&&(e.config.map_settings.initial_position={lat:e.config.map_initial_position.lat(),lng:e.config.map_initial_position.lng()}),e.config.map_error_position&&(e.config.map_settings.error_position={lat:e.config.map_error_position.lat(),lng:e.config.map_error_position.lng()}),e.xy.map_date_width=188,e.xy.map_icon_width=25,e.xy.map_description_width=400,e.date.add_map=function(d,_,r){return new Date(d.valueOf())},e.templates.map_date=function(d,_,r){return""},e.templates.map_time=function(d,_,r){return e.config.rtl&&!r._timed?e.templates.day_date(_)+" &ndash; "+e.templates.day_date(d):r._timed?this.day_date(r.start_date,r.end_date,r)+" "+this.event_date(d):e.templates.day_date(d)+" &ndash; "+e.templates.day_date(_)},e.templates.map_text=function(d,_,r){return r.text},e.templates.map_info_content=function(d){return`<div><b>Event's text:</b> ${d.text}
				<div><b>Location:</b> ${d.event_location}</div>
				<div><b>Starts:</b> ${e.templates.tooltip_date_format(d.start_date)}</div>
				<div><b>Ends:</b> ${e.templates.tooltip_date_format(d.end_date)}</div>
			</div>`},e.date.map_start=function(d){return d},e.dblclick_dhx_map_area=function(d){let _=d.target.closest(`[${e.config.event_attribute}]`);if(_){let r=_.getAttribute(`${e.config.event_attribute}`);e.showLightbox(r)}this.config.readonly||!this.config.dblclick_create||_||this.addEventNow({start_date:e.config.map_start,end_date:e.date.add(e.config.map_start,e.config.time_step,"minute")})},e.attachEvent("onSchedulerReady",function(){e.config.map_initial_zoom!==void 0&&(e.config.map_settings.initial_zoom=e.config.map_initial_zoom),e.config.map_zoom_after_resolve!==void 0&&(e.config.map_settings.zoom_after_resolve=e.config.map_zoom_after_resolve),e.config.map_infowindow_max_width!==void 0&&(e.config.map_settings.info_window_max_width=e.config.map_infowindow_max_width),e.config.map_resolve_user_location!==void 0&&(e.config.map_settings.resolve_user_location=e.config.map_resolve_user_location),e.config.map_view_provider!==void 0&&(e.config.map_settings.view_provider=e.config.map_view_provider),e.config.map_type!==void 0&&(e.config.map_settings.type=e.config.map_type),e.config.map_resolve_event_location!==void 0&&(e.config.map_settings.resolve_event_location=e.config.map_resolve_event_location),e.ext.mapView.currentAdapter=e.config.map_view_provider;let d=document.createElement("div");d.className="mapContainer",d.id="mapContainer",d.style.display="none",d.style.zIndex="1",e._obj.appendChild(d);const _=e.render_data;function r(){let l=e.get_visible_events();l.sort(function(f,u){return f.start_date.valueOf()==u.start_date.valueOf()?f.id>u.id?1:-1:f.start_date>u.start_date?1:-1});let h="<div "+e._waiAria.mapAttrString()+" class='dhx_map_area'>";for(let f=0;f<l.length;f++){let u=l[f],m=u.id==e._selected_event_id?"dhx_map_line highlight":"dhx_map_line",c=u.color?"--dhx-scheduler-event-background:"+u.color+";":"",p=u.textColor?"--dhx-scheduler-event-color:"+u.textColor+";":"",y=e._waiAria.mapRowAttrString(u),b=e._waiAria.mapDetailsBtnString();h+="<div "+y+" class='"+m+"' event_id='"+u.id+"' "+e.config.event_attribute+"='"+u.id+"' style='"+c+p+(u._text_style||"")+" width: "+(e.xy.map_date_width+e.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+e.xy.map_date_width+"px;' >"+e.templates.map_time(u.start_date,u.end_date,u)+"</div>",h+=`<div ${b} class='dhx_event_icon icon_details'><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z" fill="#A1A4A6"/>
			</svg></div>`,h+="<div class='line_description' style='width:"+(e.xy.map_description_width-e.xy.map_icon_width)+"px;'>"+e.templates.map_text(u.start_date,u.end_date,u)+"</div></div>"}h+="<div class='dhx_v_border' style="+(e.config.rtl?"'right: ":"'left: ")+(e.xy.map_date_width-1)+"px;'></div><div class='dhx_v_border_description'></div></div>",e._els.dhx_cal_data[0].scrollTop=0,e._els.dhx_cal_data[0].innerHTML=h;let v=e._els.dhx_cal_data[0].firstChild.childNodes,g=e._getNavDateElement();g&&(g.innerHTML=e.templates[e._mode+"_date"](e._min_date,e._max_date,e._mode)),e._rendered=[];for(let f=0;f<v.length-2;f++)e._rendered[f]=v[f]}e.render_data=function(l,h){if(this._mode!="map")return _.apply(this,arguments);{r();let v=e.get_visible_events();a&&(a.clearEventMarkers(),v.forEach(g=>a==null?void 0:a.addEventMarker(g)))}},e.map_view=function(l){e._els.dhx_cal_data[0].style.width=e.xy.map_date_width+e.xy.map_description_width+1+"px",e._min_date=e.config.map_start||e._currentDate(),e._max_date=e.config.map_end||e.date.add(e._currentDate(),1,"year"),e._table_view=!0,function(f){if(f){const u=e.locale.labels;e._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_head' style='width: "+(e.xy.map_date_width+e.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+e.xy.map_date_width+"px;'>"+u.date+"</div><div class='headline_description' style='width: "+e.xy.map_description_width+"px;'>"+u.description+"</div></div>",e._table_view=!0,e.set_sizes()}}(l);let h=document.getElementById("mapContainer");var v,g;(function(f){let u=document.getElementById(f);if(u){const m=e.$container.querySelector(".dhx_cal_navline").offsetHeight;let c=e.$container.querySelector(".dhx_cal_data").offsetHeight+e.$container.querySelector(".dhx_cal_header").offsetHeight;c<0&&(c=0);let p=e._x-e.xy.map_date_width-e.xy.map_description_width-1;p<0&&(p=0),u.style.height=c+"px",u.style.width=p+"px",u.style.position="absolute",u.style.top=m+"px",e.config.rtl?u.style.marginRight=e.xy.map_date_width+e.xy.map_description_width+1+"px":u.style.marginLeft=e.xy.map_date_width+e.xy.map_description_width+1+"px",u.style.marginTop=e.xy.nav_height+2+"px"}})("mapContainer"),l&&h?(d.style.display="block",r(),e.config.map_view_provider==e.ext.mapView.currentAdapter?(a==null||a.destroy(h),o(e),a==null||a.initialize(h,e.config.map_settings)):(a==null||a.destroy(h),o(e),a==null||a.initialize(h,e.config.map_settings),e.ext.mapView.currentAdapter=e.config.map_view_provider),a&&(v=e.config.map_settings,g=a,v.resolve_user_location?navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(f){g.setView(f.coords.latitude,f.coords.longitude,v.zoom_after_resolve||v.initial_zoom)}):g.setView(v.initial_position.lat,v.initial_position.lng,v.initial_zoom))):(d.style.display="none",e._els.dhx_cal_data[0].style.width="100%",a&&h&&(a.destroy(h),a=null,e.ext.mapView.currentAdapter=e.config.map_view_provider),t.forEach(f=>e.detachEvent(f)),t=[])},e.attachEvent("onLocationError",function(l){return alert("Location can't be found"),google.maps.LatLng(51.47784,-.001492)});let s=async function(l){if(a){const h=await a.resolveAddress(l.event_location);h.lat&&h.lng?(l.lat=+h.lat,l.lng=+h.lng):(e.callEvent("onLocationError",[l.id]),l.lng=e.config.map_settings.error_position.lng,l.lat=e.config.map_settings.error_position.lat),e._latLngUpdate=!0,e.callEvent("onEventChanged",[l.id,l])}};e._event_resolve_delay=1500,e.attachEvent("onEventLoading",function(l){return l.lat&&l.lng&&(l.lat=+l.lat,l.lng=+l.lng),e.config.map_settings.resolve_event_location&&l.event_location&&!l.lat&&!l.lng&&(e._event_resolve_delay+=1500,function(h,v,g,f){setTimeout(function(){if(e.$destroyed)return!0;let u=h.apply(v,g);return h=v=g=null,u},f||1)}(s,this,[l],e._event_resolve_delay)),!0})})},minical:function(e){const a=e._createDomEventScope();e.config.minicalendar={mark_events:!0},e._synced_minicalendars=[],e.renderCalendar=function(t,n,o){var i=null,d=t.date||e._currentDate();if(typeof d=="string"&&(d=this.templates.api_date(d)),n)i=this._render_calendar(n.parentNode,d,t,n),e.unmarkCalendar(i);else{var _=t.container,r=t.position;if(typeof _=="string"&&(_=document.getElementById(_)),typeof r=="string"&&(r=document.getElementById(r)),r&&r.left===void 0&&r.right===void 0){var s=e.$domHelpers.getOffset(r);r={top:s.top+r.offsetHeight,left:s.left}}_||(_=e._get_def_cont(r)),(i=this._render_calendar(_,d,t)).$_eventAttached||(i.$_eventAttached=!0,a.attach(i,"click",(function(p){var y=p.target||p.srcElement,b=e.$domHelpers;if(b.closest(y,".dhx_month_head")&&!b.closest(y,".dhx_after")&&!b.closest(y,".dhx_before")){var x=b.closest(y,"[data-cell-date]").getAttribute("data-cell-date"),k=e.templates.parse_date(x);e.unmarkCalendar(this),e.markCalendar(this,k,"dhx_calendar_click"),this._last_date=k,this.conf.handler&&this.conf.handler.call(e,k,this)}}).bind(i)))}if(e.config.minicalendar.mark_events)for(var l=e.date.month_start(d),h=e.date.add(l,1,"month"),v=this.getEvents(l,h),g=this["filter_"+this._mode],f={},u=0;u<v.length;u++){var m=v[u];if(!g||g(m.id,m)){var c=m.start_date;for(c.valueOf()<l.valueOf()&&(c=l),c=e.date.date_part(new Date(c.valueOf()));c<m.end_date&&(f[+c]||(f[+c]=!0,this.markCalendar(i,c,"dhx_year_event")),!((c=this.date.add(c,1,"day")).valueOf()>=h.valueOf())););}}return this._markCalendarCurrentDate(i),i.conf=t,t.sync&&!o&&this._synced_minicalendars.push(i),i.conf._on_xle_handler||(i.conf._on_xle_handler=e.attachEvent("onXLE",function(){e.updateCalendar(i,i.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&i.setAttribute("role","application"),i},e._get_def_cont=function(t){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",e.event(this._def_count,"click",function(n){n.cancelBubble=!0}),document.body.appendChild(this._def_count)),t.left&&(this._def_count.style.left=t.left+"px"),t.right&&(this._def_count.style.right=t.right+"px"),t.top&&(this._def_count.style.top=t.top+"px"),t.bottom&&(this._def_count.style.bottom=t.bottom+"px"),this._def_count._created=new Date,this._def_count},e._locateCalendar=function(t,n){if(typeof n=="string"&&(n=e.templates.api_date(n)),+n>+t._max_date||+n<+t._min_date)return null;for(var o=t.querySelector(".dhx_year_body").childNodes[0],i=0,d=new Date(t._min_date);+this.date.add(d,1,"week")<=+n;)d=this.date.add(d,1,"week"),i++;var _=e.config.start_on_monday,r=(n.getDay()||(_?7:0))-(_?1:0);const s=o.querySelector(`.dhx_cal_month_row:nth-child(${i+1}) .dhx_cal_month_cell:nth-child(${r+1})`);return s?s.firstChild:null},e.markCalendar=function(t,n,o){var i=this._locateCalendar(t,n);i&&(i.className+=" "+o)},e.unmarkCalendar=function(t,n,o){if(o=o||"dhx_calendar_click",n=n||t._last_date){var i=this._locateCalendar(t,n);i&&(i.className=(i.className||"").replace(RegExp(o,"g")))}},e._week_template=function(t){for(var n=t||250,o=0,i=document.createElement("div"),d=this.date.week_start(e._currentDate()),_=0;_<7;_++)this._cols[_]=Math.floor(n/(7-_)),this._render_x_header(_,o,d,i),d=this.date.add(d,1,"day"),n-=this._cols[_],o+=this._cols[_];return i.lastChild.className+=" dhx_scale_bar_last",i},e.updateCalendar=function(t,n){t.conf.date=n,this.renderCalendar(t.conf,t,!0)},e._mini_cal_arrows=["&nbsp;","&nbsp;"],e._render_calendar=function(t,n,o,i){var d=e.templates,_=this._cols;this._cols=[];var r=this._mode;this._mode="calendar";var s=this._colsS;this._colsS={height:0};var l=new Date(this._min_date),h=new Date(this._max_date),v=new Date(e._date),g=d.month_day,f=this._ignores_detected;this._ignores_detected=0,d.month_day=d.calendar_date,n=this.date.month_start(n);var u,m=this._week_template(t.offsetWidth-1-this.config.minicalendar.padding);i?u=i:(u=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",u.setAttribute("date",this._helpers.formatDate(n)),u.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(e.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(m?m.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var c=u.querySelector(".dhx_year_month"),p=u.querySelector(".dhx_year_week"),y=u.querySelector(".dhx_year_body");if(c.innerHTML=this.templates.calendar_month(n),o.navigation)for(var b=function(P,W){var X=e.date.add(P._date,W,"month");e.updateCalendar(P,X),e._date.getMonth()==P._date.getMonth()&&e._date.getFullYear()==P._date.getFullYear()&&e._markCalendarCurrentDate(P)},x=["dhx_cal_prev_button","dhx_cal_next_button"],k=["left:1px;top:4px;position:absolute;","left:auto; right:1px;top:4px;position:absolute;"],w=[-1,1],E=function(P){return function(){if(o.sync)for(var W=e._synced_minicalendars,X=0;X<W.length;X++)b(W[X],P);else e.config.rtl&&(P=-P),b(u,P)}},S=[e.locale.labels.prev,e.locale.labels.next],D=0;D<2;D++){var M=document.createElement("div");M.className=x[D],e._waiAria.headerButtonsAttributes(M,S[D]),M.style.cssText=k[D],M.innerHTML=this._mini_cal_arrows[D],c.appendChild(M),a.attach(M,"click",E(w[D]))}u._date=new Date(n),u.week_start=(n.getDay()-(this.config.start_on_monday?1:0)+7)%7;var T=u._min_date=this.date.week_start(n);u._max_date=this.date.add(u._min_date,6,"week"),this._reset_month_scale(y,n,T,6),i||t.appendChild(u),p.style.height=p.childNodes[0].offsetHeight-1+"px";var A=e.uid();e._waiAria.minicalHeader(c,A),e._waiAria.minicalGrid(u.querySelector(".dhx_year_grid"),A),e._waiAria.minicalRow(p);for(var O=p.querySelectorAll(".dhx_scale_bar"),$=0;$<O.length;$++)e._waiAria.minicalHeadCell(O[$]);var q=y.querySelectorAll(".dhx_cal_month_cell"),z=new Date(T);for($=0;$<q.length;$++)e._waiAria.minicalDayCell(q[$],new Date(z)),z=e.date.add(z,1,"day");return e._waiAria.minicalHeader(c,A),this._cols=_,this._mode=r,this._colsS=s,this._min_date=l,this._max_date=h,e._date=v,d.month_day=g,this._ignores_detected=f,u},e.destroyCalendar=function(t,n){!t&&this._def_count&&this._def_count.firstChild&&(n||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(t=this._def_count.firstChild),t&&(a.detachAll(),t.innerHTML="",t.parentNode&&t.parentNode.removeChild(t),this._def_count&&(this._def_count.style.top="-1000px"),t.conf&&t.conf._on_xle_handler&&e.detachEvent(t.conf._on_xle_handler))},e.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},e.attachEvent("onTemplatesReady",function(){e.event(document.body,"click",function(){e.destroyCalendar()})},{once:!0}),e.form_blocks.calendar_time={render:function(t){var n="<span class='dhx_minical_input_wrapper'><input class='dhx_readonly dhx_minical_input' type='text' readonly='true'></span>",o=e.config,i=this.date.date_part(e._currentDate()),d=1440,_=0;o.limit_time_select&&(_=60*o.first_hour,d=60*o.last_hour+1),i.setHours(_/60),t._time_values=[],n+=" <select class='dhx_lightbox_time_select'>";for(var r=_;r<d;r+=1*this.config.time_step)n+="<option value='"+r+"'>"+this.templates.time_picker(i)+"</option>",t._time_values.push(r),i=this.date.add(i,this.config.time_step,"minute");return"<div class='dhx_section_time dhx_lightbox_minical'>"+(n+="</select>")+"<span class='dhx_lightbox_minical_spacer'> &nbsp;&ndash;&nbsp; </span>"+n+"</div>"},set_value:function(t,n,o,i){var d,_,r=t.getElementsByTagName("input"),s=t.getElementsByTagName("select"),l=function(c,p,y){e.event(c,"click",function(){e.destroyCalendar(null,!0),e.renderCalendar({position:c,date:new Date(this._date),navigation:!0,handler:function(b){c.value=e.templates.calendar_time(b),c._date=new Date(b),e.destroyCalendar(),e.config.event_duration&&e.config.auto_end_date&&y===0&&f()}})})};if(e.config.full_day){if(!t._full_day){var h="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+e.locale.labels.full_day+"&nbsp;</label></input>";e.config.wide_form||(h=t.previousSibling.innerHTML+h),t.previousSibling.innerHTML=h,t._full_day=!0}var v=t.previousSibling.getElementsByTagName("input")[0],g=e.date.time_part(o.start_date)===0&&e.date.time_part(o.end_date)===0;v.checked=g,s[0].disabled=v.checked,s[1].disabled=v.checked,v.$_eventAttached||(v.$_eventAttached=!0,e.event(v,"click",function(){if(v.checked===!0){var c={};e.form_blocks.calendar_time.get_value(t,c),d=e.date.date_part(c.start_date),(+(_=e.date.date_part(c.end_date))==+d||+_>=+d&&(o.end_date.getHours()!==0||o.end_date.getMinutes()!==0))&&(_=e.date.add(_,1,"day"))}var p=d||o.start_date,y=_||o.end_date;u(r[0],p),u(r[1],y),s[0].value=60*p.getHours()+p.getMinutes(),s[1].value=60*y.getHours()+y.getMinutes(),s[0].disabled=v.checked,s[1].disabled=v.checked}))}if(e.config.event_duration&&e.config.auto_end_date){var f=function(){e.config.auto_end_date&&e.config.event_duration&&(d=e.date.add(r[0]._date,s[0].value,"minute"),_=new Date(d.getTime()+60*e.config.event_duration*1e3),r[1].value=e.templates.calendar_time(_),r[1]._date=e.date.date_part(new Date(_)),s[1].value=60*_.getHours()+_.getMinutes())};s[0].$_eventAttached||s[0].addEventListener("change",f)}function u(c,p,y){l(c,p,y),c.value=e.templates.calendar_time(p),c._date=e.date.date_part(new Date(p))}function m(c){for(var p=i._time_values,y=60*c.getHours()+c.getMinutes(),b=y,x=!1,k=0;k<p.length;k++){var w=p[k];if(w===y){x=!0;break}w<y&&(b=w)}return x||b?x?y:b:-1}u(r[0],o.start_date,0),u(r[1],o.end_date,1),l=function(){},s[0].value=m(o.start_date),s[1].value=m(o.end_date)},get_value:function(t,n){var o=t.getElementsByTagName("input"),i=t.getElementsByTagName("select");return n.start_date=e.date.add(o[0]._date,i[0].value,"minute"),n.end_date=e.date.add(o[1]._date,i[1].value,"minute"),n.end_date<=n.start_date&&(n.end_date=e.date.add(n.start_date,e.config.time_step,"minute")),{start_date:new Date(n.start_date),end_date:new Date(n.end_date)}},focus:function(t){}},e.linkCalendar=function(t,n){var o=function(){var i=e._date,d=new Date(i.valueOf());return n&&(d=n(d)),d.setDate(1),e.updateCalendar(t,d),!0};e.attachEvent("onViewChange",o),e.attachEvent("onXLE",o),e.attachEvent("onEventAdded",o),e.attachEvent("onEventChanged",o),e.attachEvent("onEventDeleted",o),o()},e._markCalendarCurrentDate=function(t){var n=e.getState(),o=n.min_date,i=n.max_date,d=n.mode,_=e.date.month_start(new Date(t._date)),r=e.date.add(_,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[d]||o.valueOf()<=_.valueOf()&&i.valueOf()>=r.valueOf()))for(var s=o;s.valueOf()<i.valueOf();)_.valueOf()<=s.valueOf()&&r>s&&e.markCalendar(t,s,"dhx_calendar_click"),s=e.date.add(s,1,"day")},e.attachEvent("onEventCancel",function(){e.destroyCalendar(null,!0)}),e.attachEvent("onDestroy",function(){e.destroyCalendar()})},monthheight:function(e){e.attachEvent("onTemplatesReady",function(){e.xy.scroll_width=0;var a=e.render_view_data;e.render_view_data=function(){var n=this._els.dhx_cal_data[0];n.firstChild._h_fix=!0,a.apply(e,arguments);var o=parseInt(n.style.height);n.style.height="1px",n.style.height=n.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+n.scrollHeight-o+"px"};var t=e._reset_month_scale;e._reset_month_scale=function(n,o,i,d){var _={clientHeight:100};t.apply(e,[_,o,i,d]),n.innerHTML=_.innerHTML}})},multisection:function(e){e.config.multisection=!0,e.config.multisection_shift_all=!0,e.config.section_delimiter=",",e.attachEvent("onSchedulerReady",function(){Kr(e);var a=e._update_unit_section;e._update_unit_section=function(_){return e._update_sections(_,a)};var t=e._update_timeline_section;e._update_timeline_section=function(_){return e._update_sections(_,t)},e.isMultisectionEvent=function(_){return!(!_||!this._get_multisection_view())&&this._get_event_sections(_).length>1},e._get_event_sections=function(_){var r=_[this._get_section_property()]||"";return this._parse_event_sections(r)},e._parse_event_sections=function(_){return _ instanceof Array?_:_.toString().split(e.config.section_delimiter)},e._clear_copied_events(),e._split_events=function(_){var r=[],s=this._get_multisection_view();if(s)for(var l=0;l<_.length;l++)e._split_one_event(_[l],s,r);else r=_;return r},e._split_one_event=function(_,r,s){const l=this._get_event_sections(_),h=this._get_section_property();if(l.length>1)for(var v=0;v<l.length;v++){if(r.order[l[v]]===void 0)continue;const g=e._copy_event(_);g[h]=l[v],s.push(g)}else s.push(_)},e._get_multisection_view=function(){return!!this.config.multisection&&e._get_section_view()};var n=e.get_visible_events;e.get_visible_events=function(_){this._clear_copied_events();var r=n.apply(this,arguments);if(this._get_multisection_view()){r=this._split_events(r);for(var s=0;s<r.length;s++)this.is_visible_events(r[s])||(r.splice(s,1),s--);this._register_copies_array(r)}return r},e._rendered_events={};var o=e.render_view_data;e.render_view_data=function(_,r){return this._get_multisection_view()&&_&&(_=this._split_events(_),this._restore_render_flags(_)),o.apply(this,[_,r])},e._update_sections=function(_,r){var s=_.view,l=_.event,h=_.pos;if(e.isMultisectionEvent(l)){if(e._drag_event._orig_section||(e._drag_event._orig_section=h.section),e._drag_event._orig_section!=h.section){var v=s.order[h.section]-s.order[e._drag_event._orig_section];if(v){var g=this._get_event_sections(l),f=[],u=!0;if(e.config.multisection_shift_all)for(var m=0;m<g.length;m++){if((c=e._shift_sections(s,g[m],v))===null){f=g,u=!1;break}f[m]=c}else for(m=0;m<g.length;m++){if(g[m]==h.section){f=g,u=!1;break}if(g[m]==e._drag_event._orig_section){var c;if((c=e._shift_sections(s,g[m],v))===null){f=g,u=!1;break}f[m]=c}else f[m]=g[m]}u&&(e._drag_event._orig_section=h.section),l[e._get_section_property()]=f.join(e.config.section_delimiter)}}}else r.apply(e,[_])},e._shift_sections=function(_,r,s){for(var l=null,h=_.y_unit||_.options,v=0;v<h.length;v++)if(h[v].key==r){l=v;break}var g=h[l+s];return g?g.key:null};var i=e._get_blocked_zones;e._get_blocked_zones=function(_,r,s,l,h){if(r&&this.config.multisection){r=this._parse_event_sections(r);for(var v=[],g=0;g<r.length;g++)v=v.concat(i.apply(this,[_,r[g],s,l,h]));return v}return i.apply(this,arguments)};var d=e._check_sections_collision;e._check_sections_collision=function(_,r){if(this.config.multisection&&this._get_section_view()){_=this._split_events([_]),r=this._split_events([r]);for(var s=!1,l=0,h=_.length;l<h&&!s;l++)for(var v=0,g=r.length;v<g;v++)if(d.apply(this,[_[l],r[v]])){s=!0;break}return s}return d.apply(this,arguments)}})},multiselect:function(e){e.form_blocks.multiselect={render:function(a){var t="dhx_multi_select_control dhx_multi_select_"+a.name;a.vertical&&(t+=" dhx_multi_select_control_vertical");for(var n="<div class='"+t+"' style='overflow: auto; max-height: "+a.height+"px; position: relative;' >",o=0;o<a.options.length;o++)n+="<label><input type='checkbox' value='"+a.options[o].key+"'/>"+a.options[o].label+"</label>";return n+="</div>"},set_value:function(a,t,n,o){for(var i=a.getElementsByTagName("input"),d=0;d<i.length;d++)i[d].checked=!1;function _(v){for(var g=a.getElementsByTagName("input"),f=0;f<g.length;f++)g[f].checked=!!v[g[f].value]}var r={};if(n[o.map_to]){var s=(n[o.map_to]+"").split(o.delimiter||e.config.section_delimiter||",");for(d=0;d<s.length;d++)r[s[d]]=!0;_(r)}else{if(e._new_event||!o.script_url)return;var l=document.createElement("div");l.className="dhx_loading",l.style.cssText="position: absolute; top: 40%; left: 40%;",a.appendChild(l);var h=[o.script_url,o.script_url.indexOf("?")==-1?"?":"&","dhx_crosslink_"+o.map_to+"="+n.id+"&uid="+e.uid()].join("");e.ajax.get(h,function(v){var g=function(f,u){try{for(var m=JSON.parse(f.xmlDoc.responseText),c={},p=0;p<m.length;p++){var y=m[p];c[y.value||y.key||y.id]=!0}return c}catch{return null}}(v);g||(g=function(f,u){for(var m=e.ajax.xpath("//data/item",f.xmlDoc),c={},p=0;p<m.length;p++)c[m[p].getAttribute(u.map_to)]=!0;return c}(v,o)),_(g),a.removeChild(l)})}},get_value:function(a,t,n){for(var o=[],i=a.getElementsByTagName("input"),d=0;d<i.length;d++)i[d].checked&&o.push(i[d].value);return o.join(n.delimiter||e.config.section_delimiter||",")},focus:function(a){}}},multisource:function(e){var a=e._load;e._load=function(t,n){if(typeof(t=t||this._load_url)=="object")for(var o=function(d){var _=function(){};return _.prototype=d,_}(this._loaded),i=0;i<t.length;i++)this._loaded=new o,a.call(this,t[i],n);else a.apply(this,arguments)}},mvc:function(e){var a,t={use_id:!1};function n(d){var _={};for(var r in d)r.indexOf("_")!==0&&(_[r]=d[r]);return t.use_id||delete _.id,_}function o(d){d._not_render=!1,d._render_wait&&d.render_view_data(),d._loading=!1,d.callEvent("onXLE",[])}function i(d){return t.use_id?d.id:d.cid}e.backbone=function(d,_){_&&(t=_),d.bind("change",function(l,h){var v=i(l),g=e._events[v]=l.toJSON();g.id=v,e._init_event(g),clearTimeout(a),a=setTimeout(function(){if(e.$destroyed)return!0;e.updateView()},1)}),d.bind("remove",function(l,h){var v=i(l);e._events[v]&&e.deleteEvent(v)});var r=[];function s(){if(e.$destroyed)return!0;r.length&&(e.parse(r,"json"),r=[])}d.bind("add",function(l,h){var v=i(l);if(!e._events[v]){var g=l.toJSON();g.id=v,e._init_event(g),r.push(g),r.length==1&&setTimeout(s,1)}}),d.bind("request",function(l){var h;l instanceof Backbone.Collection&&((h=e)._loading=!0,h._not_render=!0,h.callEvent("onXLS",[]))}),d.bind("sync",function(l){l instanceof Backbone.Collection&&o(e)}),d.bind("error",function(l){l instanceof Backbone.Collection&&o(e)}),e.attachEvent("onEventCreated",function(l){var h=new d.model(e.getEvent(l));return e._events[l]=h.toJSON(),e._events[l].id=l,!0}),e.attachEvent("onEventAdded",function(l){if(!d.get(l)){var h=n(e.getEvent(l)),v=new d.model(h),g=i(v);g!=l&&this.changeEventId(l,g),d.add(v),d.trigger("scheduler:add",v)}return!0}),e.attachEvent("onEventChanged",function(l){var h=d.get(l),v=n(e.getEvent(l));return h.set(v),d.trigger("scheduler:change",h),!0}),e.attachEvent("onEventDeleted",function(l){var h=d.get(l);return h&&(d.trigger("scheduler:remove",h),d.remove(l)),!0})}},outerdrag:function(e){e.attachEvent("onTemplatesReady",function(){var a,t=new dhtmlDragAndDropObject,n=t.stopDrag;function o(i,d,_,r){if(!e.checkEvent("onBeforeExternalDragIn")||e.callEvent("onBeforeExternalDragIn",[i,d,_,r,a])){var s=e.attachEvent("onEventCreated",function(f){e.callEvent("onExternalDragIn",[f,i,a])||(this._drag_mode=this._drag_id=null,this.deleteEvent(f))}),l=e.getActionData(a),h={start_date:new Date(l.date)};if(e.matrix&&e.matrix[e._mode]){var v=e.matrix[e._mode];h[v.y_property]=l.section;var g=e._locate_cell_timeline(a);h.start_date=v._trace_x[g.x],h.end_date=e.date.add(h.start_date,v.x_step,v.x_unit)}e._props&&e._props[e._mode]&&(h[e._props[e._mode].map_to]=l.section),e.addEventNow(h),e.detachEvent(s)}}t.stopDrag=function(i){return a=i,n.apply(this,arguments)},t.addDragLanding(e._els.dhx_cal_data[0],{_drag:function(i,d,_,r){o(i,d,_,r)},_dragIn:function(i,d){return i},_dragOut:function(i){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(e._els.dhx_cal_data[0],{onDrop:function(i,d,_,r){var s=dhtmlx.DragControl.getMaster(i);a=r,o(i,s,d,r.target||r.srcElement)},onDragIn:function(i,d,_){return d}},!0)})},pdf:function(e){var a,t,n=new RegExp("<[^>]*>","g"),o=new RegExp("<br[^>]*>","g");function i(x){return x.replace(o,`
`).replace(n,"")}function d(x,k){x=parseFloat(x),k=parseFloat(k),isNaN(k)||(x-=k);var w=r(x);return x=x-w.width+w.cols*a,isNaN(x)?"auto":100*x/a}function _(x,k,w){x=parseFloat(x),k=parseFloat(k),!isNaN(k)&&w&&(x-=k);var E=r(x);return x=x-E.width+E.cols*a,isNaN(x)?"auto":100*x/(a-(isNaN(k)?0:k))}function r(x){for(var k=0,w=e._els.dhx_cal_header[0].childNodes,E=w[1]?w[1].childNodes:w[0].childNodes,S=0;S<E.length;S++){var D=E[S].style?E[S]:E[S].parentNode,M=parseFloat(D.style.width);if(!(x>M))break;x-=M+1,k+=M+1}return{width:k,cols:S}}function s(x){return x=parseFloat(x),isNaN(x)?"auto":100*x/t}function l(x,k){return(window.getComputedStyle?window.getComputedStyle(x,null)[k]:x.currentStyle?x.currentStyle[k]:null)||""}function h(x,k){for(var w=parseInt(x.style.left,10),E=0;E<e._cols.length;E++)if((w-=e._cols[E])<0)return E;return k}function v(x,k){for(var w=parseInt(x.style.top,10),E=0;E<e._colsS.heights.length;E++)if(e._colsS.heights[E]>w)return E;return k}function g(x){return x?"</"+x+">":""}function f(x,k,w,E){var S="<"+x+" profile='"+k+"'";return w&&(S+=" header='"+w+"'"),E&&(S+=" footer='"+E+"'"),S+=">"}function u(){var x="",k=e._mode;if(e.matrix&&e.matrix[e._mode]&&(k=e.matrix[e._mode].render=="cell"?"matrix":"timeline"),x+="<scale mode='"+k+"' today='"+e._els.dhx_cal_date[0].innerHTML+"'>",e._mode=="week_agenda")for(var w=e._els.dhx_cal_data[0].getElementsByTagName("DIV"),E=0;E<w.length;E++)w[E].className=="dhx_wa_scale_bar"&&(x+="<column>"+i(w[E].innerHTML)+"</column>");else if(e._mode=="agenda"||e._mode=="map")x+="<column>"+i((w=e._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+i(w[1].innerHTML)+"</column>";else if(e._mode=="year")for(w=e._els.dhx_cal_data[0].childNodes,E=0;E<w.length;E++)x+="<month label='"+i(w[E].querySelector(".dhx_year_month").innerHTML)+"'>",x+=c(w[E].querySelector(".dhx_year_week").childNodes),x+=m(w[E].querySelector(".dhx_year_body")),x+="</month>";else{x+="<x>",x+=c(w=e._els.dhx_cal_header[0].childNodes),x+="</x>";var S=e._els.dhx_cal_data[0];if(e.matrix&&e.matrix[e._mode]){for(x+="<y>",E=0;E<S.firstChild.rows.length;E++)x+="<row><![CDATA["+i(S.firstChild.rows[E].cells[0].innerHTML)+"]]></row>";x+="</y>",t=S.firstChild.rows[0].cells[0].offsetHeight}else if(S.firstChild.tagName=="TABLE")x+=m(S);else{for(S=S.childNodes[S.childNodes.length-1];S.className.indexOf("dhx_scale_holder")==-1;)S=S.previousSibling;for(S=S.childNodes,x+="<y>",E=0;E<S.length;E++)x+=`
<row><![CDATA[`+i(S[E].innerHTML)+"]]></row>";x+="</y>",t=S[0].offsetHeight}}return x+="</scale>"}function m(x){for(var k="",w=x.querySelectorAll("tr"),E=0;E<w.length;E++){for(var S=[],D=w[E].querySelectorAll("td"),M=0;M<D.length;M++)S.push(D[M].querySelector(".dhx_month_head").innerHTML);k+=`
<row height='`+D[0].offsetHeight+"'><![CDATA["+i(S.join("|"))+"]]></row>",t=D[0].offsetHeight}return k}function c(x){var k,w="";e.matrix&&e.matrix[e._mode]&&(e.matrix[e._mode].second_scale&&(k=x[1].childNodes),x=x[0].childNodes);for(var E=0;E<x.length;E++)w+=`
<column><![CDATA[`+i(x[E].innerHTML)+"]]></column>";if(a=x[0].offsetWidth,k){var S=0,D=x[0].offsetWidth,M=1;for(E=0;E<k.length;E++)w+=`
<column second_scale='`+M+"'><![CDATA["+i(k[E].innerHTML)+"]]></column>",(S+=k[E].offsetWidth)>=D&&(D+=x[M]?x[M].offsetWidth:0,M++),a=k[0].offsetWidth}return w}function p(x){var k="",w=e._rendered,E=e.matrix&&e.matrix[e._mode];if(e._mode=="agenda"||e._mode=="map")for(var S=0;S<w.length;S++)k+="<event><head><![CDATA["+i(w[S].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+i(w[S].childNodes[2].innerHTML)+"]]></body></event>";else if(e._mode=="week_agenda")for(S=0;S<w.length;S++)k+="<event day='"+w[S].parentNode.getAttribute("day")+"'><body>"+i(w[S].innerHTML)+"</body></event>";else if(e._mode=="year")for(w=e.get_visible_events(),S=0;S<w.length;S++){var D=w[S].start_date;for(D.valueOf()<e._min_date.valueOf()&&(D=e._min_date);D<w[S].end_date;){var M=D.getMonth()+12*(D.getFullYear()-e._min_date.getFullYear())-e.week_starts._month,T=e.week_starts[M]+D.getDate()-1,A=x?l(e._get_year_cell(D),"color"):"",O=x?l(e._get_year_cell(D),"backgroundColor"):"";if(k+="<event day='"+T%7+"' week='"+Math.floor(T/7)+"' month='"+M+"' backgroundColor='"+O+"' color='"+A+"'></event>",(D=e.date.add(D,1,"day")).valueOf()>=e._max_date.valueOf())break}}else if(E&&E.render=="cell")for(w=e._els.dhx_cal_data[0].getElementsByTagName("TD"),S=0;S<w.length;S++)A=x?l(w[S],"color"):"",k+=`
<event><body backgroundColor='`+(O=x?l(w[S],"backgroundColor"):"")+"' color='"+A+"'><![CDATA["+i(w[S].innerHTML)+"]]></body></event>";else for(S=0;S<w.length;S++){var $,q;if(e.matrix&&e.matrix[e._mode])$=d(w[S].style.left),q=d(w[S].offsetWidth)-1;else{var z=e.config.use_select_menu_space?0:26;$=_(w[S].style.left,z,!0),q=_(w[S].style.width,z)-1}if(!isNaN(1*q)){var P=s(w[S].style.top),W=s(w[S].style.height),X=w[S].className.split(" ")[0].replace("dhx_cal_","");if(X!=="dhx_tooltip_line"){var Q=e.getEvent(w[S].getAttribute(e.config.event_attribute));if(Q){T=Q._sday;var re=Q._sweek,ge=Q._length||0;if(e._mode=="month")W=parseInt(w[S].offsetHeight,10),P=parseInt(w[S].style.top,10)-e.xy.month_head_height,T=h(w[S],T),re=v(w[S],re);else if(e.matrix&&e.matrix[e._mode]){T=0,re=w[S].parentNode.parentNode.parentNode.rowIndex;var Ae=t;t=w[S].parentNode.offsetHeight,P=s(w[S].style.top),P-=.2*P,t=Ae}else{if(w[S].parentNode==e._els.dhx_cal_data[0])continue;var ve=e._els.dhx_cal_data[0].childNodes[0],_e=parseFloat(ve.className.indexOf("dhx_scale_holder")!=-1?ve.style.left:0);$+=d(w[S].parentNode.style.left,_e)}k+=`
<event week='`+re+"' day='"+T+"' type='"+X+"' x='"+$+"' y='"+P+"' width='"+q+"' height='"+W+"' len='"+ge+"'>",X=="event"?(k+="<header><![CDATA["+i(w[S].childNodes[1].innerHTML)+"]]></header>",A=x?l(w[S].childNodes[2],"color"):"",k+="<body backgroundColor='"+(O=x?l(w[S].childNodes[2],"backgroundColor"):"")+"' color='"+A+"'><![CDATA["+i(w[S].childNodes[2].innerHTML)+"]]></body>"):(A=x?l(w[S],"color"):"",k+="<body backgroundColor='"+(O=x?l(w[S],"backgroundColor"):"")+"' color='"+A+"'><![CDATA["+i(w[S].innerHTML)+"]]></body>"),k+="</event>"}}}}return k}function y(x,k,w,E,S,D){var M=!1;E=="fullcolor"&&(M=!0,E="color"),E=E||"color";var T,A="";if(x){var O=e._date,$=e._mode;k=e.date[w+"_start"](k),k=e.date["get_"+w+"_end"]?e.date["get_"+w+"_end"](k):e.date.add(k,1,w),A=f("pages",E,S,D);for(var q=new Date(x);+q<+k;q=this.date.add(q,1,w))this.setCurrentView(q,w),A+=((T="page")?"<"+T+">":"")+u().replace("","-")+p(M)+g("page");A+=g("pages"),this.setCurrentView(O,$)}else A=f("data",E,S,D)+u().replace("","-")+p(M)+g("data");return A}function b(x,k,w,E,S,D,M){(function(T,A){var O=e.uid(),$=document.createElement("div");$.style.display="none",document.body.appendChild($),$.innerHTML='<form id="'+O+'" method="post" target="_blank" action="'+A+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(O).firstChild.value=encodeURIComponent(T),document.getElementById(O).submit(),$.parentNode.removeChild($)})(typeof S=="object"?function(T){for(var A="<data>",O=0;O<T.length;O++)A+=T[O].source.getPDFData(T[O].start,T[O].end,T[O].view,T[O].mode,T[O].header,T[O].footer);return A+="</data>",A}(S):y.apply(this,[x,k,w,S,D,M]),E)}e.getPDFData=y,e.toPDF=function(x,k,w,E){return b.apply(this,[null,null,null,x,k,w,E])},e.toPDFRange=function(x,k,w,E,S,D,M){return typeof x=="string"&&(x=e.templates.api_date(x),k=e.templates.api_date(k)),b.apply(this,arguments)}},quick_info:function(e){e.config.icons_select=["icon_form","icon_delete"],e.config.details_on_create=!0,e.config.show_quick_info=!0,e.xy.menu_width=0;let a=null;function t(o){const i=o.getBoundingClientRect(),d=e.$container.getBoundingClientRect().bottom-i.bottom;d<0&&(o.style.top=`${parseFloat(o.style.top)+d}px`)}function n(o){let i=0,d=0,_=o;for(;_&&_!=e._obj;)i+=_.offsetLeft,d+=_.offsetTop-_.scrollTop,_=_.offsetParent;return _?{left:i,top:d,dx:i+o.offsetWidth/2>e._x/2?1:0,dy:d+o.offsetHeight/2>e._y/2?1:0,width:o.offsetWidth,height:o.offsetHeight}:0}e.attachEvent("onSchedulerReady",function(){const o=e.$container;o._$quickInfoHandler||(o._$quickInfoHandler=!0,e.event(o,"mousedown",function(i){const d=i.target.closest(`[${e.config.event_attribute}]`);d&&(a={id:d.getAttribute(e.config.event_attribute),position:n(d)})}),e.attachEvent("onDestroy",()=>{delete o._$quickInfoHandler}))}),e.attachEvent("onClick",function(o){if(e.config.show_quick_info)return e.showQuickInfo(o),!0}),function(){for(var o=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],i=function(){return e.hideQuickInfo(!0),!0},d=0;d<o.length;d++)e.attachEvent(o[d],i)}(),e.templates.quick_info_title=function(o,i,d){return d.text.substr(0,50)},e.templates.quick_info_content=function(o,i,d){return d.details||""},e.templates.quick_info_date=function(o,i,d){return e.isOneDayEvent(d)&&e.config.rtl?e.templates.day_date(o,i,d)+" "+e.templates.event_header(i,o,d):e.isOneDayEvent(d)?e.templates.day_date(o,i,d)+" "+e.templates.event_header(o,i,d):e.config.rtl?e.templates.week_date(i,o,d):e.templates.week_date(o,i,d)},e.showQuickInfo=function(o){if(o==this._quick_info_box_id||(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[o])===!1))return;let i;i=a&&a.id==o?a.position:this._get_event_counter_part(o),i&&(this._quick_info_box=this._init_quick_info(i),this._fill_quick_data(o),this._show_quick_info(i),this.callEvent("onQuickInfo",[o]))},function(){function o(i){i=i||"";var d,_=parseFloat(i),r=i.match(/m?s/);switch(r&&(r=r[0]),r){case"s":d=1e3*_;break;case"ms":d=_;break;default:d=0}return d}e.hideQuickInfo=function(i){var d=this._quick_info_box,_=this._quick_info_box_id;if(this._quick_info_box_id=0,d&&d.parentNode){var r=d.offsetWidth;if(e.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[_]),d.parentNode.removeChild(d);if(d.style.right=="auto"?d.style.left=-r+"px":d.style.right=-r+"px",i)d.parentNode.removeChild(d);else{var s;window.getComputedStyle?s=window.getComputedStyle(d,null):d.currentStyle&&(s=d.currentStyle);var l=o(s["transition-delay"])+o(s["transition-duration"]);setTimeout(function(){d.parentNode&&d.parentNode.removeChild(d)},l)}this.callEvent("onAfterQuickInfo",[_])}}}(),e.event(window,"keydown",function(o){o.keyCode==27&&e.hideQuickInfo()}),e._show_quick_info=function(o){var i=e._quick_info_box;e._obj.appendChild(i);var d=i.offsetWidth,_=i.offsetHeight;if(e.config.quick_info_detached){var r=o.left-o.dx*(d-o.width);e.getView()&&e.getView()._x_scroll&&(e.config.rtl?r+=e.getView()._x_scroll:r-=e.getView()._x_scroll),r+d>window.innerWidth&&(r=window.innerWidth-d),r=Math.max(0,r),i.style.left=r+"px",i.style.top=o.top-(o.dy?_:-o.height)+"px"}else{const s=e.$container.querySelector(".dhx_cal_data").offsetTop;i.style.top=s+20+"px",o.dx==1?(i.style.right="auto",i.style.left=-d+"px",setTimeout(function(){i.style.left="-10px"},1)):(i.style.left="auto",i.style.right=-d+"px",setTimeout(function(){i.style.right="-10px"},1)),i.className=i.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(o.dx==1?"left":"right")}i.ontransitionend=()=>{t(i),i.ontransitionend=null},setTimeout(()=>{t(i)},1)},e.attachEvent("onTemplatesReady",function(){if(e.hideQuickInfo(),this._quick_info_box){var o=this._quick_info_box;o.parentNode&&o.parentNode.removeChild(o),this._quick_info_box=null}}),e._quick_info_onscroll_handler=function(o){e.hideQuickInfo()},e._init_quick_info=function(){if(!this._quick_info_box){var o=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(o),o.className="dhx_cal_quick_info",e.$testmode&&(o.className+=" dhx_no_animate"),e.config.rtl&&(o.className+=" dhx_quick_info_rtl");var i=`
		<div class="dhx_cal_qi_tcontrols">
			<a class="dhx_cal_qi_close_btn scheduler_icon close"></a>
		</div>
		<div class="dhx_cal_qi_title" ${this._waiAria.quickInfoHeaderAttrString()}>
				
				<div class="dhx_cal_qi_tcontent"></div>
				<div class="dhx_cal_qi_tdate"></div>
			</div>
			<div class="dhx_cal_qi_content"></div>`;i+='<div class="dhx_cal_qi_controls">';for(var d=e.config.icons_select,_=0;_<d.length;_++)i+=`<div ${this._waiAria.quickInfoButtonAttrString(this.locale.labels[d[_]])} class="dhx_qi_big_icon ${d[_]}" title="${e.locale.labels[d[_]]}">
				<div class='dhx_menu_icon ${d[_]}'></div><div>${e.locale.labels[d[_]]}</div></div>`;i+="</div>",o.innerHTML=i,e.event(o,"click",function(r){e._qi_button_click(r.target||r.srcElement)}),e.config.quick_info_detached&&(e._detachDomEvent(e._els.dhx_cal_data[0],"scroll",e._quick_info_onscroll_handler),e.event(e._els.dhx_cal_data[0],"scroll",e._quick_info_onscroll_handler))}return this._quick_info_box},e._qi_button_click=function(o){var i=e._quick_info_box;if(o&&o!=i)if(o.closest(".dhx_cal_qi_close_btn"))e.hideQuickInfo();else{var d=e._getClassName(o);if(d.indexOf("_icon")!=-1){var _=e._quick_info_box_id;e._click.buttons[d.split(" ")[1].replace("icon_","")](_)}else e._qi_button_click(o.parentNode)}},e._get_event_counter_part=function(o){return n(e.getRenderedEvent(o))},e._fill_quick_data=function(o){var i=e.getEvent(o),d=e._quick_info_box;e._quick_info_box_id=o;var _={content:e.templates.quick_info_title(i.start_date,i.end_date,i),date:e.templates.quick_info_date(i.start_date,i.end_date,i)};d.querySelector(".dhx_cal_qi_tcontent").innerHTML=`<span>${_.content}</span>`,d.querySelector(".dhx_cal_qi_tdate").innerHTML=_.date,e._waiAria.quickInfoHeader(d,[_.content,_.date].join(" "));var r=d.querySelector(".dhx_cal_qi_content");const s=e.templates.quick_info_content(i.start_date,i.end_date,i);s?(r.classList.remove("dhx_hidden"),r.innerHTML=s):r.classList.add("dhx_hidden")}},readonly:function(e){e.attachEvent("onTemplatesReady",function(){var a;e.form_blocks.recurring&&(a=e.form_blocks.recurring.set_value);var t=e.config.buttons_left.slice(),n=e.config.buttons_right.slice();function o(_,r,s,l){for(var h=r.getElementsByTagName(_),v=s.getElementsByTagName(_),g=v.length-1;g>=0;g--)if(s=v[g],l){var f=document.createElement("span");f.className="dhx_text_disabled",f.innerHTML=l(h[g]),s.parentNode.insertBefore(f,s),s.parentNode.removeChild(s)}else s.disabled=!0,r.checked&&(s.checked=!0)}e.attachEvent("onBeforeLightbox",function(_){this.config.readonly_form||this.getEvent(_).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,e.config.buttons_left=t.slice(),e.config.buttons_right=n.slice(),e.form_blocks.recurring&&(e.form_blocks.recurring.set_value=a));var r=this.config.lightbox.sections;if(this.config.readonly_active){for(var s=0;s<r.length;s++)r[s].type=="recurring"&&this.config.readonly_active&&e.form_blocks.recurring&&(e.form_blocks.recurring.set_value=function(c,p,y){var b=e.$domHelpers.closest(c,".dhx_wrap_section"),x="none";b.querySelector(".dhx_cal_lsection").display=x,b.querySelector(".dhx_form_repeat").display=x,b.style.display=x,e.setLightboxSize()});var l=["dhx_delete_btn","dhx_save_btn"],h=[e.config.buttons_left,e.config.buttons_right];for(s=0;s<l.length;s++)for(var v=l[s],g=0;g<h.length;g++){for(var f=h[g],u=-1,m=0;m<f.length;m++)if(f[m]==v){u=m;break}u!=-1&&f.splice(u,1)}}return this.resetLightbox(),!0});var i=e._fill_lightbox;e._fill_lightbox=function(){var _=this.getLightbox();this.config.readonly_active&&(_.style.visibility="hidden",_.style.display="block");var r=i.apply(this,arguments);if(this.config.readonly_active&&(_.style.visibility="",_.style.display="none"),this.config.readonly_active){var s=this.getLightbox(),l=this._lightbox_r=s.cloneNode(!0);l.id=e.uid(),l.className+=" dhx_cal_light_readonly",o("textarea",s,l,function(h){return h.value}),o("input",s,l,!1),o("select",s,l,function(h){return h.options.length?h.options[Math.max(h.selectedIndex||0,0)].text:""}),s.parentNode.insertBefore(l,s),this.showCover(l),e._lightbox&&e._lightbox.parentNode.removeChild(e._lightbox),this._lightbox=l,e.config.drag_lightbox&&e.event(l.firstChild,"mousedown",e._ready_to_dnd),e._init_lightbox_events(),this.setLightboxSize()}return r};var d=e.hide_lightbox;e.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),d.apply(this,arguments)}})},recurring:function(e){function a(g){return new Date(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),0)}function t(g){return!!g.rrule&&!g.recurring_event_id}var n;function o(){const g={};for(const f in e._events){const u=e._events[f];u.recurring_event_id&&(g[u.recurring_event_id]||(g[u.recurring_event_id]={}),g[u.recurring_event_id][u.original_start.valueOf()]=u)}return g}e._rec_temp=[],e._rec_markers_pull={},e._rec_markers={},e._add_rec_marker=function(g,f){g._pid_time=f,this._rec_markers[g.id]=g,this._rec_markers_pull[g.event_pid]||(this._rec_markers_pull[g.event_pid]={}),this._rec_markers_pull[g.event_pid][f]=g},e._get_rec_marker=function(g,f){let u=this._rec_markers_pull[f];return u?u[g]:null},e._get_rec_markers=function(g){return this._rec_markers_pull[g]||[]},n=e.addEvent,e.addEvent=function(g,f,u,m,c){var p=n.apply(this,arguments);if(p&&e.getEvent(p)){var y=e.getEvent(p);y.start_date&&(y.start_date=a(y.start_date)),y.end_date&&(y.end_date=a(y.end_date))}return p},e.attachEvent("onEventLoading",function(g){return g.original_start&&(g.original_start=e.templates.parse_date(g.original_start)),!0}),e.attachEvent("onEventIdChange",function(g,f){if(!this._ignore_call){this._ignore_call=!0,e._rec_markers[g]&&(e._rec_markers[f]=e._rec_markers[g],delete e._rec_markers[g]),e._rec_markers_pull[g]&&(e._rec_markers_pull[f]=e._rec_markers_pull[g],delete e._rec_markers_pull[g]);for(var u=0;u<this._rec_temp.length;u++)(m=this._rec_temp[u]).recurring_event_id==g&&(m.recurring_event_id=f,this.changeEventId(m.id,f+"#"+m.id.split("#")[1]));for(var u in this._rec_markers){var m;(m=this._rec_markers[u]).recurring_event_id==g&&(m.recurring_event_id=f,m._pid_changed=!0)}var c=e._rec_markers[f];c&&c._pid_changed&&(delete c._pid_changed,setTimeout(function(){if(e.$destroyed)return!0;e.callEvent("onEventChanged",[f,e.getEvent(f)])},1)),delete this._ignore_call}}),e.attachEvent("onConfirmedBeforeEventDelete",function(g){var f=this.getEvent(g);if(this._is_virtual_event(g)||this._is_modified_occurence(f)&&!function(c){return!!c.deleted}(f))(function(c,p){c=c.split("#");let y=e.uid(),b=c[1]?c[1]:p._pid_time,x=e._copy_event(p);x.id=y,x.recurring_event_id=p.recurring_event_id||c[0],x.original_start=new Date(Number(b)),x.deleted=!0,e.addEvent(x)})(g,f);else{t(f)&&this._lightbox_id&&this._roll_back_dates(f);var u=this._get_rec_markers(g);for(var m in u)u.hasOwnProperty(m)&&(g=u[m].id,this.getEvent(g)&&this.deleteEvent(g,!0))}return!0}),e.attachEvent("onEventDeleted",function(g,f){!this._is_virtual_event(g)&&this._is_modified_occurence(f)&&(e._events[g]||(f.deleted=!0,this.setEvent(g,f)))}),e.attachEvent("onEventChanged",function(g,f){if(this._loading)return!0;var u=this.getEvent(g);if(this._is_virtual_event(g))(function(b){let x=b.id.split("#"),k=e.uid();e._not_render=!0;let w=e._copy_event(b);w.id=k,w.recurring_event_id=x[0];let E=x[1];w.original_start=new Date(Number(E)),e._add_rec_marker(w,E),e.addEvent(w),e._not_render=!1})(u);else{u.start_date&&(u.start_date=a(u.start_date)),u.end_date&&(u.end_date=a(u.end_date)),t(u)&&this._lightbox_id&&this._roll_back_dates(u);var m=this._get_rec_markers(g);for(var c in m)m.hasOwnProperty(c)&&(delete this._rec_markers[m[c].id],this.deleteEvent(m[c].id,!0));delete this._rec_markers_pull[g];for(var p=!1,y=0;y<this._rendered.length;y++)this._rendered[y].getAttribute(this.config.event_attribute)==g&&(p=!0);p||(this._select_id=null)}return!0}),e.attachEvent("onEventAdded",function(g){if(!this._loading){var f=this.getEvent(g);t(f)&&this._roll_back_dates(f)}return!0}),e.attachEvent("onEventSave",function(g,f,u){return t(this.getEvent(g))&&(this._select_id=null),!0}),e.attachEvent("onEventCreated",function(g){var f=this.getEvent(g);return t(f)||function(u){u.rrule="",u.original_start=null,u.recurring_event_id=null,u.duration=null,u.deleted=null}(f),!0}),e.attachEvent("onEventCancel",function(g){var f=this.getEvent(g);t(f)&&(this._roll_back_dates(f),this.render_view_data())}),e._roll_back_dates=function(g){g.start_date&&(g.start_date=a(g.start_date)),g.end_date&&(g.end_date=a(g.end_date)),g.duration=Math.round((g.end_date.valueOf()-g.start_date.valueOf())/1e3),g.end_date=g._end_date,g._start_date&&(g.start_date.setMonth(0),g.start_date.setDate(g._start_date.getDate()),g.start_date.setMonth(g._start_date.getMonth()),g.start_date.setFullYear(g._start_date.getFullYear()))},e._is_virtual_event=function(g){return g.toString().indexOf("#")!=-1},e._is_modified_occurence=function(g){return g.recurring_event_id&&g.recurring_event_id!="0"},e.showLightbox_rec=e.showLightbox,e.showLightbox=function(g){var f=this.locale,u=e.config.lightbox_recurring,m=this.getEvent(g),c=m.recurring_event_id,p=this._is_virtual_event(g);p&&(c=g.split("#")[0]);var y=function(x){var k=e.getEvent(x);return k._end_date=k.end_date,k.end_date=new Date(k.start_date.valueOf()+1e3*k.duration),e.showLightbox_rec(x)};if((c||1*c==0)&&t(m))return y(g);if(!c||c==="0"||!f.labels.confirm_recurring||u=="instance"||u=="series"&&!p)return this.showLightbox_rec(g);if(u=="ask"){var b=this;e.modalbox({text:f.labels.confirm_recurring,title:f.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[f.labels.button_edit_series,f.labels.button_edit_occurrence,f.labels.icon_cancel],callback:function(x){switch(+x){case 0:return y(c);case 1:return b.showLightbox_rec(g);case 2:return}}})}else y(c)},e.get_visible_events_rec=e.get_visible_events,e.get_visible_events=function(g){for(var f=0;f<this._rec_temp.length;f++)delete this._events[this._rec_temp[f].id];this._rec_temp=[];const u=o();var m=this.get_visible_events_rec(g),c=[];for(f=0;f<m.length;f++)m[f].deleted||m[f].recurring_event_id||(t(m[f])?this.repeat_date(m[f],c,void 0,void 0,void 0,void 0,u):c.push(m[f]));return c},function(){var g=e.isOneDayEvent;e.isOneDayEvent=function(u){return!!t(u)||g.call(this,u)};var f=e.updateEvent;e.updateEvent=function(u){var m=e.getEvent(u);m&&t(m)&&!this._is_virtual_event(u)?e.update_view():f.call(this,u)}}();const i=e.date.date_to_str("%Y%m%dT%H%i%s");function d(g){const f=g.getDay(),u=g.getDate();return{dayOfWeek:f,dayNumber:Math.ceil(u/7)}}e.repeat_date=function(g,f,u,m,c,p,y){if(!g.rrule)return;let b=y?y[g.id]:o()[g.id];b||(b={}),m||(m=e._min_date),c||(c=e._max_date);const x=new Date(Date.UTC(g.start_date.getFullYear(),g.start_date.getMonth(),g.start_date.getDate(),g.start_date.getHours(),g.start_date.getMinutes(),g.start_date.getSeconds())),k=ja(`RRULE:${g.rrule};UNTIL=${i(g.end_date)}`,{dtstart:x}).between(m,c).map(S=>{const D=new Date(S);return D.setHours(g.start_date.getHours()),D.setMinutes(g.start_date.getMinutes()),D.setSeconds(g.start_date.getSeconds()),D});let w=0;const E=g.duration;for(let S=0;S<k.length&&!(p&&w>=p);S++){const D=k[S];let M=b[D.valueOf()];if(M){if(M.deleted)continue;w++,f.push(M)}else{const T=e._copy_event(g);if(T.text=g.text,T.start_date=D,T.id=g.id+"#"+Math.ceil(D.valueOf()),T.end_date=new Date(D.valueOf()+1e3*E),T.end_date=e._fix_daylight_saving_date(T.start_date,T.end_date,g,D,T.end_date),T._timed=e.isOneDayEvent(T),!T._timed&&!e._table_view&&!e.config.multi_day)continue;f.push(T),u||(e._events[T.id]=T,e._rec_temp.push(T)),w++}}},e._fix_daylight_saving_date=function(g,f,u,m,c){var p=g.getTimezoneOffset()-f.getTimezoneOffset();return p?p>0?new Date(m.valueOf()+1e3*u.duration-60*p*1e3):new Date(f.valueOf()-60*p*1e3):new Date(c.valueOf())},e.getRecDates=function(g,f){var u=typeof g=="object"?g:e.getEvent(g),m=[];if(f=f||100,!t(u))return[{start_date:u.start_date,end_date:u.end_date}];if(u.deleted)return[];e.repeat_date(u,m,!0,u.start_date,u.end_date,f);for(var c=[],p=0;p<m.length;p++)m[p].deleted||c.push({start_date:m[p].start_date,end_date:m[p].end_date});return c},e.getEvents=function(g,f){var u=[];const m=o();for(var c in this._events){var p=this._events[c];if(!p.recurring_event_id)if(t(p))if(g&&f&&p.start_date<f&&p.end_date>g){var y=[];this.repeat_date(p,y,!0,g,f,void 0,m),y.forEach(function(b){b.start_date<f&&b.end_date>g&&u.push(b)})}else g||f||u.push(p);else this._is_virtual_event(p.id)||u.push(p)}return u},e._copy_dummy=function(g){var f=new Date(this.start_date),u=new Date(this.end_date);this.start_date=f,this.end_date=u,this.duration=this.rrule=null},e.config.include_end_by=!1,e.config.lightbox_recurring="ask",e.config.recurring_workdays=[B.MO.weekday,B.TU.weekday,B.WE.weekday,B.TH.weekday,B.FR.weekday],e.config.repeat_date="%m.%d.%Y",e.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type"},{name:"time",height:72,type:"time",map_to:"auto"}],e.attachEvent("onClearAll",function(){e._rec_markers={},e._rec_markers_pull={},e._rec_temp=[]});const _={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},r={0:1,1:2,2:3,3:4,4:5,5:6,6:0};function s(g){switch(g){case 1:case 31:return`${g}st`;case 2:return`${g}nd`;case 3:return`${g}rd`;default:return`${g}th`}}e.templates.repeat_monthly_date=function(g,f){return`Every ${s(g.getDate())}`},e.templates.repeat_monthly_weekday=function(g,f){const u=d(g);return`Every ${s(u.dayNumber)} ${e.locale.date.day_full[u.dayOfWeek]}`},e.templates.repeat_yearly_month_date=function(g,f){const u=g.getDate(),m=e.locale.date.month_full[g.getMonth()];return`Every ${s(u)} day of ${m}`},e.templates.repeat_yearly_month_weekday=function(g,f){const u=d(g),m=e.locale.date.month_full[g.getMonth()];return`Every ${s(u.dayNumber)} ${e.locale.date.day_full[u.dayOfWeek]} of ${m}`};const l={MONTHLY:function(g){return{rrule:{freq:B.MONTHLY,interval:1,bymonthday:g.start.getDate()},until:new Date(9999,1,1)}},WEEKLY:function(g){let f=g.start.getDay()-1;return f==-1&&(f=6),{rrule:{freq:B.WEEKLY,interval:1,byweekday:[f]},until:new Date(9999,1,1)}},DAILY:function(g){return{rrule:{freq:B.DAILY,interval:1},until:new Date(9999,1,1)}},YEARLY:function(g){return{rrule:{freq:B.YEARLY,bymonth:g.start.getMonth()+1,interval:1,bymonthday:g.start.getDate()},until:new Date(9999,1,1)}},WORKDAYS:function(g){return{rrule:{freq:B.WEEKLY,interval:1,byweekday:e.config.recurring_workdays},until:new Date(9999,1,1)}},CUSTOM:function(g,f){const u={},m=f.querySelector('[name="repeat_interval_unit"]').value,c=Math.max(1,f.querySelector('[name="repeat_interval_value"]').value),p=f.querySelector('[name="dhx_custom_month_option"]').value,y=f.querySelector('[name="dhx_custom_year_option"]').value;let b,x;switch(u.interval=c,m){case"DAILY":u.freq=B.DAILY;break;case"WEEKLY":u.freq=B.WEEKLY,b=[],f.querySelectorAll('.dhx_form_repeat_custom_week [name="week_day"]').forEach(E=>{E.checked&&b.push(E.value)}),u.byweekday=b.map(E=>{switch(E){case"MO":return B.MO.weekday;case"TU":return B.TU.weekday;case"WE":return B.WE.weekday;case"TH":return B.TH.weekday;case"FR":return B.FR.weekday;case"SA":return B.SA.weekday;case"SU":return B.SU.weekday}});break;case"MONTHLY":u.freq=B.MONTHLY,p==="month_date"?u.bymonthday=g.start.getDate():(x=g.start.getDay()-1,x==-1&&(x=6),u.byweekday=[x],u.bysetpos=d(g.start).dayNumber);break;case"YEARLY":u.freq=B.YEARLY,u.bymonth=g.start.getMonth()+1,y=="month_date"?u.bymonthday=g.start.getDate():(x=g.start.getDay()-1,x==-1&&(x=6),u.byweekday=[x],u.bysetpos=d(g.start).dayNumber)}let k=new Date(9999,1,1);const w=f.querySelector('[name="dhx_custom_repeat_ends"]');return w==="ON"?k=f.querySelector('[name="dhx_form_repeat_ends_ondate"]').value:w==="AFTER"&&(u.count=Math.max(1,f.querySelector('[name="dhx_form_repeat_ends_after"]').value)),{rrule:u,until:k}},NEVER:function(){}};function h(g,f,u){(function(m,c){m.querySelector("[name='repeat_interval_value']").value=(c?c.interval:1)||1})(g,f),function(m,c,p){if(m.querySelector("[name='repeat_interval_value']").value=(c?c.interval:1)||1,m.querySelectorAll(".dhx_form_repeat_custom_week input").forEach(y=>y.checked=!1),c&&c.byweekday)c.byweekday.forEach(y=>{const b=r[y.weekday],x=_[b];m.querySelector(`.dhx_form_repeat_custom_week input[value="${x}"]`).checked=!0});else{const y=_[p.start_date.getDay()];m.querySelector(`.dhx_form_repeat_custom_week input[value="${y}"]`).checked=!0}}(g,f,u),function(m,c,p){m.querySelector("[name='repeat_interval_value']").value=(c?c.interval:1)||1;const y=m.querySelector('.dhx_form_repeat_custom_month [value="month_date"]'),b=m.querySelector('.dhx_form_repeat_custom_month [value="month_nth_weekday"]');y.innerText=e.templates.repeat_monthly_date(p.start_date,p),b.innerText=e.templates.repeat_monthly_weekday(p.start_date,p),c&&(!c.bysetpos||c.byweekday&&c.byweekday.length)?m.querySelector('[name="dhx_custom_month_option"]').value="month_nth_weekday":m.querySelector('[name="dhx_custom_month_option"]').value="month_date"}(g,f,u),function(m,c,p){const y=m.querySelector('.dhx_form_repeat_custom_year [value="month_date"]'),b=m.querySelector('.dhx_form_repeat_custom_year [value="month_nth_weekday"]');y.innerText=e.templates.repeat_yearly_month_date(p.start_date,p),b.innerText=e.templates.repeat_yearly_month_weekday(p.start_date,p),c&&(!c.bysetpos||c.byweekday&&c.byweekday.length)?m.querySelector('[name="dhx_custom_year_option"]').value="month_nth_weekday":m.querySelector('[name="dhx_custom_year_option"]').value="month_date"}(g,f,u),function(m,c,p){const y=m.querySelector('.dhx_form_repeat_ends_extra [name="dhx_form_repeat_ends_after"]'),b=m.querySelector('.dhx_form_repeat_ends_extra [name="dhx_form_repeat_ends_ondate"]'),x=m.querySelector("[name='dhx_custom_repeat_ends']");y.value=1;let k=e.date.date_to_str("%Y-%m-%d");e.config.repeat_date_of_end||(e.config.repeat_date_of_end=k(e.date.add(e._currentDate(),30,"day"))),b.value=e.config.repeat_date_of_end,c&&c.count?(x.value="AFTER",y.value=c.count):p._end_date&&p._end_date.getFullYear()!==9999?(x.value="ON",b.value=k(p._end_date)):x.value="NEVER",x.dispatchEvent(new Event("change"))}(g,f,u)}function v(g){for(let f=0;f<e.config.lightbox.sections.length;f++){let u=e.config.lightbox.sections[f];if(u.type===g)return e.formSection(u.name)}return null}e.form_blocks.recurring={render:function(g){if(g.form){let u=e.form_blocks.recurring,m=u._get_node(g.form),c=u._outer_html(m);return m.style.display="none",c}let f=e.locale.labels;return`<div class="dhx_form_rrule">
		<div class="dhx_form_repeat_pattern">
			<select>
				<option value="NEVER">${f.repeat_never}</option>
				<option value="DAILY">${f.repeat_daily}</option>
				<option value="WEEKLY">${f.repeat_weekly}</option>
				<option value="MONTHLY">${f.repeat_monthly}</option>
				<option value="YEARLY">${f.repeat_yearly}</option>
				<option value="WORKDAYS">${f.repeat_workdays}</option>
				<option value="CUSTOM">${f.repeat_custom}</option>
			</select>
		</div>
		<div class="dhx_form_repeat_custom dhx_hidden">
			<div class="dhx_form_repeat_custom_interval">
				<input name="repeat_interval_value" type="number" min="1">
				<select name="repeat_interval_unit">
					<option value="DAILY">${f.repeat_freq_day}</option>
					<option value="WEEKLY">${f.repeat_freq_week}</option>
					<option value="MONTHLY">${f.repeat_freq_month}</option>
					<option value="YEARLY">${f.repeat_freq_year}</option>
				</select>
			</div>

			<div class="dhx_form_repeat_custom_additional">
				<div class="dhx_form_repeat_custom_week dhx_hidden">
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="MO" />${f.day_for_recurring[1]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="TU" />${f.day_for_recurring[2]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="WE" />${f.day_for_recurring[3]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="TH" />${f.day_for_recurring[4]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="FR" />${f.day_for_recurring[5]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="SA" />${f.day_for_recurring[6]}</label>
					<label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="SU" />${f.day_for_recurring[0]}</label>
				</div>

				<div class="dhx_form_repeat_custom_month dhx_hidden">
					<select name="dhx_custom_month_option">
						<option value="month_date"></option>
						<option value="month_nth_weekday"></option>
					</select>
				</div>

				<div class="dhx_form_repeat_custom_year dhx_hidden">
					<select name="dhx_custom_year_option">
						<option value="month_date"></option>
						<option value="month_nth_weekday"></option>
					</select>
				</div>
			</div>

			<div class="dhx_form_repeat_ends">
				<div>${f.repeat_ends}</div>
				<div class="dhx_form_repeat_ends_options">
					<select name="dhx_custom_repeat_ends">
						<option value="NEVER">${f.repeat_never}</option>
						<option value="AFTER">${f.repeat_radio_end2}</option>
						<option value="ON">${f.repeat_on_date}</option>
					</select>
					<div class="dhx_form_repeat_ends_extra">
						<div class="dhx_form_repeat_ends_after dhx_hidden">
							<label><input type="number" min="1" name="dhx_form_repeat_ends_after">${f.repeat_text_occurences_count}</label>
						</div>
						<div class="dhx_form_repeat_ends_on dhx_hidden">
							<input type="date" name="dhx_form_repeat_ends_ondate">
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>`},_init_set_value:function(g,f,u){function m(p){p.classList.add("dhx_hidden")}function c(p){p.classList.remove("dhx_hidden")}e.form_blocks.recurring._ds={start:u.start_date,end:u.end_date},g.querySelector(".dhx_form_repeat_pattern select").addEventListener("change",function(){(function(p){const y=g.querySelector(".dhx_form_repeat_custom");p==="CUSTOM"?c(y):m(y)})(this.value)}),g.querySelector(".dhx_form_repeat_custom_interval [name='repeat_interval_unit']").addEventListener("change",function(){(function(p){const y={weekly:g.querySelector(".dhx_form_repeat_custom_week"),monthly:g.querySelector(".dhx_form_repeat_custom_month"),yearly:g.querySelector(".dhx_form_repeat_custom_year")};switch(p){case"DAILY":m(y.weekly),m(y.monthly),m(y.yearly);break;case"WEEKLY":c(y.weekly),m(y.monthly),m(y.yearly);break;case"MONTHLY":m(y.weekly),c(y.monthly),m(y.yearly);break;case"YEARLY":m(y.weekly),m(y.monthly),c(y.yearly)}})(this.value)}),g.querySelector(".dhx_form_repeat_ends [name='dhx_custom_repeat_ends']").addEventListener("change",function(){(function(p){const y={after:g.querySelector(".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_after"),on:g.querySelector(".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_on")};switch(p){case"NEVER":m(y.after),m(y.on);break;case"AFTER":c(y.after),m(y.on);break;case"ON":m(y.after),c(y.on)}})(this.value)}),e._lightbox._rec_init_done=!0},button_click:function(){},set_value:function(g,f,u){let m=e.form_blocks.recurring;e._lightbox._rec_init_done||m._init_set_value(g,f,u),g.open=!u.rrule,g.blocked=this._is_modified_occurence(u);let c=m._ds;if(c.start=u.start_date,c.end=u._end_date,u.rrule){const p=ja(u.rrule);h(g,p.origOptions,u);const y=function(b,x){const k=b.options,w=k.until||x;return k.count||w&&w.getFullYear()!==9999?"CUSTOM":k.freq!==B.DAILY||k.interval!==1||k.byweekday?k.freq!==B.WEEKLY||k.interval!==1||k.byweekday?k.freq!==B.MONTHLY||k.interval!==1||k.bysetpos?k.freq!==B.YEARLY||k.interval!==1||k.bysetpos?k.freq===B.DAILY&&k.byweekday&&k.byweekday.length===e.config.recurring_workdays.length&&k.byweekday.includes(B.MO)&&k.byweekday.includes(B.TU)&&k.byweekday.includes(B.WE)&&k.byweekday.includes(B.TH)&&k.byweekday.includes(B.FR)?"WORKDAYS":"CUSTOM":"YEARLY":"MONTHLY":"WEEKLY":"DAILY"}(p,u._end_date);if(g.querySelector(".dhx_form_repeat_pattern select").value=y,y==="CUSTOM"){let b;switch(p.origOptions.freq){case B.DAILY:b="DAILY";break;case B.WEEKLY:b="WEEKLY";break;case B.MONTHLY:b="MONTHLY";break;case B.YEARLY:b="YEARLY"}b&&(g.querySelector('[name="repeat_interval_unit"]').value=b,g.querySelector('[name="repeat_interval_unit"]').dispatchEvent(new Event("change")))}}else h(g,null,u),g.querySelector(".dhx_form_repeat_pattern select").value="NEVER";g.querySelector(".dhx_form_repeat_pattern select").dispatchEvent(new Event("change"))},get_value:function(g,f){if(g.blocked||g.querySelector(".dhx_form_repeat_pattern select").value==="NEVER")f.rrule=f.rrule="",f._end_date=f.end_date;else{let u=e.form_blocks.recurring._ds,m={};(function(){let y=e.formSection("time");if(y||(y=v("time")),y||(y=v("calendar_time")),!y)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return y})().getValue(m),u.start=m.start_date;const c=g.querySelector(".dhx_form_repeat_pattern select").value,p=l[c](u,g);f.rrule=new B(p.rrule).toString().replace("RRULE:",""),u.end=p.until,f.duration=Math.floor((m.end_date-m.start_date)/1e3),u._start?(f.start_date=new Date(u.start),f._start_date=new Date(u.start),u._start=!1):f._start_date=null,f._end_date=u.end}return f.rrule},focus:function(g){}}},recurring_legacy:function(e){function a(){var i=e.formSection("recurring");if(i||(i=t("recurring")),!i)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return i}function t(i){for(var d=0;d<e.config.lightbox.sections.length;d++){var _=e.config.lightbox.sections[d];if(_.type===i)return e.formSection(_.name)}return null}function n(i){return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),0)}var o;e.config.occurrence_timestamp_in_utc=!1,e.config.recurring_workdays=[1,2,3,4,5],e.form_blocks.recurring={_get_node:function(i){if(typeof i=="string"){let d=e._lightbox.querySelector(`#${i}`);d||(d=document.getElementById(i)),i=d}return i.style.display=="none"&&(i.style.display=""),i},_outer_html:function(i){return i.outerHTML||(d=i,(r=document.createElement("div")).appendChild(d.cloneNode(!0)),_=r.innerHTML,r=null,_);var d,_,r},render:function(i){if(i.form){var d=e.form_blocks.recurring,_=d._get_node(i.form),r=d._outer_html(_);return _.style.display="none",r}var s=e.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+s.repeat_radio_day+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+s.repeat_radio_week+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+s.repeat_radio_month+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+s.repeat_radio_year+'</label></div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <div><label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+s.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+s.repeat_text_day_count+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+s.repeat_radio_day_type2+'</label></div> </div> <div style="display:none;" id="dhx_repeat_week"><div><label>'+s.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+s.repeat_text_week_count+'</span></div>  <table class="dhx_repeat_days"> <tr> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+s.day_for_recurring[1]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+s.day_for_recurring[4]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+s.day_for_recurring[2]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+s.day_for_recurring[5]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+s.day_for_recurring[3]+'</label></div> <div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+s.day_for_recurring[6]+'</label></div></td> <td><div><label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+s.day_for_recurring[0]+'</label></div> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <div><label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+s.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+s.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+s.repeat_text_month_count+'</label></div> <div><label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+s.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+e.locale.date.day_full[1]+'<option value="2">'+e.locale.date.day_full[2]+'<option value="3">'+e.locale.date.day_full[3]+'<option value="4">'+e.locale.date.day_full[4]+'<option value="5">'+e.locale.date.day_full[5]+'<option value="6">'+e.locale.date.day_full[6]+'<option value="0">'+e.locale.date.day_full[0]+"</select>"+s.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+s.repeat_text_month_count2_after+'</label></div> </div> <div style="display:none;" id="dhx_repeat_year"> <div><label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+s.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+s.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+s.month_for_recurring[0]+'<option value="1">'+s.month_for_recurring[1]+'<option value="2">'+s.month_for_recurring[2]+'<option value="3">'+s.month_for_recurring[3]+'<option value="4">'+s.month_for_recurring[4]+'<option value="5">'+s.month_for_recurring[5]+'<option value="6">'+s.month_for_recurring[6]+'<option value="7">'+s.month_for_recurring[7]+'<option value="8">'+s.month_for_recurring[8]+'<option value="9">'+s.month_for_recurring[9]+'<option value="10">'+s.month_for_recurring[10]+'<option value="11">'+s.month_for_recurring[11]+"</select>"+s.select_year_month+'</label></div> <div><label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+s.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+e.locale.date.day_full[1]+'<option value="2">'+e.locale.date.day_full[2]+'<option value="3">'+e.locale.date.day_full[3]+'<option value="4">'+e.locale.date.day_full[4]+'<option value="5">'+e.locale.date.day_full[5]+'<option value="6">'+e.locale.date.day_full[6]+'<option value="7">'+e.locale.date.day_full[0]+"</select>"+s.select_year_day2+'<select name="year_month2"><option value="0" selected >'+s.month_for_recurring[0]+'<option value="1">'+s.month_for_recurring[1]+'<option value="2">'+s.month_for_recurring[2]+'<option value="3">'+s.month_for_recurring[3]+'<option value="4">'+s.month_for_recurring[4]+'<option value="5">'+s.month_for_recurring[5]+'<option value="6">'+s.month_for_recurring[6]+'<option value="7">'+s.month_for_recurring[7]+'<option value="8">'+s.month_for_recurring[8]+'<option value="9">'+s.month_for_recurring[9]+'<option value="10">'+s.month_for_recurring[10]+'<option value="11">'+s.month_for_recurring[11]+'</select></div> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <div><label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+s.repeat_radio_end+'</label></div> <div><label><input class="dhx_repeat_radio" type="radio" name="end" />'+s.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+s.repeat_text_occurences_count+'</div> <div><label><input class="dhx_repeat_radio" type="radio" name="end" />'+s.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+e.config.repeat_date_of_end+'" /></div> </div> </form> </div> </div>'},_ds:{},_get_form_node:function(i,d,_){var r=i[d];if(!r)return null;if(r.nodeName)return r;if(r.length){for(var s=0;s<r.length;s++)if(r[s].value==_)return r[s]}},_get_node_value:function(i,d,_){var r=i[d];if(!r)return"";if(r.length){if(_){for(var s=[],l=0;l<r.length;l++)r[l].checked&&s.push(r[l].value);return s}for(l=0;l<r.length;l++)if(r[l].checked)return r[l].value}return r.value?_?[r.value]:r.value:void 0},_get_node_numeric_value:function(i,d){return 1*e.form_blocks.recurring._get_node_value(i,d)||0},_set_node_value:function(i,d,_){var r=i[d];if(r){if(r.name==d)r.value=_;else if(r.length)for(var s=typeof _=="object",l=0;l<r.length;l++)(s||r[l].value==_)&&(r[l].checked=s?!!_[r[l].value]:!!_)}},_init_set_value:function(i,d,_){var r=e.form_blocks.recurring,s=r._get_node_value,l=r._set_node_value;e.form_blocks.recurring._ds={start:_.start_date,end:_._end_date};var h=e.date.str_to_date(e.config.repeat_date,!1,!0),v=e.date.date_to_str(e.config.repeat_date),g=i.getElementsByTagName("FORM")[0],f={};function u(E){for(var S=0;S<E.length;S++){var D=E[S];if(D.name)if(f[D.name])if(f[D.name].nodeType){var M=f[D.name];f[D.name]=[M,D]}else f[D.name].push(D);else f[D.name]=D}}if(u(g.getElementsByTagName("INPUT")),u(g.getElementsByTagName("SELECT")),!e.config.repeat_date_of_end){var m=e.date.date_to_str(e.config.repeat_date);e.config.repeat_date_of_end=m(e.date.add(e._currentDate(),30,"day"))}l(f,"date_of_end",e.config.repeat_date_of_end);var c=function(E){return e._lightbox.querySelector(`#${E}`)||{style:{}}};function p(){c("dhx_repeat_day").style.display="none",c("dhx_repeat_week").style.display="none",c("dhx_repeat_month").style.display="none",c("dhx_repeat_year").style.display="none",c("dhx_repeat_"+this.value).style.display="",e.setLightboxSize()}function y(E,S){var D=E.end;if(D.length)if(D[0].value&&D[0].value!="on")for(var M=0;M<D.length;M++)D[M].value==S&&(D[M].checked=!0);else{var T=0;switch(S){case"no":T=0;break;case"date_of_end":T=2;break;default:T=1}D[T].checked=!0}else D.value=S}e.form_blocks.recurring._get_repeat_code=function(E){var S=[s(f,"repeat")];for(b[S[0]](S,E);S.length<5;)S.push("");var D="",M=function(T){var A=T.end;if(A.length){for(var O=0;O<A.length;O++)if(A[O].checked)return A[O].value&&A[O].value!="on"?A[O].value:O?O==2?"date_of_end":"occurences_count":"no"}else if(A.value)return A.value;return"no"}(f);return M=="no"?(E.end=new Date(9999,1,1),D="no"):M=="date_of_end"?E.end=function(T){var A=h(T);return e.config.include_end_by&&(A=e.date.add(A,1,"day")),A}(s(f,"date_of_end")):(e.transpose_type(S.join("_")),D=Math.max(1,s(f,"occurences_count")),E.end=e.date["add_"+S.join("_")](new Date(E.start),D+0,{start_date:E.start})||E.start),S.join("_")+"#"+D};var b={month:function(E,S){var D=e.form_blocks.recurring._get_node_value,M=e.form_blocks.recurring._get_node_numeric_value;D(f,"month_type")=="d"?(E.push(Math.max(1,M(f,"month_count"))),S.start.setDate(D(f,"month_day"))):(E.push(Math.max(1,M(f,"month_count2"))),E.push(D(f,"month_day2")),E.push(Math.max(1,M(f,"month_week2"))),e.config.repeat_precise||S.start.setDate(1)),S._start=!0},week:function(E,S){var D=e.form_blocks.recurring._get_node_value,M=e.form_blocks.recurring._get_node_numeric_value;E.push(Math.max(1,M(f,"week_count"))),E.push(""),E.push("");for(var T=[],A=D(f,"week_day",!0),O=S.start.getDay(),$=!1,q=0;q<A.length;q++)T.push(A[q]),$=$||A[q]==O;T.length||(T.push(O),$=!0),T.sort(),e.config.repeat_precise?$||(e.transpose_day_week(S.start,T,1,7),S._start=!0):(S.start=e.date.week_start(S.start),S._start=!0),E.push(T.join(","))},day:function(E){var S=e.form_blocks.recurring._get_node_value,D=e.form_blocks.recurring._get_node_numeric_value;S(f,"day_type")=="d"?E.push(Math.max(1,D(f,"day_count"))):(E.push("week"),E.push(1),E.push(""),E.push(""),E.push(e.config.recurring_workdays.join(",")),E.splice(0,1))},year:function(E,S){var D=e.form_blocks.recurring._get_node_value;D(f,"year_type")=="d"?(E.push("1"),S.start.setMonth(0),S.start.setDate(D(f,"year_day")),S.start.setMonth(D(f,"year_month"))):(E.push("1"),E.push(D(f,"year_day2")),E.push(D(f,"year_week2")),S.start.setDate(1),S.start.setMonth(D(f,"year_month2"))),S._start=!0}},x={week:function(E,S){var D=e.form_blocks.recurring._set_node_value;D(f,"week_count",E[1]);for(var M=E[4].split(","),T={},A=0;A<M.length;A++)T[M[A]]=!0;D(f,"week_day",T)},month:function(E,S){var D=e.form_blocks.recurring._set_node_value;E[2]===""?(D(f,"month_type","d"),D(f,"month_count",E[1]),D(f,"month_day",S.start.getDate())):(D(f,"month_type","w"),D(f,"month_count2",E[1]),D(f,"month_week2",E[3]),D(f,"month_day2",E[2]))},day:function(E,S){var D=e.form_blocks.recurring._set_node_value;D(f,"day_type","d"),D(f,"day_count",E[1])},year:function(E,S){var D=e.form_blocks.recurring._set_node_value;E[2]===""?(D(f,"year_type","d"),D(f,"year_day",S.start.getDate()),D(f,"year_month",S.start.getMonth())):(D(f,"year_type","w"),D(f,"year_week2",E[3]),D(f,"year_day2",E[2]),D(f,"year_month2",S.start.getMonth()))}};e.form_blocks.recurring._set_repeat_code=function(E,S){var D=e.form_blocks.recurring._set_node_value,M=E.split("#");switch(E=M[0].split("_"),x[E[0]](E,S),M[1]){case"no":y(f,"no");break;case"":y(f,"date_of_end");var T=S.end;e.config.include_end_by&&(T=e.date.add(T,-1,"day")),D(f,"date_of_end",v(T));break;default:y(f,"occurences_count"),D(f,"occurences_count",M[1])}D(f,"repeat",E[0]);var A=e.form_blocks.recurring._get_form_node(f,"repeat",E[0]);A.nodeName=="SELECT"?(A.dispatchEvent(new Event("change")),A.dispatchEvent(new MouseEvent("click"))):A.dispatchEvent(new MouseEvent("click"))};for(var k=0;k<g.elements.length;k++){var w=g.elements[k];w.name==="repeat"&&(w.nodeName!="SELECT"||w.$_eventAttached?w.$_eventAttached||(w.$_eventAttached=!0,w.addEventListener("click",p)):(w.$_eventAttached=!0,w.addEventListener("change",p)))}e._lightbox._rec_init_done=!0},set_value:function(i,d,_){var r=e.form_blocks.recurring;e._lightbox._rec_init_done||r._init_set_value(i,d,_),i.open=!_.rec_type,i.blocked=this._is_modified_occurence(_);var s=r._ds;s.start=_.start_date,s.end=_._end_date,r._toggle_block(),d&&r._set_repeat_code(d,s)},get_value:function(i,d){if(i.open){var _=e.form_blocks.recurring._ds,r={};(function(){var s=e.formSection("time");if(s||(s=t("time")),s||(s=t("calendar_time")),!s)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return s})().getValue(r),_.start=r.start_date,d.rec_type=e.form_blocks.recurring._get_repeat_code(_),_._start?(d.start_date=new Date(_.start),d._start_date=new Date(_.start),_._start=!1):d._start_date=null,d._end_date=_.end,d.rec_pattern=d.rec_type.split("#")[0]}else d.rec_type=d.rec_pattern="",d._end_date=d.end_date;return d.rec_type},_get_button:function(){return a().header.firstChild.firstChild},_get_form:function(){return a().node},open:function(){var i=e.form_blocks.recurring;i._get_form().open||i._toggle_block()},close:function(){var i=e.form_blocks.recurring;i._get_form().open&&i._toggle_block()},_toggle_block:function(){var i=e.form_blocks.recurring,d=i._get_form(),_=i._get_button();d.open||d.blocked?(d.style.height="0px",_&&(_.style.backgroundPosition="-5px 20px",_.nextSibling.innerHTML=e.locale.labels.button_recurring)):(d.style.height="auto",_&&(_.style.backgroundPosition="-5px 0px",_.nextSibling.innerHTML=e.locale.labels.button_recurring_open)),d.open=!d.open,e.setLightboxSize()},focus:function(i){},button_click:function(i,d,_){e.form_blocks.recurring._get_form().blocked||e.form_blocks.recurring._toggle_block()}},e._rec_markers={},e._rec_markers_pull={},e._add_rec_marker=function(i,d){i._pid_time=d,this._rec_markers[i.id]=i,this._rec_markers_pull[i.event_pid]||(this._rec_markers_pull[i.event_pid]={}),this._rec_markers_pull[i.event_pid][d]=i},e._get_rec_marker=function(i,d){var _=this._rec_markers_pull[d];return _?_[i]:null},e._get_rec_markers=function(i){return this._rec_markers_pull[i]||[]},e._rec_temp=[],o=e.addEvent,e.addEvent=function(i,d,_,r,s){var l=o.apply(this,arguments);if(l&&e.getEvent(l)){var h=e.getEvent(l);h.start_date&&(h.start_date=n(h.start_date)),h.end_date&&(h.end_date=n(h.end_date)),this._is_modified_occurence(h)&&e._add_rec_marker(h,1e3*h.event_length),h.rec_type&&(h.rec_pattern=h.rec_type.split("#")[0])}return l},e.attachEvent("onEventIdChange",function(i,d){if(!this._ignore_call){this._ignore_call=!0,e._rec_markers[i]&&(e._rec_markers[d]=e._rec_markers[i],delete e._rec_markers[i]),e._rec_markers_pull[i]&&(e._rec_markers_pull[d]=e._rec_markers_pull[i],delete e._rec_markers_pull[i]);for(var _=0;_<this._rec_temp.length;_++)(r=this._rec_temp[_]).event_pid==i&&(r.event_pid=d,this.changeEventId(r.id,d+"#"+r.id.split("#")[1]));for(var _ in this._rec_markers){var r;(r=this._rec_markers[_]).event_pid==i&&(r.event_pid=d,r._pid_changed=!0)}var s=e._rec_markers[d];s&&s._pid_changed&&(delete s._pid_changed,setTimeout(function(){if(e.$destroyed)return!0;e.callEvent("onEventChanged",[d,e.getEvent(d)])},1)),delete this._ignore_call}}),e.attachEvent("onConfirmedBeforeEventDelete",function(i){var d=this.getEvent(i);if(this._is_virtual_event(i)||this._is_modified_occurence(d)&&d.rec_type&&d.rec_type!="none"){i=i.split("#");var _=this.uid(),r=i[1]?i[1]:Math.round(d._pid_time/1e3),s=this._copy_event(d);s.id=_,s.event_pid=d.event_pid||i[0];var l=r;s.event_length=l,s.rec_type=s.rec_pattern="none",this.addEvent(s),this._add_rec_marker(s,1e3*l)}else{d.rec_type&&this._lightbox_id&&this._roll_back_dates(d);var h=this._get_rec_markers(i);for(var v in h)h.hasOwnProperty(v)&&(i=h[v].id,this.getEvent(i)&&this.deleteEvent(i,!0))}return!0}),e.attachEvent("onEventDeleted",function(i,d){!this._is_virtual_event(i)&&this._is_modified_occurence(d)&&(e._events[i]||(d.rec_type=d.rec_pattern="none",this.setEvent(i,d)))}),e.attachEvent("onEventChanged",function(i,d){if(this._loading)return!0;var _=this.getEvent(i);if(this._is_virtual_event(i)){i=i.split("#");var r=this.uid();this._not_render=!0;var s=this._copy_event(d);s.id=r,s.event_pid=i[0];var l=i[1];s.event_length=l,s.rec_type=s.rec_pattern="",this._add_rec_marker(s,1e3*l),this.addEvent(s),this._not_render=!1}else{_.start_date&&(_.start_date=n(_.start_date)),_.end_date&&(_.end_date=n(_.end_date)),_.rec_type&&this._lightbox_id&&this._roll_back_dates(_);var h=this._get_rec_markers(i);for(var v in h)h.hasOwnProperty(v)&&(delete this._rec_markers[h[v].id],this.deleteEvent(h[v].id,!0));delete this._rec_markers_pull[i];for(var g=!1,f=0;f<this._rendered.length;f++)this._rendered[f].getAttribute(this.config.event_attribute)==i&&(g=!0);g||(this._select_id=null)}return!0}),e.attachEvent("onEventAdded",function(i){if(!this._loading){var d=this.getEvent(i);d.rec_type&&!d.event_length&&this._roll_back_dates(d)}return!0}),e.attachEvent("onEventSave",function(i,d,_){return this.getEvent(i).rec_type||!d.rec_type||this._is_virtual_event(i)||(this._select_id=null),!0}),e.attachEvent("onEventCreated",function(i){var d=this.getEvent(i);return d.rec_type||(d.rec_type=d.rec_pattern=d.event_length=d.event_pid=""),!0}),e.attachEvent("onEventCancel",function(i){var d=this.getEvent(i);d.rec_type&&(this._roll_back_dates(d),this.render_view_data())}),e._roll_back_dates=function(i){i.start_date&&(i.start_date=n(i.start_date)),i.end_date&&(i.end_date=n(i.end_date)),i.event_length=Math.round((i.end_date.valueOf()-i.start_date.valueOf())/1e3),i.end_date=i._end_date,i._start_date&&(i.start_date.setMonth(0),i.start_date.setDate(i._start_date.getDate()),i.start_date.setMonth(i._start_date.getMonth()),i.start_date.setFullYear(i._start_date.getFullYear()))},e._is_virtual_event=function(i){return i.toString().indexOf("#")!=-1},e._is_modified_occurence=function(i){return i.event_pid&&i.event_pid!="0"},e.showLightbox_rec=e.showLightbox,e.showLightbox=function(i){var d=this.locale,_=e.config.lightbox_recurring,r=this.getEvent(i),s=r.event_pid,l=this._is_virtual_event(i);l&&(s=i.split("#")[0]);var h=function(g){var f=e.getEvent(g);return f._end_date=f.end_date,f.end_date=new Date(f.start_date.valueOf()+1e3*f.event_length),e.showLightbox_rec(g)};if((s||1*s==0)&&r.rec_type)return h(i);if(!s||s==="0"||!d.labels.confirm_recurring||_=="instance"||_=="series"&&!l)return this.showLightbox_rec(i);if(_=="ask"){var v=this;e.modalbox({text:d.labels.confirm_recurring,title:d.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[d.labels.button_edit_series,d.labels.button_edit_occurrence,d.labels.icon_cancel],callback:function(g){switch(+g){case 0:return h(s);case 1:return v.showLightbox_rec(i);case 2:return}}})}else h(s)},e.get_visible_events_rec=e.get_visible_events,e.get_visible_events=function(i){for(var d=0;d<this._rec_temp.length;d++)delete this._events[this._rec_temp[d].id];this._rec_temp=[];var _=this.get_visible_events_rec(i),r=[];for(d=0;d<_.length;d++)_[d].rec_type?_[d].rec_pattern!="none"&&this.repeat_date(_[d],r):r.push(_[d]);return r},function(){var i=e.isOneDayEvent;e.isOneDayEvent=function(_){return!!_.rec_type||i.call(this,_)};var d=e.updateEvent;e.updateEvent=function(_){var r=e.getEvent(_);r&&r.rec_type&&(r.rec_pattern=(r.rec_type||"").split("#")[0]),r&&r.rec_type&&!this._is_virtual_event(_)?e.update_view():d.call(this,_)}}(),e.transponse_size={day:1,week:7,month:1,year:12},e.date.day_week=function(i,d,_){i.setDate(1);var r=e.date.month_start(new Date(i)),s=1*d+(_=7*(_-1))-i.getDay()+1;i.setDate(s<=_?s+7:s);var l=e.date.month_start(new Date(i));return r.valueOf()===l.valueOf()},e.transpose_day_week=function(i,d,_,r,s){for(var l=(i.getDay()||(e.config.start_on_monday?7:0))-_,h=0;h<d.length;h++)if(d[h]>l)return i.setDate(i.getDate()+1*d[h]-l-(r?_:s));this.transpose_day_week(i,d,_+r,null,_)},e.transpose_type=function(i){var d="transpose_"+i;if(!this.date[d]){var _=i.split("_"),r="add_"+i,s=this.transponse_size[_[0]]*_[1];if(_[0]=="day"||_[0]=="week"){var l=null;if(_[4]&&(l=_[4].split(","),e.config.start_on_monday)){for(var h=0;h<l.length;h++)l[h]=1*l[h]||7;l.sort()}this.date[d]=function(v,g){var f=Math.floor((g.valueOf()-v.valueOf())/(864e5*s));return f>0&&v.setDate(v.getDate()+f*s),l&&e.transpose_day_week(v,l,1,s),v},this.date[r]=function(v,g){var f=new Date(v.valueOf());if(l)for(var u=0;u<g;u++)e.transpose_day_week(f,l,0,s);else f.setDate(f.getDate()+g*s);return f}}else _[0]!="month"&&_[0]!="year"||(this.date[d]=function(v,g,f){var u=Math.ceil((12*g.getFullYear()+1*g.getMonth()+1-(12*v.getFullYear()+1*v.getMonth()+1))/s-1);return u>=0&&(v.setDate(1),v.setMonth(v.getMonth()+u*s)),e.date[r](v,0,f)},this.date[r]=function(v,g,f,u){if(u?u++:u=1,u>12)return null;var m=new Date(v.valueOf());m.setDate(1),m.setMonth(m.getMonth()+g*s);var c=m.getMonth(),p=m.getFullYear();m.setDate(f.start_date.getDate()),_[3]&&e.date.day_week(m,_[2],_[3]);var y=e.config.recurring_overflow_instances;return m.getMonth()!=c&&y!="none"&&(m=y==="lastDay"?new Date(p,c+1,0,m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()):e.date[r](new Date(p,c+1,0),g||1,f,u)),m})}},e.repeat_date=function(i,d,_,r,s,l){r=r||this._min_date,s=s||this._max_date;var h=l||-1,v=new Date(i.start_date.valueOf()),g=v.getHours(),f=0;for(!i.rec_pattern&&i.rec_type&&(i.rec_pattern=i.rec_type.split("#")[0]),this.transpose_type(i.rec_pattern),v=e.date["transpose_"+i.rec_pattern](v,r,i);v&&(v<i.start_date||e._fix_daylight_saving_date(v,r,i,v,new Date(v.valueOf()+1e3*i.event_length)).valueOf()<=r.valueOf()||v.valueOf()+1e3*i.event_length<=r.valueOf());)v=this.date["add_"+i.rec_pattern](v,1,i);for(;v&&v<s&&v<i.end_date&&(h<0||f<h);){v.setHours(g);var u=e.config.occurrence_timestamp_in_utc?Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()):v.valueOf(),m=this._get_rec_marker(u,i.id);if(m)_&&(m.rec_type!="none"&&f++,d.push(m));else{var c=new Date(v.valueOf()+1e3*i.event_length),p=this._copy_event(i);if(p.text=i.text,p.start_date=v,p.event_pid=i.id,p.id=i.id+"#"+Math.round(u/1e3),p.end_date=c,p.end_date=e._fix_daylight_saving_date(p.start_date,p.end_date,i,v,p.end_date),p._timed=this.isOneDayEvent(p),!p._timed&&!this._table_view&&!this.config.multi_day)return;d.push(p),_||(this._events[p.id]=p,this._rec_temp.push(p)),f++}v=this.date["add_"+i.rec_pattern](v,1,i)}},e._fix_daylight_saving_date=function(i,d,_,r,s){var l=i.getTimezoneOffset()-d.getTimezoneOffset();return l?l>0?new Date(r.valueOf()+1e3*_.event_length-60*l*1e3):new Date(d.valueOf()-60*l*1e3):new Date(s.valueOf())},e.getRecDates=function(i,d){var _=typeof i=="object"?i:e.getEvent(i),r=[];if(d=d||100,!_.rec_type)return[{start_date:_.start_date,end_date:_.end_date}];if(_.rec_type=="none")return[];e.repeat_date(_,r,!0,_.start_date,_.end_date,d);for(var s=[],l=0;l<r.length;l++)r[l].rec_type!="none"&&s.push({start_date:r[l].start_date,end_date:r[l].end_date});return s},e.getEvents=function(i,d){var _=[];for(var r in this._events){var s=this._events[r];if(s&&s.start_date<d&&s.end_date>i)if(s.rec_pattern){if(s.rec_pattern=="none")continue;var l=[];this.repeat_date(s,l,!0,i,d);for(var h=0;h<l.length;h++)!l[h].rec_pattern&&l[h].start_date<d&&l[h].end_date>i&&!this._rec_markers[l[h].id]&&_.push(l[h])}else this._is_virtual_event(s.id)||_.push(s)}return _},e.config.repeat_date="%m.%d.%Y",e.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],e._copy_dummy=function(i){var d=new Date(this.start_date),_=new Date(this.end_date);this.start_date=d,this.end_date=_,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},e.config.include_end_by=!1,e.config.lightbox_recurring="ask",e.attachEvent("onClearAll",function(){e._rec_markers={},e._rec_markers_pull={},e._rec_temp=[]})},serialize:function(e){const a=po(e);e.data_attributes=function(){var t=[],n=e._helpers.formatDate,o=a();for(var i in o){var d=o[i];for(var _ in d)_.substr(0,1)!="_"&&t.push([_,_=="start_date"||_=="end_date"?n:null]);break}return t},e.toXML=function(t){var n=[],o=this.data_attributes(),i=a();for(var d in i){var _=i[d];n.push("<event>");for(var r=0;r<o.length;r++)n.push("<"+o[r][0]+"><![CDATA["+(o[r][1]?o[r][1](_[o[r][0]]):_[o[r][0]])+"]]></"+o[r][0]+">");n.push("</event>")}return(t||"")+"<data>"+n.join(`
`)+"</data>"},e._serialize_json_value=function(t){return t===null||typeof t=="boolean"?t=""+t:(t||t===0||(t=""),t='"'+t.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),t},e.toJSON=function(){return JSON.stringify(this.serialize())},e.toICal=function(t){var n=e.date.date_to_str("%Y%m%dT%H%i%s"),o=e.date.date_to_str("%Y%m%d"),i=[],d=a();for(var _ in d){var r=d[_];i.push("BEGIN:VEVENT"),r._timed&&(r.start_date.getHours()||r.start_date.getMinutes())?i.push("DTSTART:"+n(r.start_date)):i.push("DTSTART:"+o(r.start_date)),r._timed&&(r.end_date.getHours()||r.end_date.getMinutes())?i.push("DTEND:"+n(r.end_date)):i.push("DTEND:"+o(r.end_date)),i.push("SUMMARY:"+r.text),i.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(t||"")+`
`+i.join(`
`)+`
END:VCALENDAR`}},timeline:function(e){function a(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var o=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;return o==i&&(i=n.clientWidth),document.body.removeChild(n),o-i}e.ext.timeline={renderCells:function(t,n,o){if(!t||!t.length)return;const i=[];for(let d=0;d<t.length;d++){const _=t[d];let r="";_.$width&&(r="width:"+_.$width+"px;");let s=o;_.css&&(s+=" "+_.css),d===0&&(s+=" "+o+"_first"),d===t.length-1&&(s+=" "+o+"_last");const l=n(_)||"";i.push(`<div class='${s}' style='${r}'><div class='dhx_timeline_label_content_wrapper'>${l}</div></div>`)}return i.join("")},renderHeading:function(){return this.renderCells(this.columns,function(t){return t.label},"dhx_timeline_label_column dhx_timeline_label_column_header")},renderColumns:function(t){return this.renderCells(this.columns,function(n){return n.template&&n.template.call(self,t)||""},"dhx_timeline_label_column")},scrollTo:function(t){if(t){var n;n=t.date?t.date:t.left?t.left:t;var o,i=-1;if(t.section?i=this.getSectionTop(t.section):t.top&&(i=t.top),o=typeof n=="number"?n:this.posFromDate(n),e.config.rtl){var d=+e.$container.querySelector(".dhx_timeline_label_wrapper").style.height.replace("px",""),_=this._section_height[this.y_unit.length]+this._label_rows[this._label_rows.length-1].top;this.scrollHelper.getMode()==this.scrollHelper.modes.minMax&&(_>d||this.render=="tree")&&(o-=a())}var r=e.$container.querySelector(".dhx_timeline_data_wrapper");this.scrollable||(r=e.$container.querySelector(".dhx_cal_data")),this.scrollable&&this.scrollHelper.setScrollValue(r,o),i>0&&(r.scrollTop=i)}},getScrollPosition:function(){return{left:this._x_scroll||0,top:this._y_scroll||0}},posFromDate:function(t){return e._timeline_getX({start_date:t},!1,this)-1},dateFromPos:function(t){return e._timeline_drag_date(this,t)},sectionFromPos:function(t){var n={y:t};return e._resolve_timeline_section(this,n),n.section},resolvePosition:function(t){var n={date:null,section:null};return t.left&&(n.date=this.dateFromPos(t.left)),t.top&&(n.section=this.sectionFromPos(t.top)),n},getSectionHeight:function(t){return this._section_height[t]},getSectionTop:function(t){return this._rowStats[t].top},getEventTop:function(t){var n=this.getEventHeight(t),o=t._sorder||0,i=1+o*(n-3)+(o?2*o:0);return e.config.cascade_event_display&&(i=1+o*e.config.cascade_event_margin+(o?2*o:0)),i},getEventHeight:function(t){var n=this,o=t[n.y_property],i=n.event_dy;const d=n.order[o];return n.event_dy=="full"&&(n.section_autoheight?(e._timeline_get_cur_row_stats(this,d),i=n.getSectionHeight(o)-6):i=n.dy-3),n.resize_events&&(i=Math.max(Math.floor(i/(t._count||1)),n.event_min_dy)),i}},e._temp_matrix_scope=function(){function t(c,p){if(p=p||[],c.children)for(var y=0;y<c.children.length;y++)p.push(c.children[y].key),t(c.children[y],p);return p}function n(c,p){var y=p.order[c];return y===void 0&&(y="$_"+c),y}function o(c,p){if(p[c.key]=c,c.children)for(var y=0;y<c.children.length;y++)o(c.children[y],p)}function i(c,p){for(var y,b=[],x=0;x<p.y_unit.length;x++)b[x]=[];b[y]||(b[y]=[]);var k=function(z){for(var P={},W=z.y_unit_original||z.y_unit,X=0;X<W.length;X++)o(W[X],P);return P}(p),w=p.render=="tree";function E(z,P,W,X){z[P]||(z[P]=[]);for(var Q=W;Q<=X;Q++)z[P][Q]||(z[P][Q]=[]),z[P][Q].push(D)}w&&(b.$tree={});var S=p.y_property;for(x=0;x<c.length;x++){var D=c[x],M=D[S];y=n(M,p);var T=e._get_date_index(p,D.start_date),A=e._get_date_index(p,D.end_date);D.end_date.valueOf()==p._trace_x[A].valueOf()&&(A-=1),b[y]||(b[y]=[]),E(b,y,T,A);var O=k[M];if(w&&O&&O.$parent)for(var $={};O.$parent;){if($[O.key])throw new Error("Invalid sections tree. Section `{key:'"+O.key+"', label:'"+O.label+"'}` has the same key as one of its parents. Make sure all sections have unique keys");$[O.key]=!0;var q=k[O.$parent];E(b.$tree,q.key,T,A),O=q}}return b}e.matrix={},e._merge=function(c,p){for(var y in p)c[y]===void 0&&(c[y]=p[y])},e.createTimelineView=function(c){e._merge(c,{scrollHelper:Wl(),column_width:100,autoscroll:{range_x:200,range_y:100,speed_x:20,speed_y:10},_is_new_view:!0,_section_autowidth:!0,_x_scroll:0,_y_scroll:0,_h_cols:{},_label_rows:[],section_autoheight:!0,layout:"timeline",name:"matrix",x:"time",y:"time",x_step:1,x_unit:"hour",y_unit:"day",y_step:1,x_start:0,x_size:24,y_start:0,y_size:7,x_date:e.config.hour_date,render:"cell",dx:200,dy:50,event_dy:e.xy.bar_height,event_min_dy:e.xy.bar_height,resize_events:!0,fit_events:!0,fit_events_offset:0,show_unassigned:!1,second_scale:!1,round_position:!1,_logic:function(w,E,S){var D={};return e.checkEvent("onBeforeSectionRender")&&(D=e.callEvent("onBeforeSectionRender",[w,E,S])),D}}),c._original_x_start=c.x_start,c.x_unit!="day"&&(c.first_hour=c.last_hour=0),c._start_correction=c.first_hour?60*c.first_hour*60*1e3:0,c._end_correction=c.last_hour?60*(24-c.last_hour)*60*1e3:0,e.checkEvent("onTimelineCreated")&&e.callEvent("onTimelineCreated",[c]),Ga(c),e.attachEvent("onDestroy",function(){c.detachAllEvents()});var p=e.render_data;e.render_data=function(w,E){if(this._mode!=c.name)return p.apply(this,arguments);if(!E||c.show_unassigned&&!e.getState().drag_id||c.render=="cell")e._renderMatrix.call(c,!0,!0);else for(var S=0;S<w.length;S++)this.clear_event(w[S]),this.render_timeline_event.call(this.matrix[this._mode],w[S],!0)},e.matrix[c.name]=c,e.templates[c.name+"_cell_value"]=function(w){return w?w.length:""},e.templates[c.name+"_cell_class"]=function(w){return""},e.templates[c.name+"_scalex_class"]=function(w){return""},e.templates[c.name+"_second_scalex_class"]=function(w){return""},e.templates[c.name+"_row_class"]=function(w,E){return E.folder_events_available&&w.children?"folder":""},e.templates[c.name+"_scaley_class"]=function(w,E,S){return""},c.attachEvent("onBeforeRender",function(){return c.columns&&c.columns.length&&function(w,E){var S=E.dx,D=0,M=[];w.forEach(function($){$.width?(D+=$.width,$.$width=$.width):M.push($)});var T=!1,A=S-D;(A<0||M.length===0)&&(T=!0);var O=M.length;M.forEach(function($){$.$width=Math.max(Math.floor(A/O),20),A-=$.$width,D+=$.$width,O--}),T&&(E.dx=D)}(c.columns,c),!0}),c.renderColumns=c.renderColumns||e.ext.timeline.renderColumns.bind(c),c.renderHeading=c.renderHeading||e.ext.timeline.renderHeading.bind(c),c.renderCells=c.renderCells||e.ext.timeline.renderCells.bind(c),e.templates[c.name+"_scale_label"]=function(w,E,S){return c.columns&&c.columns.length?c.renderColumns(S):E},e.templates[c.name+"_scale_header"]=function(w){return c.columns?w.renderHeading(w):e.locale.labels[c.name+"_scale_header"]||""},e.templates[c.name+"_tooltip"]=function(w,E,S){return S.text},e.templates[c.name+"_date"]=function(w,E){return w.getDay()==E.getDay()&&E-w<864e5||+w==+e.date.date_part(new Date(E))||+e.date.add(w,1,"day")==+E&&E.getHours()===0&&E.getMinutes()===0?e.templates.day_date(w):w.getDay()!=E.getDay()&&E-w<864e5?e.templates.day_date(w)+" &ndash; "+e.templates.day_date(E):e.templates.week_date(w,E)};let y=c.x_date||e.config.hour_date,b=null;e.templates[c.name+"_scale_date"]=function(w){return y===(c.x_date||e.config.hour_date)&&b||(y=c.x_date||e.config.hour_date,b=e.date.date_to_str(y)),b(w)};let x=c.second_scale&&c.second_scale.x_date?c.second_scale.x_date:e.config.hour_date,k=null;e.templates[c.name+"_second_scale_date"]=function(w){return x===(c.second_scale.x_date||e.config.hour_date)&&k||(x=c.second_scale&&c.second_scale.x_date?c.second_scale.x_date:e.config.hour_date,k=e.date.date_to_str(x)),k(w)},e.date["add_"+c.name+"_private"]=function(w,E){var S=E,D=c.x_unit;if(c.x_unit=="minute"||c.x_unit=="hour"){var M=S;c.x_unit=="hour"&&(M*=60),M%1440||(S=M/1440,D="day")}return e.date.add(w,S,D)},e.date["add_"+c.name]=function(w,E,S){var D=e.date["add_"+c.name+"_private"](w,(c.x_length||c.x_size)*c.x_step*E);if(c.x_unit=="minute"||c.x_unit=="hour"){var M=c.x_length||c.x_size,T=c.x_unit=="hour"?60*c.x_step:c.x_step;if(T*M%1440)if(+e.date.date_part(new Date(w))==+e.date.date_part(new Date(D)))c.x_start+=E*M;else{var A=1440/(M*T)-1,O=Math.round(A*M);c.x_start=E>0?c.x_start-O:O+c.x_start}}return D},e.date[c.name+"_start"]=function(w){var E=(e.date[c.x_unit+"_start"]||e.date.day_start).call(e.date,w),S=E.getTimezoneOffset(),D=(E=e.date.add(E,c.x_step*c.x_start,c.x_unit)).getTimezoneOffset();return S!=D&&E.setTime(E.getTime()+6e4*(D-S)),E},c._smartRenderingEnabled=function(){var w=null;(this.scrollable||this.smart_rendering)&&(w=e._timeline_smart_render.getViewPort(this.scrollHelper,this._sch_height));var E=!!w;return!!(this.scrollable?this.smart_rendering!==!1&&E:this.smart_rendering&&E)},c.scrollTo=c.scrollTo||e.ext.timeline.scrollTo.bind(c),c.getScrollPosition=c.getScrollPosition||e.ext.timeline.getScrollPosition.bind(c),c.posFromDate=c.posFromDate||e.ext.timeline.posFromDate.bind(c),c.dateFromPos=c.dateFromPos||e.ext.timeline.dateFromPos.bind(c),c.sectionFromPos=c.sectionFromPos||e.ext.timeline.sectionFromPos.bind(c),c.resolvePosition=c.resolvePosition||e.ext.timeline.resolvePosition.bind(c),c.getSectionHeight=c.getSectionHeight||e.ext.timeline.getSectionHeight.bind(c),c.getSectionTop=c.getSectionTop||e.ext.timeline.getSectionTop.bind(c),c.getEventTop=c.getEventTop||e.ext.timeline.getEventTop.bind(c),c.getEventHeight=c.getEventHeight||e.ext.timeline.getEventHeight.bind(c),c.selectEvents=e.bind(function(w){var E=w.section,S=w.date,D=w.selectNested;return S?function(M,T,A,O){var $=e._timeline_smart_render.getPreparedEvents(O),q=[],z=[],P=O.order[M],W=O.y_unit[P];if(!W)return[];var X=e._get_date_index(O,T);return $.$matrix?(q=$.$matrix[P][X]||[],A&&$.$matrix.$tree&&$.$matrix.$tree[W.key]&&(z=$.$matrix.$tree[W.key][X]||[]),q.concat(z)):$[P]||[]}(E,S,D,this):E?function(M,T,A){var O=e._timeline_smart_render.getPreparedEvents(A),$=A.order[M],q=A.y_unit[$];if(!q)return[];var z=[M];T&&t(q,z);for(var P=[],W=0;W<z.length;W++)if(($=A.order[z[W]])!==void 0&&O[$])P=P.concat(O[$]);else if(O.undefined)for(var X=0;X<O.undefined.length;X++){var Q=O.undefined[X];Q[A.y_property]==z[W]&&P.push(Q)}return P}(E,D,this):void 0},c),c.setRange=e.bind(function(w,E){var S=e.date[this.name+"_start"](new Date(w)),D=function(M,T,A){for(var O=0,$=e.date[A.name+"_start"](new Date(M)),q=A.x_step,z=A.x_unit;$<T;)O++,$=e.date.add($,q,z);return O}(w,E,this);this.x_size=D,e.setCurrentView(S,this.name)},c),e.callEvent("onOptionsLoad",[c]),e[c.name+"_view"]=function(w){w?e._set_timeline_dates(c):e._renderMatrix.apply(c,arguments)},e["mouse_"+c.name]=function(w){var E=this._drag_event;if(this._drag_id&&(E=this.getEvent(this._drag_id)),c.scrollable&&!w.converted){if(w.converted=1,w.x+=-c.dx+c._x_scroll,e.config.rtl){var S=+e.$container.querySelector(".dhx_timeline_label_wrapper").style.height.replace("px",""),D=c._section_height[c.y_unit.length]+c._label_rows[c._label_rows.length-1].top;w.x+=e.xy.scale_width,c.scrollHelper.getMode()==c.scrollHelper.modes.minMax&&(D>S||c.render=="tree")&&(w.x+=a())}w.y+=c._y_scroll}else e.config.rtl?w.x-=c.dx-e.xy.scale_width:w.x-=c.dx;var M=e._timeline_drag_date(c,w.x);if(w.x=0,w.force_redraw=!0,w.custom=!0,this._drag_mode=="move"&&this._drag_id&&this._drag_event){E=this.getEvent(this._drag_id);var T=this._drag_event;if(w._ignores=this._ignores_detected||c._start_correction||c._end_correction,T._move_delta===void 0&&(T._move_delta=(E.start_date-M)/6e4,this.config.preserve_length&&w._ignores&&(T._move_delta=this._get_real_event_length(E.start_date,M,c),T._event_length=this._get_real_event_length(E.start_date,E.end_date,c))),this.config.preserve_length&&w._ignores){var A=this._get_fictional_event_length(M,T._move_delta,c,!0);M=new Date(M-A)}else M=e.date.add(M,T._move_delta,"minute")}if(this._drag_mode=="resize"&&E&&(this.config.timeline_swap_resize&&this._drag_id&&(this._drag_from_start&&+M>+E.end_date?this._drag_from_start=!1:!this._drag_from_start&&+M<+E.start_date&&(this._drag_from_start=!0)),w.resize_from_start=this._drag_from_start,!this.config.timeline_swap_resize&&this._drag_id&&this._drag_from_start&&+M>=+e.date.add(E.end_date,-e.config.time_step,"minute")&&(M=e.date.add(E.end_date,-e.config.time_step,"minute"))),c.round_position)switch(this._drag_mode){case"move":this.config.preserve_length||(M=e._timeline_get_rounded_date.call(c,M,!1),c.x_unit=="day"&&(w.custom=!1));break;case"resize":this._drag_event&&(this._drag_event._resize_from_start!==null&&this._drag_event._resize_from_start!==void 0||(this._drag_event._resize_from_start=w.resize_from_start),w.resize_from_start=this._drag_event._resize_from_start,M=e._timeline_get_rounded_date.call(c,M,!this._drag_event._resize_from_start))}this._resolve_timeline_section(c,w),w.section&&this._update_timeline_section({pos:w,event:this.getEvent(this._drag_id),view:c}),w.y=Math.round((this._correct_shift(M,1)-this._min_date)/(6e4*this.config.time_step)),w.shift=this.config.time_step,c.round_position&&this._drag_mode=="new-size"&&M<=this._drag_start&&(w.shift=e.date.add(this._drag_start,c.x_step,c.x_unit)-this._drag_start);var O=this._is_pos_changed(this._drag_pos,w);return this._drag_pos&&O&&(this._drag_event._dhx_changed=!0),O||this._drag_pos.has_moved||(w.force_redraw=!1),w}},e._prepare_timeline_events=function(c){var p=[];if(c.render=="cell")p=e._timeline_trace_events.call(c);else{for(var y=e.get_visible_events(),b=c.order,x=0;x<y.length;x++){var k=y[x],w=k[c.y_property],E=c.order[w];if(c.show_unassigned&&!w){for(var S in b)if(b.hasOwnProperty(S)){p[E=b[S]]||(p[E]=[]);var D=e._lame_copy({},k);D[c.y_property]=S,p[E].push(D);break}}else p[E]||(p[E]=[]),p[E].push(k)}p.$matrix=e._timeline_trace_events.call(c)}return p},e._populate_timeline_rendered=function(c){e._rendered=[];const p=c.querySelector(".dhx_timeline_data_col"),y=Array.prototype.slice.call(p.children);e._timeline_smart_render&&e._timeline_smart_render._rendered_events_cache&&(e._timeline_smart_render._rendered_events_cache=[]),y.forEach(function(b){const x=Number(b.getAttribute("data-section-index"));Array.prototype.slice.call(b.children).forEach(function(k){const w=k.getAttribute(e.config.event_attribute);if(w&&(e._rendered.push(k),e._timeline_smart_render&&e._timeline_smart_render._rendered_events_cache)){const E=e._timeline_smart_render._rendered_events_cache;E[x]||(E[x]=[]),E[x].push(w)}})})},e.render_timeline_event=function(c,p){var y=c[this.y_property];if(!y)return"";var b=c._sorder,x=e._timeline_getX(c,!1,this),k=e._timeline_getX(c,!0,this),w=e._get_timeline_event_height?e._get_timeline_event_height(c,this):this.getEventHeight(c),E=w-2;if(!c._inner&&this.event_dy=="full"){var S=c._count-b;S==0&&(S=1),E=(E+1)*S-2}var D=e._get_timeline_event_y?e._get_timeline_event_y(c._sorder,w):this.getEventTop(c),M=w+D+2;(!this._events_height[y]||this._events_height[y]<M)&&(this._events_height[y]=M);var T=e.templates.event_class(c.start_date,c.end_date,c);T="dhx_cal_event_line "+(T||""),e.getState().select_id==c.id&&(T+=" dhx_cal_event_selected"),c._no_drag_move&&(T+=" no_drag_move");var A=c.color?"--dhx-scheduler-event-background:"+c.color+";":"",O=c.textColor?"--dhx-scheduler-event-color:"+c.textColor+";":"",$=e.templates.event_bar_text(c.start_date,c.end_date,c);const q=Math.max(0,k-x);q<70&&(T+=" dhx_cal_event--small"),q<40&&(T+=" dhx_cal_event--xsmall");var z="<div "+e._waiAria.eventBarAttrString(c)+" event_id='"+c.id+"' "+e.config.event_attribute+"='"+c.id+"' class='"+T+"' style='"+A+O+"position:absolute; top:"+D+"px; height: "+E+"px; "+(e.config.rtl?"right:":"left:")+x+"px; width:"+q+"px;"+(c._text_style||"")+"'>";if(e.config.drag_resize&&!e.config.readonly){var P="dhx_event_resize",W=E+1,X="<div class='"+P+" "+P+"_start' style='height: "+W+"px;'></div>",Q="<div class='"+P+" "+P+"_end' style='height: "+W+"px;'></div>";z+=(c._no_resize_start?"":X)+(c._no_resize_end?"":Q)}if(z+=$+"</div>",!p)return z;var re=document.createElement("div");re.innerHTML=z;var ge=this._scales[y];ge&&(e._rendered.push(re.firstChild),ge.appendChild(re.firstChild))};var d=function(c){return String(c).replace(/'/g,"&apos;").replace(/"/g,"&quot;")};function _(c){return c.height&&!isNaN(Number(c.height))}function r(c){return e._helpers.formatDate(c)}function s(c,p){var y=c.querySelector(".dhx_timeline_data_wrapper");return p.scrollable||(y=e.$container.querySelector(".dhx_cal_data")),y}function l(){return e.$container.querySelector(".dhx_cal_data .dhx_timeline_label_col")}e._timeline_trace_events=function(){return i(e.get_visible_events(),this)},e._timeline_getX=function(c,p,y){var b=0,x=y._step,k=y.round_position,w=0,E=p?c.end_date:c.start_date;E.valueOf()>e._max_date.valueOf()&&(E=e._max_date);var S=E-e._min_date_timeline;if(S>0){var D=e._get_date_index(y,E);e._ignores[D]&&(k=!0);for(var M=0;M<D;M++)b+=e._cols[M];var T=e._timeline_get_rounded_date.apply(y,[E,!1]);k?+E>+T&&p&&(w=e._cols[D]):(S=E-T,y.first_hour||y.last_hour?((S-=y._start_correction)<0&&(S=0),(w=Math.round(S/x))>e._cols[D]&&(w=e._cols[D])):w=Math.round(S/x))}return b+=p&&(S===0||k)?w-1:w},e._timeline_get_rounded_date=function(c,p){var y=e._get_date_index(this,c),b=this._trace_x[y];return p&&+c!=+this._trace_x[y]&&(b=this._trace_x[y+1]?this._trace_x[y+1]:e.date.add(this._trace_x[y],this.x_step,this.x_unit)),new Date(b)},e._timeline_skip_ignored=function(c){if(e._ignores_detected)for(var p,y,b,x,k=0;k<c.length;k++){for(x=c[k],b=!1,p=e._get_date_index(this,x.start_date),y=e._get_date_index(this,x.end_date);p<y;){if(!e._ignores[p]){b=!0;break}p++}b||p!=y||e._ignores[y]||+x.end_date>+this._trace_x[y]&&(b=!0),b||(c.splice(k,1),k--)}},e._timeline_calculate_event_positions=function(c){if(c&&this.render!="cell"){e._timeline_skip_ignored.call(this,c),c.sort(this.sort||function(P,W){return P.start_date.valueOf()==W.start_date.valueOf()?P.end_date.valueOf()>W.end_date.valueOf()?-1:1:P.start_date>W.start_date?1:-1});for(var p=[],y=c.length,b=-1,x=null,k=0;k<y;k++){var w=c[k];w._inner=!1;for(var E=this.round_position?e._timeline_get_rounded_date.apply(this,[w.start_date,!1]):w.start_date;p.length&&p[p.length-1].end_date.valueOf()<=E.valueOf();)p.splice(p.length-1,1);for(var S=!1,D=0;D<p.length;D++){var M=p[D];if(M.end_date.valueOf()<=E.valueOf()){S=!0,w._sorder=M._sorder,p.splice(D,1),w._inner=!0;break}}if(p.length&&(p[p.length-1]._inner=!0),!S)if(p.length)if(p.length<=p[p.length-1]._sorder){if(p[p.length-1]._sorder)for(var T=0;T<p.length;T++){for(var A=!1,O=0;O<p.length;O++)if(p[O]._sorder==T){A=!0;break}if(!A){w._sorder=T;break}}else w._sorder=0;w._inner=!0}else{for(var $=p[0]._sorder,q=1;q<p.length;q++)p[q]._sorder>$&&($=p[q]._sorder);w._sorder=$+1,b<w._sorder&&(b=w._sorder,x=w),w._inner=!1}else w._sorder=0;p.push(w),p.length>(p.max_count||0)?(p.max_count=p.length,w._count=p.length):w._count=w._count?w._count:1}for(var z=0;z<c.length;z++)c[z]._count=p.max_count,e._register_copy&&e._register_copy(c[z]);(x||c[0])&&e.render_timeline_event.call(this,x||c[0],!1)}},e._timeline_get_events_html=function(c){var p="";if(c&&this.render!="cell")for(var y=0;y<c.length;y++)p+=e.render_timeline_event.call(this,c[y],!1);return p},e._timeline_update_events_html=function(c){var p="";if(c&&this.render!="cell"){var y=e.getView(),b={};c.forEach(function(k){var w,E;b[w=k.id,E=k[y.y_property],w+"_"+E]=!0});for(var x=0;x<c.length;x++)p+=e.render_timeline_event.call(this,c[x],!1)}return p},e._timeline_get_block_stats=function(c,p){var y={};return p._sch_height=c.offsetHeight,y.style_data_wrapper=(e.config.rtl?"padding-right:":"padding-left:")+p.dx+"px;",y.style_label_wrapper="width: "+p.dx+"px;",p.scrollable?(y.style_data_wrapper+="height:"+(p._sch_height-1)+"px;",p.html_scroll_width===void 0&&(p.html_scroll_width=a()),p._section_autowidth?p.custom_scroll_width=0:p.custom_scroll_width=p.html_scroll_width,y.style_label_wrapper+="height:"+(p._sch_height-1-p.custom_scroll_width)+"px;"):(y.style_data_wrapper+="height:"+(p._sch_height-1)+"px;",y.style_label_wrapper+="height:"+(p._sch_height-1)+"px;overflow:visible;"),y},e._timeline_get_cur_row_stats=function(c,p){var y=c.y_unit[p],b=c._logic(c.render,y,c);if(e._merge(b,{height:c.dy}),c.section_autoheight&&!_(y)){var x=function(E,S){var D=0,M=E.y_unit.length,T=0;return E.y_unit.forEach(function(A){_(A)&&(D+=Number(A.height),T+=Number(A.height),M--)}),{totalHeight:D+=M*S,rowsWithDefaultHeight:M,totalCustomHeight:T}}(c,b.height),k=c.scrollable?c._sch_height-e.xy.scroll_width:c._sch_height;x.totalHeight<k&&x.rowsWithDefaultHeight>0&&(b.height=Math.max(b.height,Math.floor((k-1-x.totalCustomHeight)/x.rowsWithDefaultHeight)))}if(_(y)&&(b.height=Number(y.height)),c._section_height[y.key]=b.height,!b.td_className){b.td_className="dhx_matrix_scell";var w=e.templates[c.name+"_scaley_class"](c.y_unit[p].key,c.y_unit[p].label,c.y_unit[p]);w&&(b.td_className+=" "+w),c.columns&&(b.td_className+=" dhx_matrix_scell_columns")}return b.td_content||(b.td_content=e.templates[c.name+"_scale_label"](c.y_unit[p].key,c.y_unit[p].label,c.y_unit[p])),e._merge(b,{tr_className:"",style_height:"height:"+b.height+"px;",style_width:"width:"+c.dx+"px;",summ_width:"width:"+c._summ+"px;",table_className:""}),b},e._timeline_get_fit_events_stats=function(c,p,y){if(c.fit_events){var b=c._events_height[c.y_unit[p].key]||0;c.fit_events_offset&&(b+=c.fit_events_offset),y.height=b>y.height?b:y.height,y.style_height="height:"+y.height+"px;",y.style_line_height="line-height:"+(y.height-1)+"px;",c._section_height[c.y_unit[p].key]=y.height}return y.style_height="height:"+y.height+"px;",y.style_line_height="line-height:"+(y.height-1)+"px;",c._section_height[c.y_unit[p].key]=y.height,y},e._timeline_set_scroll_pos=function(c,p){var y=c.querySelector(".dhx_timeline_data_wrapper");y.scrollTop=p._y_scroll||0,p.scrollHelper.setScrollValue(y,p._x_scroll||0),p.scrollHelper.getMode()!=p.scrollHelper.modes.maxMin&&y.scrollLeft==p._summ-y.offsetWidth+p.dx&&(y.scrollLeft+=a())},e._timeline_save_scroll_pos=function(c,p,y,b){c._y_scroll=p||0,c._x_scroll=y||0},e._timeline_get_html_for_cell_data_row=function(c,p,y,b,x){var k="";return x.template&&(k+=" "+(x.template(x.section,x.view)||"")),"<div class='dhx_timeline_data_row"+k+"' data-section-id='"+d(b)+"' data-section-index='"+c+"' style='"+p.summ_width+p.style_height+" position:absolute; top:"+y+"px;'>"},e._timeline_get_html_for_cell_ignores=function(c){return'<div class="dhx_matrix_cell dhx_timeline_data_cell" style="'+c.style_height+c.style_line_height+';display:none"></div>'},e._timeline_get_html_for_cell=function(c,p,y,b,x,k){var w=y._trace_x[c],E=y.y_unit[p],S=e._cols[c],D=r(w),M=e.templates[y.name+"_cell_value"](b,w,E);return"<div data-col-id='"+c+"' data-col-date='"+D+"' class='dhx_matrix_cell dhx_timeline_data_cell "+e.templates[y.name+"_cell_class"](b,w,E)+"' style='width:"+S+"px;"+x.style_height+x.style_line_height+(e.config.rtl?" right:":"  left:")+k+"px;'><div style='width:auto'>"+M+"</div></div>"},e._timeline_get_html_for_bar_matrix_line=function(c,p,y,b){return"<div style='"+p.summ_width+" "+p.style_height+" position:absolute; top:"+y+"px;' data-section-id='"+d(b)+"' data-section-index='"+c+"' class='dhx_matrix_line'>"},e._timeline_get_html_for_bar_data_row=function(c,p){var y=c.table_className;return p.template&&(y+=" "+(p.template(p.section,p.view)||"")),"<div class='dhx_timeline_data_row "+y+"' style='"+c.summ_width+" "+c.style_height+"' >"},e._timeline_get_html_for_bar_ignores=function(){return""},e._timeline_get_html_for_bar=function(c,p,y,b,x,k){var w=r(y._trace_x[c]),E=y.y_unit[p],S="";y.cell_template&&(S=e.templates[y.name+"_cell_value"](b,y._trace_x[c],E,k));var D="line-height:"+y._section_height[E.key]+"px;";let M="";return S&&(M="<div style='width:auto; height:100%;position:relative;"+D+"'>"+S+"</div>"),"<div class='dhx_matrix_cell dhx_timeline_data_cell "+e.templates[y.name+"_cell_class"](b,y._trace_x[c],E,k)+"' style='width:"+e._cols[c]+"px; "+(e.config.rtl?"right:":"left:")+x+"px;'  data-col-id='"+c+"' data-col-date='"+w+"' >"+M+"</div>"},e._timeline_render_scale_header=function(c,p){var y=e.$container.querySelector(".dhx_timeline_scale_header");if(y&&y.remove(),!p)return;y=document.createElement("div");var b="dhx_timeline_scale_header";c.second_scale&&(b+=" dhx_timeline_second_scale");var x=e.xy.scale_height;y.className=b,y.style.cssText=["width:"+c.dx+"px","height:"+x+"px","line-height:"+x+"px","top:0px",e.config.rtl?"right:0px":"left:0px"].join(";"),y.innerHTML=e.templates[c.name+"_scale_header"](c);const k=e.$container.querySelector(".dhx_cal_header");y.style.top=`${k.offsetTop}px`,y.style.height=`${k.offsetHeight}px`,e.$container.appendChild(y)},e._timeline_y_scale=function(c){var p=e._timeline_get_block_stats(c,this),y=this.scrollable?" dhx_timeline_scrollable_data":"",b="<div class='dhx_timeline_table_wrapper'>",x="<div class='dhx_timeline_label_wrapper' style='"+p.style_label_wrapper+"'><div class='dhx_timeline_label_col'>",k="<div class='dhx_timeline_data_wrapper"+y+"' style='"+p.style_data_wrapper+"'><div class='dhx_timeline_data_col'>";e._load_mode&&e._load(),e._timeline_smart_render.clearPreparedEventsCache(w);var w=e._timeline_smart_render.getPreparedEvents(this);e._timeline_smart_render.cachePreparedEvents(w);for(var E=0,S=0;S<e._cols.length;S++)E+=e._cols[S];var D=new Date,M=e._cols.length-e._ignores_detected;D=(e.date.add(D,this.x_step*M,this.x_unit)-D-(this._start_correction+this._end_correction)*M)/E,this._step=D,this._summ=E;var T=e._colsS.heights=[],A=[];this._render_stats=A,this._events_height={},this._section_height={},this._label_rows=[];var O=!1,$=null;this._smartRenderingEnabled()&&($=e._timeline_smart_render.getViewPort(this.scrollHelper,this._sch_height)),e._timeline_smart_render._rendered_labels_cache=[],e._timeline_smart_render._rendered_events_cache=[];var q=!!$,z=this._smartRenderingEnabled(),P=function(ye,C){for(var N=[],H={},I=0,R=0;R<ye.y_unit.length;R++){e._timeline_calculate_event_positions.call(ye,C[R]);var j=e._timeline_get_cur_row_stats(ye,R);(j=e._timeline_get_fit_events_stats(ye,R,j)).top=I,N.push(j),H[ye.y_unit[R].key]=j,I+=j.height}return{totalHeight:I,rowStats:N,rowStatsByKey:H}}(this,w);$&&P.totalHeight<$.scrollTop&&($.scrollTop=Math.max(0,P.totalHeight-$.height)),this._rowStats=P.rowStatsByKey;for(var W=0;W<this.y_unit.length;W++){var X=P.rowStats[W],Q=this.y_unit[W],re=X.top,ge="<div class='dhx_timeline_label_row "+X.tr_className+"' style='top:"+re+"px;"+X.style_height+X.style_line_height+"'data-row-index='"+W+"' data-row-id='"+d(Q.key)+"'><div class='"+X.td_className+"' style='"+X.style_width+" height:"+X.height+"px;' "+e._waiAria.label(X.td_content)+">"+X.td_content+"</div></div>";if(z&&this._label_rows.push({div:ge,top:re,section:Q}),z&&(e._timeline_smart_render.isInYViewPort({top:re,bottom:re+X.height},$)||(O=!0)),O)O=!1;else{x+=ge,z&&e._timeline_smart_render._rendered_labels_cache.push(W);var Ae={view:this,section:Q,template:e.templates[this.name+"_row_class"]},ve=0;if(this.render=="cell"){k+=e._timeline_get_html_for_cell_data_row(W,X,X.top,Q.key,Ae);for(var _e=0;_e<e._cols.length;_e++)e._ignores[_e]&&!z?k+=e._timeline_get_html_for_cell_ignores(X):z&&q?e._timeline_smart_render.isInXViewPort({left:ve,right:ve+e._cols[_e]},$)&&(k+=e._timeline_get_html_for_cell(_e,W,this,w[W][_e],X,ve)):k+=e._timeline_get_html_for_cell(_e,W,this,w[W][_e],X,ve),ve+=e._cols[_e];k+="</div>"}else{k+=e._timeline_get_html_for_bar_matrix_line(W,X,X.top,Q.key);var De=w[W];for(z&&q&&(De=e._timeline_smart_render.getVisibleEventsForRow(this,$,w,W)),k+=e._timeline_get_events_html.call(this,De),k+=e._timeline_get_html_for_bar_data_row(X,Ae),_e=0;_e<e._cols.length;_e++)e._ignores[_e]?k+=e._timeline_get_html_for_bar_ignores():z&&q?e._timeline_smart_render.isInXViewPort({left:ve,right:ve+e._cols[_e]},$)&&(k+=e._timeline_get_html_for_bar(_e,W,this,w[W],ve)):k+=e._timeline_get_html_for_bar(_e,W,this,w[W],ve),ve+=e._cols[_e];k+="</div></div>"}}X.sectionKey=Q.key,A.push(X)}b+=x+"</div></div>",b+=k+"</div></div>",b+="</div>",this._matrix=w,c.innerHTML=b,z&&e._timeline_smart_render&&(e._timeline_smart_render._rendered_events_cache=[]),e._populate_timeline_rendered(c);const nt=c.querySelectorAll("[data-section-id]"),ft={};nt.forEach(function(ye){ft[ye.getAttribute("data-section-id")]=ye}),this._divBySectionId=ft,z&&(e.$container.querySelector(".dhx_timeline_data_col").style.height=P.totalHeight+"px"),this._scales={},S=0;for(var rt=A.length;S<rt;S++){T.push(A[S].height);var Ge=A[S].sectionKey;e._timeline_finalize_section_add(this,Ge,this._divBySectionId[Ge])}(z||this.scrollable)&&function(ye,C,N){e.attachEvent("onOptionsLoad",function(){e.getState().mode===C.name&&(N=e._colsS.heights)}),e.attachEvent("onViewChange",function(){e.getState().mode===C.name&&(N=e._colsS.heights)}),C._is_ev_creating=!1;var H=s(ye,C),I=e._els.dhx_cal_header[0],R=ye.querySelector(".dhx_timeline_label_wrapper");if(R&&!R.$eventsAttached){R.$eventsAttached=!0;var j={pageX:0,pageY:0};e.event(R,"touchstart",function(F){var U=F;F.touches&&(U=F.touches[0]),j={pageX:U.pageX,pageY:U.pageY}},{passive:!1}),e.event(R,"touchmove",function(F){var U=F;F.touches&&(U=F.touches[0]);var V=j.pageY-U.pageY;j={pageX:U.pageX,pageY:U.pageY},V&&(H.scrollTop+=V),F&&F.preventDefault&&F.preventDefault()},{passive:!1})}if(!H.$eventsAttached){let F=function(Y){let Z=!0;var te=e.env.isFF,ae=te?Y.deltaX:Y.wheelDeltaX,de=te?Y.deltaY:Y.wheelDelta,ie=-20;te&&(ie=Y.deltaMode!==0?-40:-10);var ke=1,be=1,Ne=te?ae*ie*ke:2*ae*ke,xe=te?de*ie*be:de*be;if(Ne&&Math.abs(Ne)>Math.abs(xe)){var Fe=Ne/-40;H.scrollLeft+=30*Fe,H.scrollLeft===U&&(Z=!1)}else Fe=xe/-40,xe===void 0&&(Fe=Y.detail),H.scrollTop+=30*Fe,H.scrollTop===V&&(Z=!1);if(Z)return Y.preventDefault(),Y.cancelBubble=!0,!1},U,V;H.$eventsAttached=!0,e.event(H,"mousewheel",F,{passive:!1}),e.event(R,"mousewheel",F,{passive:!1});const ne=function(Y){if(e.getState().mode===C.name){var Z=s(ye,C);Y.preventDefault();var te=Z.scrollTop,ae=C.scrollHelper.getScrollValue(Z);U=ae,V=te;var de=C._summ-e.$container.querySelector(".dhx_cal_data").offsetWidth+C.dx+C.custom_scroll_width,ie=e._timeline_smart_render.getViewPort(C.scrollHelper,0,ae,te),ke=l();if(C.scrollable&&(ke.style.top=-te+"px"),C._smartRenderingEnabled()&&(ae!==C._x_scroll||C._is_ev_creating)&&(C.second_scale?e._timeline_smart_render.updateHeader(C,ie,I.children[1]):e._timeline_smart_render.updateHeader(C,ie,I.children[0])),e.config.rtl){var be=+e.$container.querySelector(".dhx_timeline_label_wrapper").style.height.replace("px",""),Ne=C._section_height[C.y_unit.length]+C._label_rows[C._label_rows.length-1].top;C.scrollHelper.getMode()==C.scrollHelper.modes.minMax&&(Ne>be||C.render=="tree")?I.style.right=-1-ae-a()+"px":I.style.right=-1-ae+"px",I.style.left="unset"}else I.style.left=-1-ae+"px";if(C._smartRenderingEnabled()){if((C._options_changed||te!==C._y_scroll||C._is_ev_creating)&&e._timeline_smart_render.updateLabels(C,ie,ke),C._is_ev_creating=!1,e._timeline_smart_render.updateGridCols(C,ie),e._timeline_smart_render.updateGridRows(C,ie),C.render!="cell"){if(cancelAnimationFrame(void 0),C.name!==e.getState().mode)return;e._timeline_smart_render.updateEvents(C,ie)}var xe,Fe=0;C._scales={},xe=C.render==="cell"?Z.querySelectorAll(".dhx_timeline_data_col .dhx_timeline_data_row"):Z.querySelectorAll(".dhx_timeline_data_col .dhx_matrix_line");for(var ya=C._render_stats,we=0,Ve=xe.length;we<Ve;we++){var Xt=xe[we].getAttribute("data-section-id"),hr=C.order[Xt];N[hr]=ya[hr].height,C._scales[Xt]=xe[we]}for(we=0,Ve=N.length;we<Ve;we++)Fe+=N[we];e.$container.querySelector(".dhx_timeline_data_col").style.height=Fe+"px";var ur=te,fr=ae;e._timeline_save_scroll_pos(C,ur,fr,de),C.callEvent("onScroll",[fr,ur]),C._is_new_view=!1}}};e.event(H,"scroll",ne,{passive:!1});var J={pageX:0,pageY:0};e.event(H,"touchstart",function(Y){var Z=Y;Y.touches&&(Z=Y.touches[0]),J={pageX:Z.pageX,pageY:Z.pageY}},{passive:!1}),e.event(H,"touchmove",function(Y){var Z=Y;Y.touches&&(Z=Y.touches[0]);var te=l(),ae=J.pageX-Z.pageX,de=J.pageY-Z.pageY;if(J={pageX:Z.pageX,pageY:Z.pageY},(ae||de)&&!e.getState().drag_id){var ie=Math.abs(ae),ke=Math.abs(de),be=Math.sqrt(ae*ae+de*de);ie/be<.42?ae=0:ke/be<.42&&(de=0),e.config.rtl&&(ae=-ae),C.scrollHelper.setScrollValue(H,C.scrollHelper.getScrollValue(H)+ae),H.scrollTop+=de,C.scrollable&&de&&(te.style.top=-H.scrollTop+"px")}return Y&&Y.preventDefault&&Y.preventDefault(),!1},{passive:!1})}C.scroll_position&&C._is_new_view?C.scrollTo(C.scroll_position):e._timeline_set_scroll_pos(ye,C),C._is_ev_creating=!0}(c,this,T)},e._timeline_finalize_section_add=function(c,p,y){y&&(c._scales[p]=y,e.callEvent("onScaleAdd",[y,p]))},e.attachEvent("onBeforeViewChange",function(c,p,y,b){if(e.matrix[y]){var x=e.matrix[y];if(x.scrollable||x.smart_rendering){if(x.render=="tree"&&c===y&&p===b)return!0;c===y&&+p==+b||!e.$container.querySelector(".dhx_timeline_scrollable_data")||(x._x_scroll=x._y_scroll=0,e.$container.querySelector(".dhx_timeline_scrollable_data")&&e._timeline_set_scroll_pos(e._els.dhx_cal_data[0],x))}}return!0}),e._timeline_x_dates=function(c){var p=e._min_date,y=e._max_date;e._process_ignores(p,this.x_size,this.x_unit,this.x_step,c),e.date[this.x_unit+"_start"]&&(p=e.date[this.x_unit+"_start"](p));for(var b=0,x=0;+p<+y;)if(this._trace_x[x]=new Date(p),this.x_unit=="month"&&e.date[this.x_unit+"_start"]&&(p=e.date[this.x_unit+"_start"](new Date(p))),p=e.date.add(p,this.x_step,this.x_unit),e.date[this.x_unit+"_start"]&&(p=e.date[this.x_unit+"_start"](p)),e._ignores[x]||b++,x++,c){if(b<this.x_size&&!(+p<+y))y=e.date["add_"+this.name+"_private"](y,(this.x_length||this.x_size)*this.x_step);else if(b>=this.x_size){e._max_date=p;break}}return{total:x,displayed:b}},e._timeline_x_scale=function(c){var p=e._x-this.dx-e.xy.scroll_width,y=e._min_date,b=e.xy.scale_height,x=this._header_resized||e.xy.scale_height;e._cols=[],e._colsS={height:0},this._trace_x=[];var k=e.config.preserve_scale_length,w=e._timeline_x_dates.call(this,k);if(this.scrollable&&this.column_width>0){var E=this.column_width*w.displayed;E>p&&(p=E,this._section_autowidth=!1)}var S=[this.dx];e._els.dhx_cal_header[0].style.width=S[0]+p+1+"px",y=e._min_date_timeline=e._min_date;for(var D=w.displayed,M=w.total,T=0;T<M;T++)e._ignores[T]?(e._cols[T]=0,D++):e._cols[T]=Math.floor(p/(D-T)),p-=e._cols[T],S[T+1]=S[T]+e._cols[T];if(c.innerHTML="<div></div>",this.second_scale){for(var A=this.second_scale.x_unit,O=[this._trace_x[0]],$=[],q=[this.dx,this.dx],z=0,P=0;P<this._trace_x.length;P++){var W=this._trace_x[P];e._timeline_is_new_interval(A,W,O[z])&&(O[++z]=W,q[z+1]=q[z]);var X=z+1;$[z]=e._cols[P]+($[z]||0),q[X]+=e._cols[P]}c.innerHTML="<div></div><div></div>";var Q=c.firstChild;Q.style.height=x+"px";var re=c.lastChild;re.style.position="relative",re.className="dhx_bottom_scale_container";for(var ge=0;ge<O.length;ge++){var Ae=O[ge],ve=e.templates[this.name+"_second_scalex_class"](Ae),_e=document.createElement("div");_e.className="dhx_scale_bar dhx_second_scale_bar"+(ve?" "+ve:""),e.set_xy(_e,$[ge],x,q[ge],0),_e.innerHTML=e.templates[this.name+"_second_scale_date"](Ae),Q.appendChild(_e)}}e.xy.scale_height=x,c=c.lastChild,this._h_cols={};for(var De=0;De<this._trace_x.length;De++)if(!e._ignores[De]){y=this._trace_x[De],e._render_x_header(De,S[De],y,c);var nt=e.templates[this.name+"_scalex_class"](y);nt&&(c.lastChild.className+=" "+nt),c.lastChild.setAttribute("data-col-id",De),c.lastChild.setAttribute("data-col-date",r(y));var ft=c.lastChild.cloneNode(!0);this._h_cols[De]={div:ft,left:S[De]}}e.xy.scale_height=b;var rt=this._trace_x;c.$_clickEventsAttached||(c.$_clickEventsAttached=!0,e.event(c,"click",function(Ge){var ye=e._timeline_locate_hcell(Ge);ye&&e.callEvent("onXScaleClick",[ye.x,rt[ye.x],Ge])}),e.event(c,"dblclick",function(Ge){var ye=e._timeline_locate_hcell(Ge);ye&&e.callEvent("onXScaleDblClick",[ye.x,rt[ye.x],Ge])}))},e._timeline_is_new_interval=function(c,p,y){switch(c){case"hour":return p.getHours()!=y.getHours()||e._timeline_is_new_interval("day",p,y);case"day":return!(p.getDate()==y.getDate()&&p.getMonth()==y.getMonth()&&p.getFullYear()==y.getFullYear());case"week":return e.date.week_start(new Date(p)).valueOf()!=e.date.week_start(new Date(y)).valueOf();case"month":return!(p.getMonth()==y.getMonth()&&p.getFullYear()==y.getFullYear());case"year":return p.getFullYear()!=y.getFullYear();default:return!1}},e._timeline_reset_scale_height=function(c){if(this._header_resized&&(!c||this.second_scale)){e.xy.scale_height/=2,this._header_resized=!1;var p=e._els.dhx_cal_header[0];p.className=p.className.replace(/ dhx_second_cal_header/gi,"")}},e._timeline_set_full_view=function(c){if(e._timeline_reset_scale_height.call(this,c),c){this.second_scale&&!this._header_resized&&(this._header_resized=e.xy.scale_height,e.xy.scale_height*=2,e._els.dhx_cal_header[0].className+=" dhx_second_cal_header"),e.set_sizes(),e._init_matrix_tooltip();var p=e._min_date;if(e._timeline_x_scale.call(this,e._els.dhx_cal_header[0]),e.$container.querySelector(".dhx_timeline_scrollable_data")&&this._smartRenderingEnabled()){var y=e._timeline_smart_render.getViewPort(this.scrollHelper),b=e._timeline_smart_render.getVisibleHeader(this,y);b&&(this.second_scale?e._els.dhx_cal_header[0].children[1].innerHTML=b:e._els.dhx_cal_header[0].children[0].innerHTML=b)}e._timeline_y_scale.call(this,e._els.dhx_cal_data[0]),e._min_date=p;var x=e._getNavDateElement();x&&(x.innerHTML=e.templates[this.name+"_date"](e._min_date,e._max_date)),e._mark_now&&e._mark_now(),e._timeline_reset_scale_height.call(this,c)}e._timeline_render_scale_header(this,c),e._timeline_hideToolTip()},e._timeline_hideToolTip=function(){e._tooltip&&(e._tooltip.style.display="none",e._tooltip.date="")},e._timeline_showToolTip=function(c,p,y){if(c.render=="cell"){var b=p.x+"_"+p.y,x=c._matrix[p.y][p.x];if(!x)return e._timeline_hideToolTip();if(x.sort(function(M,T){return M.start_date>T.start_date?1:-1}),e._tooltip){if(e._tooltip.date==b)return;e._tooltip.innerHTML=""}else{var k=e._tooltip=document.createElement("div");k.className="dhx_year_tooltip",e.config.rtl&&(k.className+=" dhx_tooltip_rtl"),document.body.appendChild(k),e.event(k,"click",e._click.dhx_cal_data)}for(var w="",E=0;E<x.length;E++){var S=x[E].color?"--dhx-scheduler-event-color:"+x[E].color+";":"",D=x[E].textColor?"--dhx-scheduler-event-background:"+x[E].textColor+";":"";w+="<div class='dhx_tooltip_line' event_id='"+x[E].id+"' "+e.config.event_attribute+"='"+x[E].id+"' style='"+S+D+"'>",w+="<div class='dhx_tooltip_date'>"+(x[E]._timed?e.templates.event_date(x[E].start_date):"")+"</div>",w+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",w+=e.templates[c.name+"_tooltip"](x[E].start_date,x[E].end_date,x[E])+"</div>"}e._tooltip.style.display="",e._tooltip.style.top="0px",e.config.rtl&&y.left-e._tooltip.offsetWidth>=0||document.body.offsetWidth-p.src.offsetWidth-y.left-e._tooltip.offsetWidth<0?e._tooltip.style.left=y.left-e._tooltip.offsetWidth+"px":e._tooltip.style.left=y.left+p.src.offsetWidth+"px",e._tooltip.date=b,e._tooltip.innerHTML=w,document.body.offsetHeight-y.top-e._tooltip.offsetHeight<0?e._tooltip.style.top=y.top-e._tooltip.offsetHeight+p.src.offsetHeight+"px":e._tooltip.style.top=y.top+"px"}},e._matrix_tooltip_handler=function(c){var p=e.matrix[e._mode];if(p&&p.render=="cell"){if(p){var y=e._locate_cell_timeline(c);if(y)return e._timeline_showToolTip(p,y,e.$domHelpers.getOffset(y.src))}e._timeline_hideToolTip()}},e._init_matrix_tooltip=function(){e._detachDomEvent(e._els.dhx_cal_data[0],"mouseover",e._matrix_tooltip_handler),e.event(e._els.dhx_cal_data[0],"mouseover",e._matrix_tooltip_handler)},e._set_timeline_dates=function(c){e._min_date=e.date[c.name+"_start"](new Date(e._date)),e._max_date=e.date["add_"+c.name+"_private"](e._min_date,c.x_size*c.x_step),e.date[c.x_unit+"_start"]&&(e._max_date=e.date[c.x_unit+"_start"](e._max_date)),e._table_view=!0},e._renderMatrix=function(c,p){this.callEvent("onBeforeRender",[]),p||(e._els.dhx_cal_data[0].scrollTop=0),e._set_timeline_dates(this),e._timeline_set_full_view.call(this,c)},e._timeline_html_index=function(c){for(var p=c.parentNode.childNodes,y=-1,b=0;b<p.length;b++)if(p[b]==c){y=b;break}var x=y;if(e._ignores_detected)for(var k in e._ignores)e._ignores[k]&&1*k<=x&&x++;return x},e._timeline_locate_hcell=function(c){for(var p=c.target?c.target:c.srcElement;p&&p.tagName!="DIV";)p=p.parentNode;if(p&&p.tagName=="DIV"&&e._getClassName(p).split(" ")[0]=="dhx_scale_bar")return{x:e._timeline_html_index(p),y:-1,src:p,scale:!0}},e._locate_cell_timeline=function(c){for(var p=c.target?c.target:c.srcElement,y={},b=e.matrix[e._mode],x=e.getActionData(c),k=e._ignores,w=0,E=0;E<b._trace_x.length-1&&!(+x.date<b._trace_x[E+1]);E++)k[E]||w++;y.x=w===0?0:E,y.y=b.order[x.section];var S=0;if(b.scrollable&&b.render==="cell"){if(!b._scales[x.section]||!b._scales[x.section].querySelector(".dhx_matrix_cell"))return;var D=b._scales[x.section].querySelector(".dhx_matrix_cell");if(!D)return;var M=D.offsetLeft;if(M>0){for(var T=e._timeline_drag_date(b,M),A=0;A<b._trace_x.length-1&&!(+T<b._trace_x[A+1]);A++);S=A}}y.src=b._scales[x.section]?b._scales[x.section].querySelectorAll(".dhx_matrix_cell")[E-S]:null;var O,$,q=!1,z=(O=p,$=".dhx_matrix_scell",e.$domHelpers.closest(O,$));return z&&(p=z,q=!0),q?(y.x=-1,y.src=p,y.scale=!0):y.x=E,y};var h=e._click.dhx_cal_data;e._click.dhx_marked_timespan=e._click.dhx_cal_data=function(c){var p=h.apply(this,arguments),y=e.matrix[e._mode];if(y){var b=e._locate_cell_timeline(c);b&&(b.scale?e.callEvent("onYScaleClick",[b.y,y.y_unit[b.y],c]):(e.callEvent("onCellClick",[b.x,b.y,y._trace_x[b.x],(y._matrix[b.y]||{})[b.x]||[],c]),e._timeline_set_scroll_pos(e._els.dhx_cal_data[0],y)))}return p},e.dblclick_dhx_matrix_cell=function(c){var p=e.matrix[e._mode];if(p){var y=e._locate_cell_timeline(c);y&&(y.scale?e.callEvent("onYScaleDblClick",[y.y,p.y_unit[y.y],c]):e.callEvent("onCellDblClick",[y.x,y.y,p._trace_x[y.x],(p._matrix[y.y]||{})[y.x]||[],c]))}};var v=e.dblclick_dhx_marked_timespan||function(){};e.dblclick_dhx_marked_timespan=function(c){return e.matrix[e._mode]?e.dblclick_dhx_matrix_cell(c):v.apply(this,arguments)},e.dblclick_dhx_matrix_scell=function(c){return e.dblclick_dhx_matrix_cell(c)},e._isRender=function(c){return e.matrix[e._mode]&&e.matrix[e._mode].render==c},e.attachEvent("onCellDblClick",function(c,p,y,b,x){if(!this.config.readonly&&(x.type!="dblclick"||this.config.dblclick_create)){var k=e.matrix[e._mode],w={};w.start_date=k._trace_x[c],w.end_date=k._trace_x[c+1]?k._trace_x[c+1]:e.date.add(k._trace_x[c],k.x_step,k.x_unit),k._start_correction&&(w.start_date=new Date(1*w.start_date+k._start_correction)),k._end_correction&&(w.end_date=new Date(w.end_date-k._end_correction)),w[k.y_property]=k.y_unit[p].key,e.addEventNow(w,null,x)}}),e.attachEvent("onBeforeDrag",function(c,p,y){return!e._isRender("cell")}),e.attachEvent("onEventChanged",function(c,p){p._timed=this.isOneDayEvent(p)}),e.attachEvent("onBeforeEventChanged",function(c,p,y,b){return c&&(c._move_delta=void 0),b&&(b._move_delta=void 0),!0}),e._is_column_visible=function(c){var p=e.matrix[e._mode],y=e._get_date_index(p,c);return!e._ignores[y]};var g=e._render_marked_timespan;e._render_marked_timespan=function(c,p,y,b,x){if(!e.config.display_marked_timespans)return[];if(e.matrix&&e.matrix[e._mode]){if(e._isRender("cell"))return;var k=e._lame_copy({},e.matrix[e._mode]);k.round_position=!1;var w=[],E=[],S=[],D=c.sections?c.sections.units||c.sections.timeline:null;if(y)S=[p],E=[y];else{var M=k.order;if(D)M.hasOwnProperty(D)&&(E.push(D),S.push(k._scales[D]));else if(k._scales)for(var T in M)M.hasOwnProperty(T)&&k._scales[T]&&(E.push(T),S.push(k._scales[T]))}if(b=b?new Date(b):e._min_date,x=x?new Date(x):e._max_date,b.valueOf()<e._min_date.valueOf()&&(b=new Date(e._min_date)),x.valueOf()>e._max_date.valueOf()&&(x=new Date(e._max_date)),!k._trace_x)return;for(var A=0;A<k._trace_x.length&&!e._is_column_visible(k._trace_x[A]);A++);if(A==k._trace_x.length)return;var O=[];if(c.days>6){var $=new Date(c.days);e.date.date_part(new Date(b))<=+$&&+x>=+$&&O.push($)}else O.push.apply(O,e._get_dates_by_index(c.days));for(var q=c.zones,z=e._get_css_classes_by_config(c),P=0;P<E.length;P++)for(p=S[P],y=E[P],A=0;A<O.length;A++)for(var W=O[A],X=0;X<q.length;X+=2){var Q=q[X],re=q[X+1],ge=new Date(+W+60*Q*1e3),Ae=new Date(+W+60*re*1e3);if(ge=new Date(ge.valueOf()+1e3*(ge.getTimezoneOffset()-W.getTimezoneOffset())*60),b<(Ae=new Date(Ae.valueOf()+1e3*(Ae.getTimezoneOffset()-W.getTimezoneOffset())*60))&&x>ge){var ve=e._get_block_by_config(c);ve.className=z;var _e=e._timeline_getX({start_date:ge},!1,k)-1,De=e._timeline_getX({start_date:Ae},!1,k)-1,nt=Math.max(1,De-_e-1),ft=k._section_height[y]-1||k.dy-1;ve.style.cssText="height: "+ft+"px; "+(e.config.rtl?"right: ":"left: ")+_e+"px; width: "+nt+"px; top: 0;",p.insertBefore(ve,p.firstChild),w.push(ve)}}return w}return g.apply(e,[c,p,y])};var f=e._append_mark_now;e._append_mark_now=function(c,p){if(e.matrix&&e.matrix[e._mode]){var y=e._currentDate(),b=e._get_zone_minutes(y),x={days:+e.date.date_part(y),zones:[b,b+1],css:"dhx_matrix_now_time",type:"dhx_now_time"};return e._render_marked_timespan(x)}return f.apply(e,[c,p])};var u=e._mark_timespans;e._mark_timespans=function(){if(e.matrix&&e.matrix[e.getState().mode]){for(var c=[],p=e.matrix[e.getState().mode],y=p.y_unit,b=0;b<y.length;b++){var x=y[b].key,k=p._scales[x],w=e._on_scale_add_marker(k,x);c.push.apply(c,w)}return c}return u.apply(this,arguments)};var m=e._on_scale_add_marker;e._on_scale_add_marker=function(c,p){if(e.matrix&&e.matrix[e._mode]){var y=[],b=e._marked_timespans;if(b&&e.matrix&&e.matrix[e._mode])for(var x=e._mode,k=e._min_date,w=e._max_date,E=b.global,S=e.date.date_part(new Date(k));S<w;S=e.date.add(S,1,"day")){var D=+S,M=S.getDay(),T=[];if(e.config.overwrite_marked_timespans){var A=E[D]||E[M];T.push.apply(T,e._get_configs_to_render(A))}else E[D]&&T.push.apply(T,e._get_configs_to_render(E[D])),E[M]&&T.push.apply(T,e._get_configs_to_render(E[M]));if(b[x]&&b[x][p]){var O=[],$=e._get_types_to_render(b[x][p][M],b[x][p][D]);O.push.apply(O,e._get_configs_to_render($)),e.config.overwrite_marked_timespans?O.length&&(T=O):T=T.concat(O)}for(var q=0;q<T.length;q++){var z=T[q],P=z.days;P<7?(P=D,y.push.apply(y,e._render_marked_timespan(z,c,p,S,e.date.add(S,1,"day"))),P=M):y.push.apply(y,e._render_marked_timespan(z,c,p,S,e.date.add(S,1,"day")))}}return y}return m.apply(this,arguments)},e._resolve_timeline_section=function(c,p){for(var y=0,b=0;y<this._colsS.heights.length&&!((b+=this._colsS.heights[y])>p.y);y++);c.y_unit[y]||(y=c.y_unit.length-1),this._drag_event&&!this._drag_event._orig_section&&(this._drag_event._orig_section=c.y_unit[y].key),p.fields={},y>=0&&c.y_unit[y]&&(p.section=p.fields[c.y_property]=c.y_unit[y].key)},e._update_timeline_section=function(c){var p=c.view,y=c.event,b=c.pos;if(y){if(y[p.y_property]!=b.section){var x=this._get_timeline_event_height?this._get_timeline_event_height(y,p):p.getEventHeight(y);y._sorder=this._get_dnd_order(y._sorder,x,p.getSectionHeight(b.section))}y[p.y_property]=b.section}},e._get_date_index=function(c,p){for(var y=c._trace_x,b=0,x=y.length-1,k=p.valueOf();x-b>3;){var w=b+Math.floor((x-b)/2);y[w].valueOf()>k?x=w:b=w}for(var E=b;E<=x&&+p>=+y[E+1];)E++;return E},e._timeline_drag_date=function(c,p){var y=c,b=p;if(!y._trace_x.length)return new Date(e.getState().date);for(var x,k,w,E=0,S=0;S<=this._cols.length-1;S++)if((E+=k=this._cols[S])>b){x=(x=(b-(E-k))/k)<0?0:x;break}if(y.round_position){var D=1,M=e.getState().drag_mode;M&&M!="move"&&M!="create"&&(D=.5),x>=D&&S++,x=0}if(S===0&&this._ignores[0])for(S=1,x=0;this._ignores[S];)S++;else if(S==this._cols.length&&this._ignores[S-1]){for(S=this._cols.length-1,x=0;this._ignores[S];)S--;S++}if(S>=y._trace_x.length)w=e.date.add(y._trace_x[y._trace_x.length-1],y.x_step,y.x_unit),y._end_correction&&(w=new Date(w-y._end_correction));else{var T=x*k*y._step+y._start_correction;w=new Date(+y._trace_x[S]+T)}return w},e.attachEvent("onBeforeTodayDisplayed",function(){for(var c in e.matrix){var p=e.matrix[c];p.x_start=p._original_x_start}return!0}),e.attachEvent("onOptionsLoad",function(){for(var c in e.matrix){var p=e.matrix[c];for(p.order={},e.callEvent("onOptionsLoadStart",[]),c=0;c<p.y_unit.length;c++)p.order[p.y_unit[c].key]=c;e.callEvent("onOptionsLoadFinal",[]),e._date&&p.name==e._mode&&(p._options_changed=!0,e.setCurrentView(e._date,e._mode),setTimeout(function(){p._options_changed=!1}))}}),e.attachEvent("onEventIdChange",function(){var c=e.getView();c&&e.matrix[c.name]&&e._timeline_smart_render&&(e._timeline_smart_render.clearPreparedEventsCache(),e._timeline_smart_render.getPreparedEvents(c))}),e.attachEvent("onBeforeDrag",function(c,p,y){if(p=="resize"){var b=y.target||y.srcElement;e._getClassName(b).indexOf("dhx_event_resize_end")<0?e._drag_from_start=!0:e._drag_from_start=!1}return!0}),Bl(e),function(c){function p(y,b){for(let x=0;x<y.length;x++)if(y[x].id==b)return!0;return!1}c._timeline_smart_render={_prepared_events_cache:null,_rendered_events_cache:[],_rendered_header_cache:[],_rendered_labels_cache:[],_rows_to_delete:[],_rows_to_add:[],_cols_to_delete:[],_cols_to_add:[],getViewPort:function(y,b,x,k){var w=c.$container.querySelector(".dhx_cal_data"),E=w.getBoundingClientRect(),S=c.$container.querySelector(".dhx_timeline_scrollable_data");S&&x===void 0&&(x=y.getScrollValue(S)),k===void 0&&(k=S?S.scrollTop:w.scrollTop);var D={};for(var M in E)D[M]=E[M];return D.scrollLeft=x||0,D.scrollTop=k||0,b&&(E.height=b),D},isInXViewPort:function(y,b){var x=b.scrollLeft,k=b.width+b.scrollLeft;return y.left<k+100&&y.right>x-100},isInYViewPort:function(y,b){var x=b.scrollTop,k=b.height+b.scrollTop;return y.top<k+80&&y.bottom>x-80},getVisibleHeader:function(y,b){var x="";for(var k in this._rendered_header_cache=[],y._h_cols){var w=y._h_cols[k];this.isInXViewPort({left:w.left,right:w.left+c._cols[k]},b)&&(x+=w.div.outerHTML,this._rendered_header_cache.push(w.div.getAttribute("data-col-id")))}return x},updateHeader:function(y,b,x){this._cols_to_delete=[],this._cols_to_add=[];for(var k=c.$container.querySelectorAll(".dhx_cal_header > div"),w=k[k.length-1].querySelectorAll(".dhx_scale_bar"),E=[],S=0;S<w.length;S++)E.push(w[S].getAttribute("data-col-id"));if(this.getVisibleHeader(y,b)){for(var D=this._rendered_header_cache.slice(),M=[],T=(S=0,E.length);S<T;S++){var A=D.indexOf(E[S]);A>-1?D.splice(A,1):M.push(E[S])}M.length&&(this._cols_to_delete=M.slice(),this._deleteHeaderCells(M,y,x)),D.length&&(this._cols_to_add=D.slice(),this._addHeaderCells(D,y,x))}},_deleteHeaderCells:function(y,b,x){for(var k=0;k<y.length;k++){var w=x.querySelector('[data-col-id="'+y[k]+'"]');w&&x.removeChild(w)}},_addHeaderCells:function(y,b,x){for(var k="",w=0;w<y.length;w++)k+=b._h_cols[y[w]].div.outerHTML;const E=document.createElement("template");E.innerHTML=k,x.appendChild(E.content)},getVisibleLabels:function(y,b){if(y._label_rows.length){var x="";this._rendered_labels_cache=[];for(var k=0;k<y._label_rows.length;k++)this.isInYViewPort({top:y._label_rows[k].top,bottom:y._label_rows[k].top+y._section_height[y.y_unit[k].key]},b)&&(x+=y._label_rows[k].div,this._rendered_labels_cache.push(k));return x}},updateLabels:function(y,b,x){this._rows_to_delete=[],this._rows_to_add=[];let k=[];if(c.$container.querySelectorAll(".dhx_timeline_label_row").forEach(T=>{k.push(Number(T.getAttribute("data-row-index")))}),k.length||(this.getVisibleLabels(y,b),k=this._rendered_labels_cache.slice()),this.getVisibleLabels(y,b)){for(var w=this._rendered_labels_cache.slice(),E=[],S=0,D=k.length;S<D;S++){var M=w.indexOf(k[S]);M>-1?w.splice(M,1):E.push(k[S])}E.length&&(this._rows_to_delete=E.slice(),this._deleteLabelCells(E,y,x)),w.length&&(this._rows_to_add=w.slice(),this._addLabelCells(w,y,x))}},_deleteLabelCells:function(y,b,x){for(var k=0;k<y.length;k++){var w=x.querySelector('[data-row-index="'+y[k]+'"]');w&&x.removeChild(w)}},_addLabelCells:function(y,b,x){for(var k="",w=0;w<y.length;w++)k+=b._label_rows[y[w]].div;const E=document.createElement("template");E.innerHTML=k,x.appendChild(E.content)},clearPreparedEventsCache:function(){this.cachePreparedEvents(null)},cachePreparedEvents:function(y){this._prepared_events_cache=y,this._prepared_events_coordinate_cache=y},getPreparedEvents:function(y){var b;if(this._prepared_events_cache){if(b=this._prepared_events_cache,c.getState().drag_id){const x=c.getState().drag_id;let k=!1,w=!1;b.forEach((E,S)=>{if(k)return;const D=y.y_unit[S];for(let M=0;M<E.length;M++){const T=E[M];if(T.id==x&&T[y.y_property]!==D){w=!0,E.splice(M,1),M--;const A=y.order[T[y.y_property]];b[A]!=E&&b[A]&&!p(b[A],T.id)&&b[A].push(T)}}w&&(k=!0)})}}else(b=c._prepare_timeline_events(y)).$coordinates={},this.cachePreparedEvents(b);return b},updateEvents:function(y,b){var x=this.getPreparedEvents(y),k=this._rendered_events_cache.slice();if(this._rendered_events_cache=[],!c.$container.querySelector(".dhx_cal_data .dhx_timeline_data_col"))return;const w=[];for(var E=0;E<this._rendered_labels_cache.length;E++){var S=this._rendered_labels_cache[E],D=[];const z=y.y_unit[S].key;var M=k[S]?k[S].slice():[];c._timeline_calculate_event_positions.call(y,x[S]);for(var T=c._timeline_smart_render.getVisibleEventsForRow(y,b,x,S),A=0,O=T.length;A<O;A++){var $=M.indexOf(String(T[A].id));if($>-1)if(c.getState().drag_id==T[A].id)for(let W=0;W<M.length;W++)M[W]==T[A].id&&T[A][y.y_property]!=z&&(M.splice(W,1),W--);else M.splice($,1);else D.push(T[A])}if(c.getState().drag_id){const W=c.getState().drag_id,X=c.getEvent(W);if(c._split_one_event&&X){const Q=[];X[y.y_property]==z&&D.push(X),c._split_one_event(X,y,Q),Q.forEach(re=>{re[y.y_property]==z&&D.push(re)})}else X&&X[y.y_property]==z&&D.push(X)}var q=y._divBySectionId[z];if(!q)continue;M.length&&this._deleteEvents(M,y,q);const P={DOMParent:q,buffer:document.createElement("template")};w.push(P),D.length&&this._addEvents(D,y,P.buffer,S)}w.forEach(function(z){z.DOMParent.appendChild(z.buffer.content)}),c._populate_timeline_rendered(c.$container),y._matrix=x},_deleteEvents:function(y,b,x){for(var k=0;k<y.length;k++){const E="["+c.config.event_attribute+'="'+y[k]+'"]';var w=x.querySelector(E);if(w)if(w.classList.contains("dhx_in_move")){const S=x.querySelectorAll(E);for(let D=0;D<S.length;D++)S[D].classList.contains("dhx_in_move")||S[D].remove()}else w.remove()}},_addEvents:function(y,b,x,k){var w=c._timeline_update_events_html.call(b,y);x.innerHTML=w},getVisibleEventsForRow:function(y,b,x,k){var w=[];if(y.render=="cell")w=x;else{var E=x[k];if(E)for(var S=0,D=E.length;S<D;S++){var M,T,A=E[S],O=k+"_"+A.id;x.$coordinates&&x.$coordinates[O]?(M=x.$coordinates[O].xStart,T=x.$coordinates[O].xEnd):(M=c._timeline_getX(A,!1,y),T=c._timeline_getX(A,!0,y),x.$coordinates&&(x.$coordinates[O]={xStart:M,xEnd:T})),c._timeline_smart_render.isInXViewPort({left:M,right:T},b)&&(w.push(A),this._rendered_events_cache[k]||(this._rendered_events_cache[k]=[]),this._rendered_events_cache[k].push(String(A.id)))}}return w},getVisibleRowCellsHTML:function(y,b,x,k,w){for(var E,S="",D=this._rendered_header_cache,M=0;M<D.length;M++){var T=D[M];E=y._h_cols[T].left-y.dx,c._ignores[T]?y.render=="cell"?S+=c._timeline_get_html_for_cell_ignores(x):S+=c._timeline_get_html_for_bar_ignores():y.render=="cell"?S+=c._timeline_get_html_for_cell(T,w,y,k[w][T],x,E):S+=c._timeline_get_html_for_bar(T,w,y,k[w],E)}return S},getVisibleTimelineRowsHTML:function(y,b,x,k){var w="",E=c._timeline_get_cur_row_stats(y,k);E=c._timeline_get_fit_events_stats(y,k,E);var S=y._label_rows[k],D=c.templates[y.name+"_row_class"],M={view:y,section:S.section,template:D};return y.render=="cell"?(w+=c._timeline_get_html_for_cell_data_row(k,E,S.top,S.section.key,M),w+=this.getVisibleRowCellsHTML(y,b,E,x,k),w+="</div>"):(w+=c._timeline_get_html_for_bar_matrix_line(k,E,S.top,S.section.key,M),w+=c._timeline_get_html_for_bar_data_row(E,M),w+=this.getVisibleRowCellsHTML(y,b,E,x,k),w+="</div></div>"),w},updateGridRows:function(y,b){this._rows_to_delete.length&&this._deleteGridRows(this._rows_to_delete,y),this._rows_to_add.length&&this._addGridRows(this._rows_to_add,y,b)},_deleteGridRows:function(y,b){if(c.$container.querySelector(".dhx_cal_data .dhx_timeline_data_col")){for(var x=0;x<y.length;x++){const k=b.y_unit[y[x]]?b.y_unit[y[x]].key:null;b._divBySectionId[k]&&(b._divBySectionId[k].remove(),delete b._divBySectionId[k])}this._rows_to_delete=[]}},_addGridRows:function(y,b,x){if(!(D=c.$container.querySelector(".dhx_cal_data .dhx_timeline_data_col")))return;for(var k=this.getPreparedEvents(b),w="",E=0;E<y.length;E++)w+=this.getVisibleTimelineRowsHTML(b,x,k,y[E]);const S=document.createElement("template");S.innerHTML=w,D.appendChild(S.content);var D=c.$container.querySelector(".dhx_cal_data .dhx_timeline_data_col");b._divBySectionId={};for(let T=0,A=D.children.length;T<A;T++){var M=D.children[T];M.hasAttribute("data-section-id")&&(b._divBySectionId[M.getAttribute("data-section-id")]=M)}for(E=0;E<y.length;E++){const T=b.y_unit[y[E]]?b.y_unit[y[E]].key:null;c._timeline_finalize_section_add(b,b.y_unit[y[E]].key,b._divBySectionId[T])}c._mark_now&&c._mark_now(),this._rows_to_add=[]},updateGridCols:function(y,b){for(var x=this._rendered_header_cache,k={},w=0;w<x.length;w++)k[x[w]]=!0;c.$container.querySelectorAll(".dhx_timeline_data_row").forEach((function(E){const S=E.querySelectorAll("[data-col-id]"),D=Array.prototype.reduce.call(S,function(O,$){return O[$.dataset.colId]=$,O},{});var M=[],T=[];for(var A in D)k[A]||M.push(D[A]);for(var A in k)D[A]||T.push(A);M.forEach(function(O){O.remove()}),T.length&&this._addGridCols(E,T,y,b)}).bind(this))},_addGridCols:function(y,b,x,k){if(!c.$container.querySelector(".dhx_cal_data .dhx_timeline_data_col"))return;var w=this.getPreparedEvents(x);const E=y.closest("[data-section-id]").getAttribute("data-section-id"),S=x.order[E];var D="",M=c._timeline_get_cur_row_stats(x,S);M=c._timeline_get_fit_events_stats(x,S,M);var T=y;if(T){for(var A=0;A<b.length;A++)if(!T.querySelector('[data-col-id="'+b[A]+'"]')){var O=this.getVisibleGridCell(x,k,M,w,S,b[A]);O&&(D+=O)}const $=document.createElement("template");$.innerHTML=D,T.appendChild($.content)}},getVisibleGridCell:function(y,b,x,k,w,E){if(y._h_cols[E]){var S="",D=y._h_cols[E].left-y.dx;return y.render=="cell"?c._ignores[E]||(S+=c._timeline_get_html_for_cell(E,w,y,k[w][E],x,D)):c._ignores[E]||(S+=c._timeline_get_html_for_bar(E,w,y,k[w],D)),S}}},c.attachEvent("onClearAll",function(){c._timeline_smart_render._prepared_events_cache=null,c._timeline_smart_render._rendered_events_cache=[]})}(e)},e._temp_matrix_scope()},tooltip:function(e){e.config.tooltip_timeout=30,e.config.tooltip_offset_y=20,e.config.tooltip_offset_x=10,e.config.tooltip_hide_timeout=30;const a=new Kl(e);e.ext.tooltips=a,e.attachEvent("onSchedulerReady",function(){a.tooltipFor({selector:"["+e.config.event_attribute+"]",html:t=>{if(e._mobile&&!e.config.touch_tooltip)return;const n=e._locate_event(t.target);if(e.getEvent(n)){const o=e.getEvent(n);return e.templates.tooltip_text(o.start_date,o.end_date,o)}return null},global:!1})}),e.attachEvent("onDestroy",function(){a.destructor()}),e.attachEvent("onLightbox",function(){a.hideTooltip()}),e.attachEvent("onBeforeDrag",function(){return e._mobile&&e.config.touch_tooltip||a.hideTooltip(),!0}),e.attachEvent("onEventDeleted",function(){return a.hideTooltip(),!0})},treetimeline:function(e){var a;e.attachEvent("onTimelineCreated",function(t){t.render=="tree"&&(t.y_unit_original=t.y_unit,t.y_unit=e._getArrayToDisplay(t.y_unit_original),e.attachEvent("onOptionsLoadStart",function(){t.y_unit=e._getArrayToDisplay(t.y_unit_original)}),e.form_blocks[t.name]={render:function(n){return"<div class='dhx_section_timeline' style='overflow: hidden;'></div>"},set_value:function(n,o,i,d){var _=e._getArrayForSelect(e.matrix[d.type].y_unit_original,d.type);n.innerHTML="";var r=document.createElement("select");n.appendChild(r);var s=n.getElementsByTagName("select")[0];!s._dhx_onchange&&d.onchange&&(s.addEventListener("change",d.onchange),s._dhx_onchange=!0);for(var l=0;l<_.length;l++){var h=document.createElement("option");h.value=_[l].key,h.value==i[e.matrix[d.type].y_property]&&(h.selected=!0),h.innerHTML=_[l].label,s.appendChild(h)}},get_value:function(n,o,i){return n.firstChild.value},focus:function(n){}})}),e.attachEvent("onBeforeSectionRender",function(t,n,o){var i,d,_,r,s,l,h={};return t=="tree"&&(r="dhx_matrix_scell dhx_treetimeline",n.children?(i=o.folder_dy||o.dy,o.folder_dy&&!o.section_autoheight&&(_="height:"+o.folder_dy+"px;"),d="dhx_row_folder",r+=" folder",n.open?r+=" opened":r+=" closed",s="<div class='dhx_scell_expand'></div>",l=o.folder_events_available?"dhx_data_table folder_events":"dhx_data_table folder"):(i=o.dy,d="dhx_row_item",r+=" item",s="",l="dhx_data_table"),o.columns&&(r+=" dhx_matrix_scell_columns"),h={height:i,style_height:_,tr_className:d,td_className:r+=e.templates[o.name+"_scaley_class"](n.key,n.label,n)?" "+e.templates[o.name+"_scaley_class"](n.key,n.label,n):"",td_content:o.columns&&o.columns.length?"<div class='dhx_scell_name'><div class='dhx_scell_level dhx_scell_level"+n.level+"'>"+s+"</div>"+(e.templates[o.name+"_scale_label"](n.key,n.label,n)||n.label)+"</div>":"<div class='dhx_scell_level"+n.level+"'>"+s+"<div class='dhx_scell_name'>"+(e.templates[o.name+"_scale_label"](n.key,n.label,n)||n.label)+"</div></div>",table_className:l}),h}),e.attachEvent("onBeforeEventChanged",function(t,n,o){if(e._isRender("tree"))for(var i=e._get_event_sections?e._get_event_sections(t):[t[e.matrix[e._mode].y_property]],d=0;d<i.length;d++){var _=e.getSection(i[d]);if(_&&_.children&&!e.matrix[e._mode].folder_events_available)return o||(t[e.matrix[e._mode].y_property]=a),!1}return!0}),e.attachEvent("onBeforeDrag",function(t,n,o){if(e._isRender("tree")){var i,d=e._locate_cell_timeline(o);if(d&&(i=e.matrix[e._mode].y_unit[d.y].key,e.matrix[e._mode].y_unit[d.y].children&&!e.matrix[e._mode].folder_events_available))return!1;var _=e.getEvent(t),r=e.matrix[e._mode].y_property;a=_&&_[r]?_[r]:i}return!0}),e._getArrayToDisplay=function(t){var n=[],o=function(i,d,_,r){for(var s=d||0,l=0;l<i.length;l++){var h=i[l];h.level=s,h.$parent=_||null,h.children&&h.key===void 0&&(h.key=e.uid()),r||n.push(h),h.children&&o(h.children,s+1,h.key,r||!h.open)}};return o(t),n},e._getArrayForSelect=function(t,n){var o=[],i=function(d){for(var _=0;_<d.length;_++)e.matrix[n].folder_events_available?o.push(d[_]):d[_].children||o.push(d[_]),d[_].children&&i(d[_].children)};return i(t),o},e._toggleFolderDisplay=function(t,n,o){var i=function(_,r,s,l){for(var h=0;h<r.length&&(r[h].key!=_&&!l||!r[h].children||(r[h].open=s!==void 0?s:!r[h].open,l));h++)r[h].children&&i(_,r[h].children,s,l)},d=e.getSection(t);n!==void 0||o||(n=!d.open),e.callEvent("onBeforeFolderToggle",[d,n,o])&&(i(t,e.matrix[e._mode].y_unit_original,n,o),e.matrix[e._mode].y_unit=e._getArrayToDisplay(e.matrix[e._mode].y_unit_original),e.callEvent("onOptionsLoad",[]),e.callEvent("onAfterFolderToggle",[d,n,o]))},e.attachEvent("onCellClick",function(t,n,o,i,d){e._isRender("tree")&&(e.matrix[e._mode].folder_events_available||e.matrix[e._mode].y_unit[n]!==void 0&&e.matrix[e._mode].y_unit[n].children&&e._toggleFolderDisplay(e.matrix[e._mode].y_unit[n].key))}),e.attachEvent("onYScaleClick",function(t,n,o){e._isRender("tree")&&n.children&&e._toggleFolderDisplay(n.key)}),e.getSection=function(t){if(e._isRender("tree")){var n,o=function(i,d){for(var _=0;_<d.length;_++)d[_].key==i&&(n=d[_]),d[_].children&&o(i,d[_].children)};return o(t,e.matrix[e._mode].y_unit_original),n||null}},e.deleteSection=function(t){if(e._isRender("tree")){var n=!1,o=function(i,d){for(var _=0;_<d.length&&(d[_].key==i&&(d.splice(_,1),n=!0),!n);_++)d[_].children&&o(i,d[_].children)};return o(t,e.matrix[e._mode].y_unit_original),e.matrix[e._mode].y_unit=e._getArrayToDisplay(e.matrix[e._mode].y_unit_original),e.callEvent("onOptionsLoad",[]),n}},e.deleteAllSections=function(){e._isRender("tree")&&(e.matrix[e._mode].y_unit_original=[],e.matrix[e._mode].y_unit=e._getArrayToDisplay(e.matrix[e._mode].y_unit_original),e.callEvent("onOptionsLoad",[]))},e.addSection=function(t,n){if(e._isRender("tree")){var o=!1,i=function(d,_,r){if(n)for(var s=0;s<r.length&&(r[s].key==_&&r[s].children&&(r[s].children.push(d),o=!0),!o);s++)r[s].children&&i(d,_,r[s].children);else r.push(d),o=!0};return i(t,n,e.matrix[e._mode].y_unit_original),e.matrix[e._mode].y_unit=e._getArrayToDisplay(e.matrix[e._mode].y_unit_original),e.callEvent("onOptionsLoad",[]),o}},e.openAllSections=function(){e._isRender("tree")&&e._toggleFolderDisplay(1,!0,!0)},e.closeAllSections=function(){e._isRender("tree")&&e._toggleFolderDisplay(1,!1,!0)},e.openSection=function(t){e._isRender("tree")&&e._toggleFolderDisplay(t,!0)},e.closeSection=function(t){e._isRender("tree")&&e._toggleFolderDisplay(t,!1)}},units:function(e){e._props={},e.createUnitsView=function(a,t,n,o,i,d,_){function r(h){return Math.round((e._correct_shift(+h,1)-+e._min_date)/864e5)}typeof a=="object"&&(n=a.list,t=a.property,o=a.size||0,i=a.step||1,d=a.skip_incorrect,_=a.days||1,a=a.name),e._props[a]={map_to:t,options:n,step:i,position:0,days:_,layout:"units"},o>e._props[a].options.length&&(e._props[a]._original_size=o,o=0),e._props[a].size=o,e._props[a].skip_incorrect=d||!1,e.date[a+"_start"]=e.date.day_start,e.templates[a+"_date"]=function(h,v){return e._props[a].days>1?e.templates.week_date(h,v):e.templates.day_date(h)},e._get_unit_index=function(h,v){var g=h.position||0,f=r(v),u=h.size||h.options.length;return f>=u&&(f%=u),g+f},e.templates[a+"_scale_text"]=function(h,v,g){return g.css?"<span class='"+g.css+"'>"+v+"</span>":v},e.templates[a+"_scale_date"]=function(h){var v=e._props[a],g=v.options;if(!g.length)return"";var f=g[e._get_unit_index(v,h)],u=r(h),m=v.size||v.options.length,c=e.date.add(e.getState().min_date,Math.floor(u/m),"day");return e.templates[a+"_scale_text"](f.key,f.label,f,c)},e.templates[a+"_second_scale_date"]=function(h){return e.templates.week_scale_date(h)},e.date["add_"+a]=function(h,v){return e.date.add(h,v*e._props[a].days,"day")},e.date["get_"+a+"_end"]=function(h){return e.date.add(h,(e._props[a].size||e._props[a].options.length)*e._props[a].days,"day")},e.attachEvent("onOptionsLoad",function(){for(var h=e._props[a],v=h.order={},g=h.options,f=0;f<g.length;f++)v[g[f].key]=f;h._original_size&&h.size===0&&(h.size=h._original_size,delete h._original_size),h.size>g.length?(h._original_size=h.size,h.position=0,h.size=0):h.size=h._original_size||h.size,e._date&&e._mode==a&&e.setCurrentView(e._date,e._mode)}),e["mouse_"+a]=function(h){var v=e._props[this._mode];if(v){if(h=this._week_indexes_from_pos(h),this._drag_event||(this._drag_event={}),this._drag_id&&this._drag_mode&&(this._drag_event._dhx_changed=!0),this._drag_mode&&this._drag_mode=="new-size"){var g=e._get_event_sday(e._events[e._drag_id]);Math.floor(h.x/v.options.length)!=Math.floor(g/v.options.length)&&(h.x=g)}var f=v.size||v.options.length,u=h.x%f,m=Math.min(u+v.position,v.options.length-1);h.section=(v.options[m]||{}).key,h.x=Math.floor(h.x/f);var c=this.getEvent(this._drag_id);this._update_unit_section({view:v,event:c,pos:h})}return h.force_redraw=!0,h};var s=!1;function l(){s&&(e.xy.scale_height/=2,s=!1)}e[a+"_view"]=function(h){var v=e._props[e._mode];h?(v&&v.days>1?s||(s=e.xy.scale_height,e.xy.scale_height=2*e.xy.scale_height):l(),e._reset_scale()):l()},e.callEvent("onOptionsLoad",[])},e._update_unit_section=function(a){var t=a.view,n=a.event,o=a.pos;n&&(n[t.map_to]=o.section)},e.scrollUnit=function(a){var t=e._props[this._mode];t&&(t.position=Math.min(Math.max(0,t.position+a),t.options.length-t.size),this.setCurrentView())},function(){var a=function(f){var u=e._props[e._mode];if(u&&u.order&&u.skip_incorrect){for(var m=[],c=0;c<f.length;c++)u.order[f[c][u.map_to]]!==void 0&&m.push(f[c]);f.splice(0,f.length),f.push.apply(f,m)}return f},t=e._pre_render_events_table;e._pre_render_events_table=function(f,u){return f=a(f),t.apply(this,[f,u])};var n=e._pre_render_events_line;e._pre_render_events_line=function(f,u){return f=a(f),n.apply(this,[f,u])};var o=function(f,u){if(f&&f.order[u[f.map_to]]===void 0){var m=e,c=Math.floor((u.end_date-m._min_date)/864e5);return f.options.length&&(u[f.map_to]=f.options[Math.min(c+f.position,f.options.length-1)].key),!0}},i=e.is_visible_events;e.is_visible_events=function(f){var u=i.apply(this,arguments);if(u){var m=e._props[this._mode];if(m&&m.size){var c=m.order[f[m.map_to]];if(c<m.position||c>=m.size+m.position)return!1}}return u};var d=e._process_ignores;e._process_ignores=function(f,u,m,c,p){if(e._props[this._mode]){this._ignores={},this._ignores_detected=0;var y=e["ignore_"+this._mode];if(y){var b=e._props&&e._props[this._mode]?e._props[this._mode].size||e._props[this._mode].options.length:1;u/=b;for(var x=new Date(f),k=0;k<u;k++){if(y(x))for(var w=(k+1)*b,E=k*b;E<w;E++)this._ignores_detected+=1,this._ignores[E]=!0,p&&u++;x=e.date.add(x,c,m),e.date[m+"_start"]&&(x=e.date[m+"_start"](x))}}}else d.call(this,f,u,m,c,p)};var _=e._reset_scale;e._reset_scale=function(){var f=e._props[this._mode];f&&(f.size&&f.position&&f.size+f.position>f.options.length?f.position=Math.max(0,f.options.length-f.size):f.size||(f.position=0));var u=_.apply(this,arguments);if(f){this._max_date=this.date.add(this._min_date,f.days,"day");for(var m=this._els.dhx_cal_data[0].childNodes,c=0;c<m.length;c++)m[c].classList.remove("dhx_scale_holder_now");var p=this._currentDate();if(p.valueOf()>=this._min_date&&p.valueOf()<this._max_date){var y=Math.floor((p-e._min_date)/864e5),b=f.size||f.options.length,x=y*b,k=x+b;for(c=x;c<k;c++)m[c]&&m[c].classList.add("dhx_scale_holder_now")}if(f.size&&f.size<f.options.length){var w=this._els.dhx_cal_header[0],E=document.createElement("div");f.position&&(this._waiAria.headerButtonsAttributes(E,""),e.config.rtl?(E.className="dhx_cal_next_button",E.style.cssText="left:auto;margin-top:1px;right:0px;position:absolute;"):(E.className="dhx_cal_prev_button",E.style.cssText="left:1px;margin-top:1px;position:absolute;"),w.firstChild.appendChild(E),E.addEventListener("click",function(S){e.scrollUnit(-1*f.step),S.preventDefault()})),f.position+f.size<f.options.length&&(this._waiAria.headerButtonsAttributes(E,""),E=document.createElement("div"),e.config.rtl?(E.className="dhx_cal_prev_button",E.style.cssText="left:1px;margin-top:1px;position:absolute;"):(E.className="dhx_cal_next_button",E.style.cssText="left:auto;margin-top:1px;right:0px;position:absolute;"),w.lastChild.appendChild(E),E.addEventListener("click",function(){e.scrollUnit(f.step)}))}}return u};var r=e._get_view_end;e._get_view_end=function(){var f=e._props[this._mode];if(f&&f.days>1){var u=this._get_timeunit_start();return e.date.add(u,f.days,"day")}return r.apply(this,arguments)};var s=e._render_x_header;e._render_x_header=function(f,u,m,c){var p=e._props[this._mode];if(!p||p.days<=1)return s.apply(this,arguments);if(p.days>1){var y=c.querySelector(".dhx_second_cal_header");y||((y=document.createElement("div")).className="dhx_second_cal_header",c.appendChild(y));var b=e.xy.scale_height;e.xy.scale_height=Math.ceil(b/2),s.call(this,f,u,m,y,Math.ceil(e.xy.scale_height));var x=p.size||p.options.length;if((f+1)%x==0){var k=document.createElement("div");k.className="dhx_scale_bar dhx_second_scale_bar";var w=this.date.add(this._min_date,Math.floor(f/x),"day");this.templates[this._mode+"_second_scalex_class"]&&(k.className+=" "+this.templates[this._mode+"_second_scalex_class"](new Date(w)));var E,S=this._cols[f]*x;E=x>1&&this.config.rtl?this._colsS[f-(x-1)]-this.xy.scroll_width:x>1?this._colsS[f-(x-1)]-this.xy.scale_width:u,this.set_xy(k,S,this.xy.scale_height,E,0),k.innerHTML=this.templates[this._mode+"_second_scale_date"](new Date(w),this._mode),y.appendChild(k)}e.xy.scale_height=b}};var l=e._get_event_sday;e._get_event_sday=function(f){var u=e._props[this._mode];return u?u.days<=1?(o(u,f),this._get_section_sday(f[u.map_to])):Math.floor((f.end_date.valueOf()-1-60*f.end_date.getTimezoneOffset()*1e3-(e._min_date.valueOf()-60*e._min_date.getTimezoneOffset()*1e3))/864e5)*(u.size||u.options.length)+u.order[f[u.map_to]]-u.position:l.call(this,f)},e._get_section_sday=function(f){var u=e._props[this._mode];return u.order[f]-u.position};var h=e.locate_holder_day;e.locate_holder_day=function(f,u,m){var c,p=e._props[this._mode];return p?(m?o(p,m):(m={start_date:f,end_date:f},c=0),p.days<=1?1*(c===void 0?p.order[m[p.map_to]]:c)+(u?1:0)-p.position:Math.floor((m.start_date.valueOf()-e._min_date.valueOf())/864e5)*(p.size||p.options.length)+1*(c===void 0?p.order[m[p.map_to]]:c)+(u?1:0)-p.position):h.apply(this,arguments)};var v=e._time_order;e._time_order=function(f){var u=e._props[this._mode];u?f.sort(function(m,c){return u.order[m[u.map_to]]>u.order[c[u.map_to]]?1:-1}):v.apply(this,arguments)};var g=e._pre_render_events_table;e._pre_render_events_table=function(f,u){var m=e._props[this._mode];if(m&&m.days>1){for(var c,p={},y=0;y<f.length;y++){var b=f[y];if(e.isOneDayEvent(f[y]))p[w=+e.date.date_part(new Date(b.start_date))]||(p[w]=[]),p[w].push(b);else{var x=new Date(Math.min(+b.end_date,+this._max_date)),k=new Date(Math.max(+b.start_date,+this._min_date));for(k=e.date.day_start(k),f.splice(y,1),y--;+k<+x;){var w,E=this._copy_event(b);E.start_date=k,E.end_date=A(E.start_date),k=e.date.add(k,1,"day"),p[w=+e.date.date_part(new Date(k))]||(p[w]=[]),p[w].push(E)}}}f=[];for(var y in p){var S=g.apply(this,[p[y],u]),D=this._colsS.heights;(!c||D[0]>c[0])&&(c=D.slice()),f.push.apply(f,S)}var M=this._colsS.heights;for(M.splice(0,M.length),M.push.apply(M,c),y=0;y<f.length;y++)if(this._ignores[f[y]._sday])f.splice(y,1),y--;else{var T=f[y];T._first_chunk=T._last_chunk=!1,this.getEvent(T.id)._sorder=T._sorder}f.sort(function(O,$){return O.start_date.valueOf()==$.start_date.valueOf()?O.id>$.id?1:-1:O.start_date>$.start_date?1:-1})}else f=g.apply(this,[f,u]);function A(O){var $=e.date.add(O,1,"day");return $=e.date.date_part($)}return f},e.attachEvent("onEventAdded",function(f,u){if(this._loading)return!0;for(var m in e._props){var c=e._props[m];u[c.map_to]===void 0&&c.options[0]&&(u[c.map_to]=c.options[0].key)}return!0}),e.attachEvent("onEventCreated",function(f,u){var m=e._props[this._mode];if(m&&u){var c=this.getEvent(f);o(m,c);var p=this._mouse_coords(u);this._update_unit_section({view:m,event:c,pos:p}),this.event_updated(c)}return!0})}()},url:function(e){e._get_url_nav=function(){for(var a={},t=(document.location.hash||"").replace("#","").split(","),n=0;n<t.length;n++){var o=t[n].split("=");o.length==2&&(a[o[0]]=o[1])}return a},e.attachEvent("onTemplatesReady",function(){var a=!0,t=e.date.str_to_date("%Y-%m-%d"),n=e.date.date_to_str("%Y-%m-%d"),o=e._get_url_nav().event||null;function i(d){if(e.$destroyed)return!0;o=d,e.getEvent(d)&&e.showEvent(d)}e.attachEvent("onAfterEventDisplay",function(d){return o=null,!0}),e.attachEvent("onBeforeViewChange",function(d,_,r,s){if(a){a=!1;var l=e._get_url_nav();if(l.event)try{if(e.getEvent(l.event))return setTimeout(function(){i(l.event)}),!1;var h=e.attachEvent("onXLE",function(){setTimeout(function(){i(l.event)}),e.detachEvent(h)})}catch{}if(l.date||l.mode){try{this.setCurrentView(l.date?t(l.date):null,l.mode||null)}catch{this.setCurrentView(l.date?t(l.date):null,r)}return!1}}var v=["date="+n(s||_),"mode="+(r||d)];o&&v.push("event="+o);var g="#"+v.join(",");return document.location.hash=g,!0})})},week_agenda:function(e){var a;e._wa={},e.xy.week_agenda_scale_height=20,e.templates.week_agenda_event_text=function(t,n,o,i){return e.templates.event_date(t)+" "+o.text},e.date.week_agenda_start=e.date.week_start,e.date.week_agenda_end=function(t){return e.date.add(t,7,"day")},e.date.add_week_agenda=function(t,n){return e.date.add(t,7*n,"day")},e.attachEvent("onSchedulerReady",function(){var t=e.templates;t.week_agenda_date||(t.week_agenda_date=t.week_date)}),a=e.date.date_to_str("%l, %F %d"),e.templates.week_agenda_scale_date=function(t){return a(t)},e.attachEvent("onTemplatesReady",function(){var t=e.render_data;function n(o){return`<div class='dhx_wa_day_cont'>
	<div class='dhx_wa_scale_bar'></div>
	<div class='dhx_wa_day_data' data-day='${o}'></div>
</div>`}e.render_data=function(o){if(this._mode!="week_agenda")return t.apply(this,arguments);e.week_agenda_view(!0)},e.week_agenda_view=function(o){e._min_date=e.date.week_start(e._date),e._max_date=e.date.add(e._min_date,1,"week"),e.set_sizes(),o?(e._table_view=e._allow_dnd=!0,e.$container.querySelector(".dhx_cal_header").style.display="none",e._els.dhx_cal_date[0].innerHTML="",function(){e._els.dhx_cal_data[0].innerHTML="",e._rendered=[];var i=`<div class="dhx_week_agenda_wrapper">
<div class='dhx_wa_column'>
	${n(0)}
	${n(1)}
	${n(2)}
</div>
<div class='dhx_wa_column'>
	${n(3)}
	${n(4)}
	${n(5)}
	${n(6)}
</div>
</div>`,d=e._getNavDateElement();d&&(d.innerHTML=e.templates[e._mode+"_date"](e._min_date,e._max_date,e._mode)),e._els.dhx_cal_data[0].innerHTML=i;const _=e.$container.querySelectorAll(".dhx_wa_day_cont");e._wa._selected_divs=[];for(var r=e.get_visible_events(),s=e.date.week_start(e._date),l=e.date.add(s,1,"day"),h=0;h<7;h++){_[h]._date=s,_[h].setAttribute("data-date",e.templates.format_date(s)),e._waiAria.weekAgendaDayCell(_[h],s);var v=_[h].querySelector(".dhx_wa_scale_bar"),g=_[h].querySelector(".dhx_wa_day_data");v.innerHTML=e.templates.week_agenda_scale_date(s);for(var f=[],u=0;u<r.length;u++){var m=r[u];m.start_date<l&&m.end_date>s&&f.push(m)}f.sort(function(k,w){return k.start_date.valueOf()==w.start_date.valueOf()?k.id>w.id?1:-1:k.start_date>w.start_date?1:-1});for(var c=0;c<f.length;c++){var p=f[c],y=document.createElement("div");e._rendered.push(y);var b=e.templates.event_class(p.start_date,p.end_date,p);y.classList.add("dhx_wa_ev_body"),b&&y.classList.add(b),e.config.rtl&&y.classList.add("dhx_wa_ev_body_rtl"),p._text_style&&(y.style.cssText=p._text_style),p.color&&y.style.setProperty("--dhx-scheduler-event-background",p.color),p.textColor&&y.style.setProperty("--dhx-scheduler-event-color",p.textColor),e._select_id&&p.id==e._select_id&&(e.config.week_agenda_select||e.config.week_agenda_select===void 0)&&(y.classList.add("dhx_cal_event_selected"),e._wa._selected_divs.push(y));var x="";p._timed||(x="middle",p.start_date.valueOf()>=s.valueOf()&&p.start_date.valueOf()<=l.valueOf()&&(x="start"),p.end_date.valueOf()>=s.valueOf()&&p.end_date.valueOf()<=l.valueOf()&&(x="end")),y.innerHTML=e.templates.week_agenda_event_text(p.start_date,p.end_date,p,s,x),y.setAttribute("event_id",p.id),y.setAttribute(e.config.event_attribute,p.id),e._waiAria.weekAgendaEvent(y,p),g.appendChild(y)}s=e.date.add(s,1,"day"),l=e.date.add(l,1,"day")}}()):(e._table_view=e._allow_dnd=!1,e.$container.querySelector(".dhx_cal_header").style.display="")},e.mouse_week_agenda=function(o){var i=o.ev;const d=o.ev.target.closest(".dhx_wa_day_cont");let _;if(d&&(_=d._date),!_)return o;o.x=0;var r=_.valueOf()-e._min_date.valueOf();if(o.y=Math.ceil(r/6e4/this.config.time_step),this._drag_mode=="move"&&this._drag_pos&&this._is_pos_changed(this._drag_pos,o)){var s;this._drag_event._dhx_changed=!0,this._select_id=this._drag_id;for(var l=0;l<e._rendered.length;l++)e._drag_id==this._rendered[l].getAttribute(this.config.event_attribute)&&(s=this._rendered[l]);if(!e._wa._dnd){var h=s.cloneNode(!0);this._wa._dnd=h,h.className=s.className,h.id="dhx_wa_dnd",h.className+=" dhx_wa_dnd",document.body.appendChild(h)}var v=document.getElementById("dhx_wa_dnd");v.style.top=(i.pageY||i.clientY)+20+"px",v.style.left=(i.pageX||i.clientX)+20+"px"}return o},e.attachEvent("onBeforeEventChanged",function(o,i,d){if(this._mode=="week_agenda"&&this._drag_mode=="move"){var _=document.getElementById("dhx_wa_dnd");_.parentNode.removeChild(_),e._wa._dnd=!1}return!0}),e.attachEvent("onEventSave",function(o,i,d){return d&&this._mode=="week_agenda"&&(this._select_id=o),!0}),e._wa._selected_divs=[],e.attachEvent("onClick",function(o,i){if(this._mode=="week_agenda"&&(e.config.week_agenda_select||e.config.week_agenda_select===void 0)){if(e._wa._selected_divs)for(var d=0;d<this._wa._selected_divs.length;d++){var _=this._wa._selected_divs[d];_.className=_.className.replace(/ dhx_cal_event_selected/,"")}return this.for_rendered(o,function(r){r.className+=" dhx_cal_event_selected",e._wa._selected_divs.push(r)}),e._select_id=o,!1}return!0})})},wp:function(e){e.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),e.form_blocks.select.set_value=function(a,t,n){t!==void 0&&t!==""||(t=(a.firstChild.options[0]||{}).value),a.firstChild.value=t||""}},year_view:function(e){e.templates.year_date=function(_){return e.date.date_to_str(e.locale.labels.year_tab+" %Y")(_)},e.templates.year_month=e.date.date_to_str("%F"),e.templates.year_scale_date=e.date.date_to_str("%D"),e.templates.year_tooltip=function(_,r,s){return s.text};const a=function(){return e._mode=="year"},t=function(_){var r=e.$domHelpers.closest(_,"[data-cell-date]");return r&&r.hasAttribute("data-cell-date")?e.templates.parse_date(r.getAttribute("data-cell-date")):null};e.dblclick_dhx_year_grid=function(_){if(a()){const r=_.target;if(e.$domHelpers.closest(r,".dhx_before")||e.$domHelpers.closest(r,".dhx_after"))return!1;const s=t(r);if(s){const l=s,h=this.date.add(l,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(l.valueOf(),h.valueOf(),_)}}},e.attachEvent("onEventIdChange",function(){a()&&this.year_view(!0)});var n=e.render_data;e.render_data=function(_){if(!a())return n.apply(this,arguments);for(var r=0;r<_.length;r++)this._year_render_event(_[r])};var o=e.clear_view;e.clear_view=function(){if(!a())return o.apply(this,arguments);var _=e._year_marked_cells;for(var r in _)_.hasOwnProperty(r)&&_[r].classList.remove("dhx_year_event","dhx_cal_datepicker_event");e._year_marked_cells={}},e._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},e._showToolTip=function(_,r,s,l){if(this._tooltip){if(this._tooltip.date.valueOf()==_.valueOf())return;this._tooltip.innerHTML=""}else{var h=this._tooltip=document.createElement("div");h.className="dhx_year_tooltip",this.config.rtl&&(h.className+=" dhx_tooltip_rtl"),document.body.appendChild(h),h.addEventListener("click",e._click.dhx_cal_data),h.addEventListener("click",function(p){if(p.target.closest(`[${e.config.event_attribute}]`)){const y=p.target.closest(`[${e.config.event_attribute}]`).getAttribute(e.config.event_attribute);e.showLightbox(y)}})}for(var v=this.getEvents(_,this.date.add(_,1,"day")),g="",f=0;f<v.length;f++){var u=v[f];if(this.filter_event(u.id,u)){var m=u.color?"--dhx-scheduler-event-background:"+u.color+";":"",c=u.textColor?"--dhx-scheduler-event-color:"+u.textColor+";":"";g+="<div class='dhx_tooltip_line' style='"+m+c+"' event_id='"+v[f].id+"' "+this.config.event_attribute+"='"+v[f].id+"'>",g+="<div class='dhx_tooltip_date' style='"+m+c+"'>"+(v[f]._timed?this.templates.event_date(v[f].start_date):"")+"</div>",g+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",g+=this.templates.year_tooltip(v[f].start_date,v[f].end_date,v[f])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-r.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=r.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=r.left+l.offsetWidth+"px",this._tooltip.date=_,this._tooltip.innerHTML=g,document.body.offsetHeight-r.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=r.top-this._tooltip.offsetHeight+l.offsetHeight+"px":this._tooltip.style.top=r.top+"px"},e._year_view_tooltip_handler=function(_){if(a()){var r=_.target||_.srcElement;r.tagName.toLowerCase()=="a"&&(r=r.parentNode),e._getClassName(r).indexOf("dhx_year_event")!=-1?e._showToolTip(e.templates.parse_date(r.getAttribute("data-year-date")),e.$domHelpers.getOffset(r),_,r):e._hideToolTip()}},e._init_year_tooltip=function(){e._detachDomEvent(e._els.dhx_cal_data[0],"mouseover",e._year_view_tooltip_handler),e.event(e._els.dhx_cal_data[0],"mouseover",e._year_view_tooltip_handler)},e._get_year_cell=function(_){for(var r=e.templates.format_date(_),s=this.$root.querySelectorAll(`.dhx_cal_data .dhx_cal_datepicker_date[data-cell-date="${r}"]`),l=0;l<s.length;l++)if(!e.$domHelpers.closest(s[l],".dhx_after, .dhx_before"))return s[l];return null},e._year_marked_cells={},e._mark_year_date=function(_,r){var s=e.templates.format_date(_),l=this._get_year_cell(_);if(l){var h=this.templates.event_class(r.start_date,r.end_date,r);e._year_marked_cells[s]||(l.classList.add("dhx_year_event","dhx_cal_datepicker_event"),l.setAttribute("data-year-date",s),l.setAttribute("date",s),e._year_marked_cells[s]=l),h&&l.classList.add(h)}},e._unmark_year_date=function(_){var r=this._get_year_cell(_);r&&r.classList.remove("dhx_year_event","dhx_cal_datepicker_event")},e._year_render_event=function(_){var r=_.start_date;for(r=r.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(r));r<_.end_date;)if(this._mark_year_date(r,_),(r=this.date.add(r,1,"day")).valueOf()>=this._max_date.valueOf())return},e.year_view=function(_){if(e.set_sizes(),e._table_view=_,!this._load_mode||!this._load())if(_){if(e._init_year_tooltip(),e._reset_year_scale(),e._load_mode&&e._load())return void(e._render_wait=!0);e.render_view_data()}else e._hideToolTip()},e._reset_year_scale=function(){this._cols=[],this._colsS={};var _=[],r=this._els.dhx_cal_data[0],s=this.config;r.scrollTop=0,r.innerHTML="",Math.floor((parseInt(r.style.height)-e.xy.year_top)/s.year_y);var l=document.createElement("div"),h=this.date.week_start(e._currentDate());this._process_ignores(h,7,"day",1);for(var v=0;v<7;v++)this._ignores&&this._ignores[v]||(this._cols[v]="var(--dhx-scheduler-datepicker-cell-size)",this._render_x_header(v,0,h,l)),h=this.date.add(h,1,"day");for(l.lastChild.className+=" dhx_scale_bar_last",v=0;v<l.childNodes.length;v++)this._waiAria.yearHeadCell(l.childNodes[v]);var g=this.date[this._mode+"_start"](this.date.copy(this._date)),f=g,u=null;const m=document.createElement("div");for(m.classList.add("dhx_year_wrapper"),v=0;v<s.year_y;v++)for(var c=0;c<s.year_x;c++){(u=document.createElement("div")).className="dhx_year_box",u.setAttribute("date",this._helpers.formatDate(g)),u.setAttribute("data-month-date",this._helpers.formatDate(g)),u.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+l.innerHTML+"</div><div class='dhx_year_body'></div></div>";var p=u.querySelector(".dhx_year_month"),y=u.querySelector(".dhx_year_grid"),b=u.querySelector(".dhx_year_body"),x=e.uid();this._waiAria.yearHeader(p,x),this._waiAria.yearGrid(y,x),p.innerHTML=this.templates.year_month(g);var k=this.date.week_start(g);this._reset_month_scale(b,g,k,6);for(var w=b.querySelectorAll("td"),E=0;E<w.length;E++)this._waiAria.yearDayCell(w[E]);m.appendChild(u),_[v*s.year_x+c]=(g.getDay()-(this.config.start_on_monday?1:0)+7)%7,g=this.date.add(g,1,"month")}r.appendChild(m);var S=this._getNavDateElement();S&&(S.innerHTML=this.templates[this._mode+"_date"](f,g,this._mode)),this.week_starts=_,_._month=f.getMonth(),this._min_date=f,this._max_date=g},e._reset_year_scale=function(){var _=this._els.dhx_cal_data[0];_.scrollTop=0,_.innerHTML="";let r=this.date.year_start(new Date(this._date));this._min_date=this.date.week_start(new Date(r));const s=document.createElement("div");s.classList.add("dhx_year_wrapper");let l=r;for(let g=0;g<12;g++){let f=document.createElement("div");f.className="dhx_year_box",f.setAttribute("date",this._helpers.formatDate(l)),f.setAttribute("data-month-date",this._helpers.formatDate(l)),f.innerHTML=`<div class='dhx_year_month'>${this.templates.year_month(l)}</div>
			<div class='dhx_year_grid'></div>`;const u=f.querySelector(".dhx_year_grid"),m=e._createDatePicker(null,{date:l,minWeeks:6});m._renderDayGrid(u),m.destructor(),s.appendChild(f),l=this.date.add(l,1,"month")}_.appendChild(s);let h=this.date.add(r,1,"year");h.valueOf()!=this.date.week_start(new Date(h)).valueOf()&&(h=this.date.week_start(new Date(h)),h=this.date.add(h,1,"week")),this._max_date=h;var v=this._getNavDateElement();v&&(v.innerHTML=this.templates[this._mode+"_date"](r,h,this._mode))};var i=e.getActionData;e.getActionData=function(_){return a()?{date:t(_.target),section:null}:i.apply(e,arguments)};var d=e._locate_event;e._locate_event=function(_){var r=d.apply(e,arguments);if(!r){var s=t(_);if(!s)return null;var l=e.getEvents(s,e.date.add(s,1,"day"));if(!l.length)return null;r=l[0].id}return r},e.attachEvent("onDestroy",function(){e._hideToolTip()})}},Mo=new class{constructor(e){this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=e,this._extensionsManager=new rl(e)}plugin(e){this._schedulerPlugins.push(e),G.scheduler&&e(G.scheduler)}getSchedulerInstance(e){for(var a=nl(this._extensionsManager),t=0;t<this._schedulerPlugins.length;t++)this._schedulerPlugins[t](a);return a._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(a),e&&this._initFromConfig(a,e),a}_initFromConfig(e,a){if(a.plugins&&e.plugins(a.plugins),a.config&&e.mixin(e.config,a.config,!0),a.templates&&e.attachEvent("onTemplatesReady",function(){e.mixin(e.templates,a.templates,!0)},{once:!0}),a.events)for(const t in a.events)e.attachEvent(t,a.events[t]);a.locale&&e.i18n.setLocale(a.locale),Array.isArray(a.calendars)&&a.calendars.forEach(function(t){e.addCalendar(t)}),a.container?e.init(a.container):e.init(),a.data&&(typeof a.data=="string"?e.load(a.data):e.parse(a.data))}}(Xl),hi=Mo.getSchedulerInstance(),Rn=Mo;window.scheduler=hi,window.Scheduler=Rn,window.$dhx||(window.$dhx={}),window.$dhx.scheduler=hi,window.$dhx.Scheduler=Rn;const Co=(e,a)=>{const t=e.__vccOpts||e;for(const[n,o]of a)t[n]=o;return t},Gl={props:{events:{type:Array,default:[]}},mounted(){let e=Rn.getSchedulerInstance();var a=e.date.date_to_str("%M %j");e.templates.format_date=function(n){return a(n)},e.config.header={rows:[{cols:["spacer","month","week","day","agenda"]},{cols:["today","prev","next","date"]}]},e.config.start_on_monday=!1,e.config.default_date="%l %M %j",e.config.date_format="%Y-%m-%d %H:%i",e.config.day_date="%D %d/%m",e.config.hour_date="%g:%i %A",e.config.week_date="%D",e.config.month_date="%F %Y",e.config.month_day="%j",e.config.mark_now=!0,e.locale.labels.prev="Back",e.locale.labels.next="Next",e.templates.event_header=function(n,o,i){return""},e.templates.event_date=function(n){return""},e.templates.week_date=function(n,o){return a(n)+" &ndash; "+a(e.date.add(o,-1,"day"))};const t=e.date.date_to_str("%D %d/%m");e.templates.day_scale_date=function(n){return t(n)},e.templates.event_class=function(n,o,i){return"blue"},e.plugins({agenda_view:!0}),console.log(e),e.attachEvent("onEventSave",function(n,o){return o.text?o.text.length>30?(e.alert("event name must has maximum 30 symbols"),!1):!0:(e.alert("event name must not be empty"),!1)}),e.config.lightbox.sections=[{name:"event name",type:"textarea",map_to:"text",focus:!0},{name:"event time",type:"time",map_to:"time"},{name:"notes",type:"textarea",map_to:"notes"}],e.init(this.$refs.cont,new Date,"month"),e.parse(this.events),this.scheduler=e},unmounted(){this.scheduler.destructor(),this.$refs.cont.innerHTML=""}},Zl={class:"calendar-wrap"},Ql={ref:"cont",style:{width:"100%","min-height":"100vh"}};function ec(e,a,t,n,o,i){return En(),Sn("div",Zl,[ee("div",Ql,null,512)])}const tc=Co(Gl,[["render",ec]]);function ac(){return[{start_date:"2017-12-31 12:00",end_date:"2017-12-32 14:00",text:"Event name",id:1},{start_date:"2018-01-02 12:00",end_date:"2018-01-10 14:00",text:"Event name",id:1},{start_date:"2024-09-09 6:00",end_date:"2024-09-09 8:00",text:"Event name",id:2}]}const nc="/vue-calendar/assets/users-avatar-svgrepo-com-DxAoosbC.svg",rc={components:{Scheduler:tc},data(){return{events:ac()}}},ic={class:"container-wrap"},oc={class:"aside"},sc={class:"nav"},dc={class:"nav-items"},_c={class:"nav-item"},lc={href:"#",class:"nav-item-link active"},cc={viewBox:"0 0 600 600",version:"1.1",id:"svg9724","sodipodi:docname":"calendar.svg","inkscape:version":"1.2.2 (1:1.2.2+202212051550+b0a8486541)",width:"64px",height:"64px","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg",fill:"#a5a4bf"},hc={id:"SVGRepo_iconCarrier"},uc={class:"main"};function fc(e,a,t,n,o,i){const d=Da("inkscape:grid"),_=Da("sodipodi:guide"),r=Da("sodipodi:namedview"),s=Da("Scheduler");return En(),Sn("div",ic,[ee("aside",oc,[a[14]||(a[14]=ee("div",{class:"logo"},[ee("a",{href:"/",class:"logo-link"},"Impekable")],-1)),ee("nav",sc,[ee("ul",dc,[a[12]||(a[12]=Or('<li class="nav-item"><a href="#" class="nav-item-link"><svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M21.4498 10.275L11.9998 3.1875L2.5498 10.275L2.9998 11.625H3.7498V20.25H20.2498V11.625H20.9998L21.4498 10.275ZM5.2498 18.75V10.125L11.9998 5.0625L18.7498 10.125V18.75H14.9999V14.3333L14.2499 13.5833H9.74988L8.99988 14.3333V18.75H5.2498ZM10.4999 18.75H13.4999V15.0833H10.4999V18.75Z" fill="#a5a4bf"></path></g></svg> Home </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg width="64px" height="64px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="chart-colum" class="icon glyph" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M7,12v9a1,1,0,0,1-1,1H3a1,1,0,0,1-1-1V12a1,1,0,0,1,1-1H6A1,1,0,0,1,7,12ZM21,6H18a1,1,0,0,0-1,1V21a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V7A1,1,0,0,0,21,6ZM13.5,2h-3a1,1,0,0,0-1,1V21a1,1,0,0,0,1,1h3a1,1,0,0,0,1-1V3A1,1,0,0,0,13.5,2Z" fill="#a5a4bf"></path></g></svg> Dashboard </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M3 8L8.44992 11.6333C9.73295 12.4886 10.3745 12.9163 11.0678 13.0825C11.6806 13.2293 12.3194 13.2293 12.9322 13.0825C13.6255 12.9163 14.2671 12.4886 15.5501 11.6333L21 8M6.2 19H17.8C18.9201 19 19.4802 19 19.908 18.782C20.2843 18.5903 20.5903 18.2843 20.782 17.908C21 17.4802 21 16.9201 21 15.8V8.2C21 7.0799 21 6.51984 20.782 6.09202C20.5903 5.71569 20.2843 5.40973 19.908 5.21799C19.4802 5 18.9201 5 17.8 5H6.2C5.0799 5 4.51984 5 4.09202 5.21799C3.71569 5.40973 3.40973 5.71569 3.21799 6.09202C3 6.51984 3 7.07989 3 8.2V15.8C3 16.9201 3 17.4802 3.21799 17.908C3.40973 18.2843 3.71569 18.5903 4.09202 18.782C4.51984 19 5.07989 19 6.2 19Z" stroke="#a5a4bf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg> Inbox </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg fill="#a5a4bf" width="64px" height="64px" viewBox="0 0 52 52" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><path d="M31.9,39.5h6A1.42,1.42,0,0,0,39.4,38V14a1.42,1.42,0,0,0-1.5-1.5h-6A1.42,1.42,0,0,0,30.4,14V38A1.42,1.42,0,0,0,31.9,39.5Z"></path> <path d="M45.4,39.5h3A1.42,1.42,0,0,0,49.9,38V14a1.42,1.42,0,0,0-1.5-1.5h-3A1.42,1.42,0,0,0,43.9,14V38A1.42,1.42,0,0,0,45.4,39.5Z"></path> <path d="M25,39.5h0A1.37,1.37,0,0,0,26.5,38V14A1.42,1.42,0,0,0,25,12.5h0A1.42,1.42,0,0,0,23.5,14V38A1.37,1.37,0,0,0,25,39.5Z"></path> <path d="M16.6,39.5H18A1.42,1.42,0,0,0,19.5,38V14A1.42,1.42,0,0,0,18,12.5H16.5A1.42,1.42,0,0,0,15,14V38A1.45,1.45,0,0,0,16.6,39.5Z"></path> <path d="M3.6,39.5h6A1.42,1.42,0,0,0,11.1,38V14a1.42,1.42,0,0,0-1.5-1.5h-6A1.42,1.42,0,0,0,2.1,14V38A1.47,1.47,0,0,0,3.6,39.5Z"></path></g></g></svg> Products </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg fill="#a5a4bf" width="64px" height="64px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M18,2H6A2,2,0,0,0,4,4V22l3-3,2,3,3-3,3,3,2-3,3,3V4A2,2,0,0,0,18,2ZM12,16H8a1,1,0,0,1,0-2h4a1,1,0,0,1,0,2Zm0-4H8a1,1,0,0,1,0-2h4a1,1,0,0,1,0,2Zm4,4H15a1,1,0,0,1,0-2h1a1,1,0,0,1,0,2Zm0-4H15a1,1,0,0,1,0-2h1a1,1,0,0,1,0,2Zm0-5H8A1,1,0,0,1,8,5h8a1,1,0,0,1,0,2Z"></path></g></svg> Invoices </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#a5a4bf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#a5a4bf" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg> Customers </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg fill="#a5a4bf" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><path d="M94.974,17.838c-0.127-1.257-1.16-2.241-2.443-2.277v-0.007H39.624c-1.315,0-2.384,1.004-2.513,2.284h-0.026v13.139h22.342 c1.174,0,2.127,0.896,2.243,2.039h0.023v29.232h11.009l6.488,6.487c0.456,0.677,1.229,1.122,2.106,1.122 c1.402,0,2.538-1.136,2.538-2.537v-5.072h8.698V62.24c1.197-0.033,2.188-0.889,2.417-2.027H95V17.838H94.974z"></path> <path d="M54.44,35.964H7.204v0.006c-1.144,0.031-2.067,0.91-2.181,2.033H5v37.835h0.046c0.205,1.015,1.09,1.779,2.158,1.809v0.006 h7.765v4.529c0,1.25,1.015,2.265,2.266,2.265c0.783,0,1.474-0.398,1.88-1.002l5.792-5.792H54.44c1.096,0,2.011-0.78,2.22-1.815 h0.045V38.003h-0.023C56.568,36.859,55.614,35.964,54.44,35.964z"></path></g></g></svg> Chat Room</a></li>',7)),ee("li",_c,[ee("a",lc,[(En(),Sn("svg",cc,[a[9]||(a[9]=ee("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1)),a[10]||(a[10]=ee("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),ee("g",hc,[a[5]||(a[5]=ee("defs",{id:"defs9728"},null,-1)),a[6]||(a[6]=Me()),Oe(r,{id:"namedview9726",pagecolor:"#ffffff",bordercolor:"#666666",borderopacity:"1.0","inkscape:showpageshadow":"2","inkscape:pageopacity":"0.0","inkscape:pagecheckerboard":"0","inkscape:deskcolor":"#d1d1d1",showgrid:"true","inkscape:zoom":"0.84118632","inkscape:cx":"136.11729","inkscape:cy":"439.26059","inkscape:window-width":"1920","inkscape:window-height":"1009","inkscape:window-x":"0","inkscape:window-y":"1080","inkscape:window-maximized":"1","inkscape:current-layer":"g10449",showguides:"true"},{default:Ri(()=>[Oe(d,{type:"xygrid",id:"grid9972",originx:"0",originy:"0"}),a[0]||(a[0]=Me()),Oe(_,{position:"-260,300",orientation:"0,-1",id:"guide383","inkscape:locked":"false"}),a[1]||(a[1]=Me()),Oe(_,{position:"300,520",orientation:"1,0",id:"guide385","inkscape:locked":"false"}),a[2]||(a[2]=Me()),Oe(_,{position:"240,520",orientation:"0,-1",id:"guide939","inkscape:locked":"false"}),a[3]||(a[3]=Me()),Oe(_,{position:"220,80",orientation:"0,-1",id:"guide941","inkscape:locked":"false"}),a[4]||(a[4]=Me()),Oe(_,{position:"335,335",orientation:"0,-1",id:"guide1236","inkscape:locked":"false"})]),_:1}),a[7]||(a[7]=Me()),a[8]||(a[8]=ee("g",{id:"g10449",transform:"matrix(0.95173205,0,0,0.95115787,13.901174,12.168794)",style:{"stroke-width":"1.05103"}},[ee("g",{id:"path10026","inkscape:transform-center-x":"-0.59233046","inkscape:transform-center-y":"-20.347403",transform:"matrix(1.3807551,0,0,1.2700888,273.60014,263.99768)"}),Me(),ee("g",{id:"g11314",transform:"matrix(1.5092301,0,0,1.3955555,36.774048,-9.4503933)",style:{"stroke-width":"50.6951"}}),Me(),ee("path",{id:"rect348",style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"M 143.0012 -12.781343 A 42.041302 42.041302 0 0 0 100.9582 29.260344 L 100.9582 61.459996 L 27.434765 61.459996 A 42.045506 42.045506 0 0 0 -14.606185 103.50168 L -14.606185 575.97476 A 42.045506 42.045506 0 0 0 27.434765 618.01645 L 573.78036 618.01645 A 42.045506 42.045506 0 0 0 615.82336 575.97476 L 615.82336 103.50168 A 42.045506 42.045506 0 0 0 573.78036 61.459996 L 500.25692 61.459996 L 500.25692 29.260344 A 42.041302 42.041302 0 0 0 458.21597 -12.781343 A 42.041302 42.041302 0 0 0 416.17297 29.260344 L 416.17297 61.459996 L 342.64954 61.459996 L 342.64954 29.260344 A 42.041302 42.041302 0 0 0 300.60859 -12.781343 A 42.041302 42.041302 0 0 0 258.56558 29.260344 L 258.56558 61.459996 L 185.04215 61.459996 L 185.04215 29.260344 A 42.041302 42.041302 0 0 0 143.0012 -12.781343 z M 69.475714 226.90186 L 531.73941 226.90186 L 531.73941 533.93307 L 69.475714 533.93307 L 69.475714 226.90186 z "}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 389.92187,265.81641 a 10.511401,10.511401 0 0 0 -10.50976,10.51171 v 76.44727 a 10.511401,10.511401 0 0 0 10.50976,10.50977 h 94.5586 a 10.511401,10.511401 0 0 0 10.50976,-10.50977 v -76.44727 a 10.511401,10.511401 0 0 0 -10.50976,-10.51171 z m 10.51172,21.02148 h 73.53711 v 55.42578 h -73.53711 z",id:"rect1123-6"}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 253.33008,265.81641 c -5.80553,-1.8e-4 -10.51189,4.70618 -10.51172,10.51171 v 76.44727 c 9e-4,5.80477 4.70695,10.50995 10.51172,10.50977 h 94.55664 c 5.80477,1.8e-4 10.51082,-4.705 10.51172,-10.50977 v -76.44727 c 1.7e-4,-5.80553 -4.70619,-10.51189 -10.51172,-10.51171 z",id:"rect1123-6-2","sodipodi:nodetypes":"ccccccccc"}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-width":"1.05103","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 116.73786,264.38955 c -5.80553,-1.8e-4 -10.51189,4.70618 -10.51172,10.51171 v 76.44727 c 9e-4,5.80477 4.70695,10.50995 10.51172,10.50977 h 94.55664 c 5.80477,1.8e-4 10.51082,-4.705 10.51172,-10.50977 v -76.44727 c 1.7e-4,-5.80553 -4.70619,-10.51189 -10.51172,-10.51171 z",id:"rect1123-6-2-9","sodipodi:nodetypes":"ccccccccc"}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-width":"1.05103","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 253.33027,394.38567 c -5.80553,-1.8e-4 -10.51189,4.70618 -10.51172,10.51171 v 76.44727 c 9e-4,5.80477 4.70695,10.50995 10.51172,10.50977 h 94.55664 c 5.80477,1.8e-4 10.51082,-4.705 10.51172,-10.50977 v -76.44727 c 1.7e-4,-5.80553 -4.70619,-10.51189 -10.51172,-10.51171 z",id:"rect1123-6-2-1","sodipodi:nodetypes":"ccccccccc"}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-width":"1.05103","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 389.92267,395.80832 c -5.80553,-1.8e-4 -10.51189,4.70618 -10.51172,10.51171 v 76.44727 c 9e-4,5.80477 4.70695,10.50995 10.51172,10.50977 h 94.55664 c 5.80477,1.8e-4 10.51082,-4.705 10.51172,-10.50977 v -76.44727 c 1.7e-4,-5.80553 -4.70619,-10.51189 -10.51172,-10.51171 z",id:"rect1123-6-2-1-7","sodipodi:nodetypes":"ccccccccc"}),Me(),ee("path",{style:{color:"#a3a0fb",fill:"#a3a0fb","stroke-width":"1.05103","stroke-linecap":"round","stroke-linejoin":"round","-inkscape-stroke":"none","paint-order":"stroke fill markers"},d:"m 116.73805,392.95881 c -5.80553,-1.8e-4 -10.51189,4.70618 -10.51172,10.51171 v 76.44727 c 9e-4,5.80477 4.70695,10.50995 10.51172,10.50977 h 94.55664 c 5.80477,1.8e-4 10.51082,-4.705 10.51172,-10.50977 v -76.44727 c 1.7e-4,-5.80553 -4.70619,-10.51189 -10.51172,-10.51171 z",id:"rect1123-6-2-9-2","sodipodi:nodetypes":"ccccccccc"})],-1))])])),a[11]||(a[11]=Me(" Calendar "))])]),a[13]||(a[13]=Or('<li class="nav-item"><a href="#" class="nav-item-link"><svg fill="#a5a4bf" height="64px" width="64px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><g><path d="M492.51,158.033C438.49,27.618,288.45-34.53,158.034,19.49C27.619,73.51-34.53,223.549,19.49,353.965 C73.51,484.382,223.551,546.53,353.965,492.509C484.381,438.49,546.53,288.45,492.51,158.033z M142.887,302.854l-92.548,38.334 c-23.486-56.703-21.72-117.672,0.096-170.336l92.506,38.317C130.942,238.136,129.97,271.668,142.887,302.854z M341.149,50.433 l-38.317,92.506c-28.965-11.997-62.499-12.97-93.685-0.053l-38.335-92.547C227.515,26.853,288.484,28.619,341.149,50.433z M170.852,461.566l38.317-92.506c28.965,11.998,62.499,12.97,93.685,0.053l38.335,92.547 C284.486,485.148,223.517,483.38,170.852,461.566z M290.075,338.265c-45.36,18.789-97.55-2.829-116.339-48.189 c-18.789-45.362,2.829-97.553,48.19-116.341c45.36-18.788,97.55,2.829,116.339,48.19 C357.053,267.285,335.436,319.476,290.075,338.265z M461.566,341.148L369.06,302.83c11.998-28.965,12.971-62.498,0.053-93.684 l92.547-38.335C485.148,227.514,483.38,288.482,461.566,341.148z"></path></g></g></g></svg> Help Center </a></li><li class="nav-item"><a href="#" class="nav-item-link"><svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.2788 2.15224C13.9085 2 13.439 2 12.5 2C11.561 2 11.0915 2 10.7212 2.15224C10.2274 2.35523 9.83509 2.74458 9.63056 3.23463C9.53719 3.45834 9.50065 3.7185 9.48635 4.09799C9.46534 4.65568 9.17716 5.17189 8.69017 5.45093C8.20318 5.72996 7.60864 5.71954 7.11149 5.45876C6.77318 5.2813 6.52789 5.18262 6.28599 5.15102C5.75609 5.08178 5.22018 5.22429 4.79616 5.5472C4.47814 5.78938 4.24339 6.1929 3.7739 6.99993C3.30441 7.80697 3.06967 8.21048 3.01735 8.60491C2.94758 9.1308 3.09118 9.66266 3.41655 10.0835C3.56506 10.2756 3.77377 10.437 4.0977 10.639C4.57391 10.936 4.88032 11.4419 4.88029 12C4.88026 12.5581 4.57386 13.0639 4.0977 13.3608C3.77372 13.5629 3.56497 13.7244 3.41645 13.9165C3.09108 14.3373 2.94749 14.8691 3.01725 15.395C3.06957 15.7894 3.30432 16.193 3.7738 17C4.24329 17.807 4.47804 18.2106 4.79606 18.4527C5.22008 18.7756 5.75599 18.9181 6.28589 18.8489C6.52778 18.8173 6.77305 18.7186 7.11133 18.5412C7.60852 18.2804 8.2031 18.27 8.69012 18.549C9.17714 18.8281 9.46533 19.3443 9.48635 19.9021C9.50065 20.2815 9.53719 20.5417 9.63056 20.7654C9.83509 21.2554 10.2274 21.6448 10.7212 21.8478C11.0915 22 11.561 22 12.5 22C13.439 22 13.9085 22 14.2788 21.8478C14.7726 21.6448 15.1649 21.2554 15.3694 20.7654C15.4628 20.5417 15.4994 20.2815 15.5137 19.902C15.5347 19.3443 15.8228 18.8281 16.3098 18.549C16.7968 18.2699 17.3914 18.2804 17.8886 18.5412C18.2269 18.7186 18.4721 18.8172 18.714 18.8488C19.2439 18.9181 19.7798 18.7756 20.2038 18.4527C20.5219 18.2105 20.7566 17.807 21.2261 16.9999C21.6956 16.1929 21.9303 15.7894 21.9827 15.395C22.0524 14.8691 21.9088 14.3372 21.5835 13.9164C21.4349 13.7243 21.2262 13.5628 20.9022 13.3608C20.4261 13.0639 20.1197 12.558 20.1197 11.9999C20.1197 11.4418 20.4261 10.9361 20.9022 10.6392C21.2263 10.4371 21.435 10.2757 21.5836 10.0835C21.9089 9.66273 22.0525 9.13087 21.9828 8.60497C21.9304 8.21055 21.6957 7.80703 21.2262 7C20.7567 6.19297 20.522 5.78945 20.2039 5.54727C19.7799 5.22436 19.244 5.08185 18.7141 5.15109C18.4722 5.18269 18.2269 5.28136 17.8887 5.4588C17.3915 5.71959 16.7969 5.73002 16.3099 5.45096C15.8229 5.17191 15.5347 4.65566 15.5136 4.09794C15.4993 3.71848 15.4628 3.45833 15.3694 3.23463C15.1649 2.74458 14.7726 2.35523 14.2788 2.15224ZM12.5 15C14.1695 15 15.5228 13.6569 15.5228 12C15.5228 10.3431 14.1695 9 12.5 9C10.8305 9 9.47716 10.3431 9.47716 12C9.47716 13.6569 10.8305 15 12.5 15Z" fill="#a5a4bf"></path></g></svg> Settings </a></li>',2))])])]),a[15]||(a[15]=ee("header",{class:"header"},[ee("div",{class:"header-left"},[ee("div",{class:"search"},[ee("form",{action:"",method:"",class:"search-form"},[ee("button",{type:"submit",class:"search-form-button"}),ee("input",{type:"search",placeholder:"Search transactions, invoices or help",class:"search-form-input"})])])]),ee("div",{class:"header-right"},[ee("div",{class:"links"},[ee("ul",{class:"links-items"},[ee("li",{class:"links-item"},[ee("a",{href:"#",class:"links-item-link"},[ee("svg",{fill:"#a5a4bf",height:"64px",width:"64px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512","xml:space":"preserve"},[ee("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),ee("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),ee("g",{id:"SVGRepo_iconCarrier"},[ee("g",null,[ee("g",null,[ee("path",{d:"M492.51,158.033C438.49,27.618,288.45-34.53,158.034,19.49C27.619,73.51-34.53,223.549,19.49,353.965 C73.51,484.382,223.551,546.53,353.965,492.509C484.381,438.49,546.53,288.45,492.51,158.033z M142.887,302.854l-92.548,38.334 c-23.486-56.703-21.72-117.672,0.096-170.336l92.506,38.317C130.942,238.136,129.97,271.668,142.887,302.854z M341.149,50.433 l-38.317,92.506c-28.965-11.997-62.499-12.97-93.685-0.053l-38.335-92.547C227.515,26.853,288.484,28.619,341.149,50.433z M170.852,461.566l38.317-92.506c28.965,11.998,62.499,12.97,93.685,0.053l38.335,92.547 C284.486,485.148,223.517,483.38,170.852,461.566z M290.075,338.265c-45.36,18.789-97.55-2.829-116.339-48.189 c-18.789-45.362,2.829-97.553,48.19-116.341c45.36-18.788,97.55,2.829,116.339,48.19 C357.053,267.285,335.436,319.476,290.075,338.265z M461.566,341.148L369.06,302.83c11.998-28.965,12.971-62.498,0.053-93.684 l92.547-38.335C485.148,227.514,483.38,288.482,461.566,341.148z"})])])])])])]),ee("li",{class:"links-item"},[ee("a",{href:"#",class:"links-item-link"},[ee("svg",{fill:"#a5a4bf",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"64px",height:"64px",viewBox:"0 0 100 100","enable-background":"new 0 0 100 100","xml:space":"preserve"},[ee("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),ee("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),ee("g",{id:"SVGRepo_iconCarrier"},[ee("g",null,[ee("path",{d:"M94.974,17.838c-0.127-1.257-1.16-2.241-2.443-2.277v-0.007H39.624c-1.315,0-2.384,1.004-2.513,2.284h-0.026v13.139h22.342 c1.174,0,2.127,0.896,2.243,2.039h0.023v29.232h11.009l6.488,6.487c0.456,0.677,1.229,1.122,2.106,1.122 c1.402,0,2.538-1.136,2.538-2.537v-5.072h8.698V62.24c1.197-0.033,2.188-0.889,2.417-2.027H95V17.838H94.974z"}),Me(),ee("path",{d:"M54.44,35.964H7.204v0.006c-1.144,0.031-2.067,0.91-2.181,2.033H5v37.835h0.046c0.205,1.015,1.09,1.779,2.158,1.809v0.006 h7.765v4.529c0,1.25,1.015,2.265,2.266,2.265c0.783,0,1.474-0.398,1.88-1.002l5.792-5.792H54.44c1.096,0,2.011-0.78,2.22-1.815 h0.045V38.003h-0.023C56.568,36.859,55.614,35.964,54.44,35.964z"})])])])])]),ee("li",{class:"links-item"},[ee("a",{href:"#",class:"links-item-link"},[ee("svg",{fill:"#a5a4bf",width:"64px",height:"64px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[ee("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),ee("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),ee("g",{id:"SVGRepo_iconCarrier"},[ee("path",{d:"M20,18H4l2-2V10a6,6,0,0,1,5-5.91V3a1,1,0,0,1,2,0V4.09a5.9,5.9,0,0,1,1.3.4A3.992,3.992,0,0,0,18,10v6Zm-8,4a2,2,0,0,0,2-2H10A2,2,0,0,0,12,22ZM18,4a2,2,0,1,0,2,2A2,2,0,0,0,18,4Z"})])])])])])]),ee("div",{class:"account"},[ee("a",{href:"#",class:"account-link"},[ee("span",{class:"account-name"},"John Doe"),ee("img",{src:nc,class:"account-photo",alt:"John Doe"})])])])],-1)),ee("main",uc,[Oe(s,{events:o.events},null,8,["events"])])])}const pc=Co(rc,[["render",fc]]);t_(pc).mount("#app");
